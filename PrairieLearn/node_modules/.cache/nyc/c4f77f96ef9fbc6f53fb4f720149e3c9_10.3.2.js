var cov_qx0xaiss8=function(){var path='/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/databaseDiff.js',hash='eaaad6e7883ad11ce45dac17d13bda16a722c0f0',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/databaseDiff.js',statementMap:{'0':{start:{line:1,column:12},end:{line:1,column:39}},'1':{start:{line:2,column:14},end:{line:2,column:30}},'2':{start:{line:3,column:11},end:{line:3,column:30}},'3':{start:{line:4,column:13},end:{line:4,column:28}},'4':{start:{line:5,column:15},end:{line:5,column:32}},'5':{start:{line:6,column:10},end:{line:6,column:27}},'6':{start:{line:7,column:15},end:{line:7,column:30}},'7':{start:{line:9,column:17},end:{line:9,column:46}},'8':{start:{line:11,column:0},end:{line:11,column:20}},'9':{start:{line:15,column:8},end:{line:17,column:9}},'10':{start:{line:16,column:12},end:{line:16,column:35}},'11':{start:{line:18,column:8},end:{line:18,column:20}},'12':{start:{line:21,column:18},end:{line:21,column:63}},'13':{start:{line:24,column:17},end:{line:24,column:19}},'14':{start:{line:26,column:4},end:{line:132,column:7}},'15':{start:{line:28,column:12},end:{line:32,column:15}},'16':{start:{line:29,column:16},end:{line:29,column:47}},'17':{start:{line:29,column:40},end:{line:29,column:47}},'18':{start:{line:30,column:16},end:{line:30,column:43}},'19':{start:{line:31,column:16},end:{line:31,column:31}},'20':{start:{line:35,column:12},end:{line:39,column:15}},'21':{start:{line:36,column:16},end:{line:36,column:47}},'22':{start:{line:36,column:40},end:{line:36,column:47}},'23':{start:{line:37,column:16},end:{line:37,column:43}},'24':{start:{line:38,column:16},end:{line:38,column:31}},'25':{start:{line:43,column:31},end:{line:43,column:101}},'26':{start:{line:44,column:31},end:{line:44,column:101}},'27':{start:{line:45,column:30},end:{line:45,column:62}},'28':{start:{line:47,column:12},end:{line:50,column:13}},'29':{start:{line:48,column:16},end:{line:48,column:105}},'30':{start:{line:49,column:16},end:{line:49,column:112}},'31':{start:{line:49,column:63},end:{line:49,column:75}},'32':{start:{line:52,column:12},end:{line:55,column:13}},'33':{start:{line:53,column:16},end:{line:53,column:109}},'34':{start:{line:54,column:16},end:{line:54,column:110}},'35':{start:{line:54,column:63},end:{line:54,column:75}},'36':{start:{line:57,column:12},end:{line:57,column:27}},'37':{start:{line:61,column:31},end:{line:61,column:99}},'38':{start:{line:62,column:31},end:{line:62,column:99}},'39':{start:{line:64,column:30},end:{line:64,column:62}},'40':{start:{line:66,column:12},end:{line:69,column:13}},'41':{start:{line:67,column:16},end:{line:67,column:104}},'42':{start:{line:68,column:16},end:{line:68,column:118}},'43':{start:{line:68,column:66},end:{line:68,column:81}},'44':{start:{line:71,column:12},end:{line:74,column:13}},'45':{start:{line:72,column:16},end:{line:72,column:108}},'46':{start:{line:73,column:16},end:{line:73,column:116}},'47':{start:{line:73,column:66},end:{line:73,column:81}},'48':{start:{line:76,column:12},end:{line:76,column:27}},'49':{start:{line:80,column:31},end:{line:80,column:103}},'50':{start:{line:81,column:12},end:{line:110,column:15}},'51':{start:{line:83,column:29},end:{line:83,column:129}},'52':{start:{line:84,column:16},end:{line:84,column:45}},'53':{start:{line:84,column:38},end:{line:84,column:45}},'54':{start:{line:86,column:34},end:{line:86,column:64}},'55':{start:{line:87,column:16},end:{line:87,column:94}},'56':{start:{line:90,column:16},end:{line:96,column:17}},'57':{start:{line:91,column:31},end:{line:91,column:48}},'58':{start:{line:92,column:20},end:{line:95,column:21}},'59':{start:{line:93,column:24},end:{line:93,column:62}},'60':{start:{line:94,column:24},end:{line:94,column:61}},'61':{start:{line:98,column:16},end:{line:108,column:19}},'62':{start:{line:99,column:20},end:{line:101,column:21}},'63':{start:{line:100,column:24},end:{line:100,column:55}},'64':{start:{line:102,column:33},end:{line:102,column:79}},'65':{start:{line:103,column:33},end:{line:103,column:73}},'66':{start:{line:104,column:20},end:{line:106,column:21}},'67':{start:{line:105,column:24},end:{line:105,column:64}},'68':{start:{line:107,column:20},end:{line:107,column:111}},'69':{start:{line:109,column:16},end:{line:109,column:33}},'70':{start:{line:111,column:12},end:{line:111,column:27}},'71':{start:{line:115,column:31},end:{line:115,column:101}},'72':{start:{line:116,column:12},end:{line:126,column:15}},'73':{start:{line:119,column:16},end:{line:125,column:17}},'74':{start:{line:120,column:37},end:{line:120,column:70}},'75':{start:{line:121,column:20},end:{line:121,column:78}},'76':{start:{line:122,column:20},end:{line:122,column:99}},'77':{start:{line:123,column:20},end:{line:123,column:101}},'78':{start:{line:124,column:20},end:{line:124,column:37}},'79':{start:{line:127,column:12},end:{line:127,column:27}},'80':{start:{line:130,column:8},end:{line:130,column:39}},'81':{start:{line:130,column:32},end:{line:130,column:39}},'82':{start:{line:131,column:8},end:{line:131,column:31}},'83':{start:{line:136,column:24},end:{line:139,column:5}},'84':{start:{line:141,column:4},end:{line:187,column:7}},'85':{start:{line:143,column:12},end:{line:146,column:15}},'86':{start:{line:144,column:16},end:{line:144,column:47}},'87':{start:{line:144,column:40},end:{line:144,column:47}},'88':{start:{line:145,column:16},end:{line:145,column:40}},'89':{start:{line:149,column:12},end:{line:158,column:15}},'90':{start:{line:150,column:16},end:{line:154,column:19}},'91':{start:{line:151,column:20},end:{line:151,column:51}},'92':{start:{line:151,column:44},end:{line:151,column:51}},'93':{start:{line:152,column:20},end:{line:152,column:72}},'94':{start:{line:153,column:20},end:{line:153,column:35}},'95':{start:{line:156,column:16},end:{line:156,column:47}},'96':{start:{line:156,column:40},end:{line:156,column:47}},'97':{start:{line:157,column:16},end:{line:157,column:31}},'98':{start:{line:161,column:12},end:{line:170,column:15}},'99':{start:{line:162,column:16},end:{line:168,column:17}},'100':{start:{line:163,column:20},end:{line:167,column:21}},'101':{start:{line:164,column:24},end:{line:164,column:46}},'102':{start:{line:166,column:24},end:{line:166,column:50}},'103':{start:{line:169,column:16},end:{line:169,column:40}},'104':{start:{line:173,column:12},end:{line:182,column:15}},'105':{start:{line:174,column:16},end:{line:178,column:19}},'106':{start:{line:175,column:20},end:{line:175,column:51}},'107':{start:{line:175,column:44},end:{line:175,column:51}},'108':{start:{line:176,column:20},end:{line:176,column:71}},'109':{start:{line:177,column:20},end:{line:177,column:35}},'110':{start:{line:180,column:16},end:{line:180,column:47}},'111':{start:{line:180,column:40},end:{line:180,column:47}},'112':{start:{line:181,column:16},end:{line:181,column:31}},'113':{start:{line:185,column:8},end:{line:185,column:39}},'114':{start:{line:185,column:32},end:{line:185,column:39}},'115':{start:{line:186,column:8},end:{line:186,column:36}},'116':{start:{line:191,column:20},end:{line:195,column:5}},'117':{start:{line:197,column:4},end:{line:197,column:48}},'118':{start:{line:201,column:4},end:{line:207,column:5}},'119':{start:{line:202,column:8},end:{line:202,column:62}},'120':{start:{line:203,column:11},end:{line:207,column:5}},'121':{start:{line:204,column:8},end:{line:204,column:58}},'122':{start:{line:206,column:8},end:{line:206,column:60}},'123':{start:{line:210,column:0},end:{line:222,column:2}},'124':{start:{line:211,column:16},end:{line:214,column:5}},'125':{start:{line:216,column:16},end:{line:219,column:5}},'126':{start:{line:221,column:4},end:{line:221,column:38}},'127':{start:{line:224,column:0},end:{line:236,column:2}},'128':{start:{line:225,column:16},end:{line:228,column:5}},'129':{start:{line:230,column:16},end:{line:233,column:5}},'130':{start:{line:235,column:4},end:{line:235,column:38}},'131':{start:{line:238,column:0},end:{line:250,column:2}},'132':{start:{line:239,column:16},end:{line:242,column:5}},'133':{start:{line:244,column:16},end:{line:247,column:5}},'134':{start:{line:249,column:4},end:{line:249,column:38}},'135':{start:{line:252,column:0},end:{line:264,column:2}},'136':{start:{line:253,column:16},end:{line:256,column:5}},'137':{start:{line:258,column:16},end:{line:261,column:5}},'138':{start:{line:263,column:4},end:{line:263,column:38}}},fnMap:{'0':{name:'diff',decl:{start:{line:13,column:9},end:{line:13,column:13}},loc:{start:{line:13,column:43},end:{line:133,column:1}},line:13},'1':{name:'formatText',decl:{start:{line:14,column:13},end:{line:14,column:23}},loc:{start:{line:14,column:41},end:{line:19,column:5}},line:14},'2':{name:'(anonymous_2)',decl:{start:{line:27,column:8},end:{line:27,column:9}},loc:{start:{line:27,column:22},end:{line:33,column:9}},line:27},'3':{name:'(anonymous_3)',decl:{start:{line:28,column:33},end:{line:28,column:34}},loc:{start:{line:28,column:55},end:{line:32,column:13}},line:28},'4':{name:'(anonymous_4)',decl:{start:{line:34,column:8},end:{line:34,column:9}},loc:{start:{line:34,column:22},end:{line:40,column:9}},line:34},'5':{name:'(anonymous_5)',decl:{start:{line:35,column:33},end:{line:35,column:34}},loc:{start:{line:35,column:55},end:{line:39,column:13}},line:35},'6':{name:'(anonymous_6)',decl:{start:{line:41,column:8},end:{line:41,column:9}},loc:{start:{line:41,column:22},end:{line:58,column:9}},line:41},'7':{name:'(anonymous_7)',decl:{start:{line:49,column:54},end:{line:49,column:55}},loc:{start:{line:49,column:63},end:{line:49,column:75}},line:49},'8':{name:'(anonymous_8)',decl:{start:{line:54,column:54},end:{line:54,column:55}},loc:{start:{line:54,column:63},end:{line:54,column:75}},line:54},'9':{name:'(anonymous_9)',decl:{start:{line:59,column:8},end:{line:59,column:9}},loc:{start:{line:59,column:22},end:{line:77,column:9}},line:59},'10':{name:'(anonymous_10)',decl:{start:{line:68,column:54},end:{line:68,column:55}},loc:{start:{line:68,column:66},end:{line:68,column:81}},line:68},'11':{name:'(anonymous_11)',decl:{start:{line:73,column:54},end:{line:73,column:55}},loc:{start:{line:73,column:66},end:{line:73,column:81}},line:73},'12':{name:'(anonymous_12)',decl:{start:{line:78,column:8},end:{line:78,column:9}},loc:{start:{line:78,column:22},end:{line:112,column:9}},line:78},'13':{name:'(anonymous_13)',decl:{start:{line:81,column:36},end:{line:81,column:37}},loc:{start:{line:81,column:47},end:{line:110,column:13}},line:81},'14':{name:'(anonymous_14)',decl:{start:{line:98,column:32},end:{line:98,column:33}},loc:{start:{line:98,column:49},end:{line:108,column:17}},line:98},'15':{name:'(anonymous_15)',decl:{start:{line:113,column:8},end:{line:113,column:9}},loc:{start:{line:113,column:22},end:{line:128,column:9}},line:113},'16':{name:'(anonymous_16)',decl:{start:{line:116,column:36},end:{line:116,column:37}},loc:{start:{line:116,column:50},end:{line:126,column:13}},line:116},'17':{name:'(anonymous_17)',decl:{start:{line:129,column:7},end:{line:129,column:8}},loc:{start:{line:129,column:16},end:{line:132,column:5}},line:129},'18':{name:'loadDescriptionFromDisk',decl:{start:{line:135,column:9},end:{line:135,column:32}},loc:{start:{line:135,column:52},end:{line:188,column:1}},line:135},'19':{name:'(anonymous_19)',decl:{start:{line:142,column:8},end:{line:142,column:9}},loc:{start:{line:142,column:22},end:{line:147,column:9}},line:142},'20':{name:'(anonymous_20)',decl:{start:{line:143,column:53},end:{line:143,column:54}},loc:{start:{line:143,column:71},end:{line:146,column:13}},line:143},'21':{name:'(anonymous_21)',decl:{start:{line:148,column:8},end:{line:148,column:9}},loc:{start:{line:148,column:31},end:{line:159,column:9}},line:148},'22':{name:'(anonymous_22)',decl:{start:{line:149,column:32},end:{line:149,column:33}},loc:{start:{line:149,column:53},end:{line:155,column:13}},line:149},'23':{name:'(anonymous_23)',decl:{start:{line:150,column:73},end:{line:150,column:74}},loc:{start:{line:150,column:88},end:{line:154,column:17}},line:150},'24':{name:'(anonymous_24)',decl:{start:{line:155,column:15},end:{line:155,column:16}},loc:{start:{line:155,column:24},end:{line:158,column:13}},line:155},'25':{name:'(anonymous_25)',decl:{start:{line:160,column:8},end:{line:160,column:9}},loc:{start:{line:160,column:22},end:{line:171,column:9}},line:160},'26':{name:'(anonymous_26)',decl:{start:{line:161,column:52},end:{line:161,column:53}},loc:{start:{line:161,column:70},end:{line:170,column:13}},line:161},'27':{name:'(anonymous_27)',decl:{start:{line:172,column:8},end:{line:172,column:9}},loc:{start:{line:172,column:31},end:{line:183,column:9}},line:172},'28':{name:'(anonymous_28)',decl:{start:{line:173,column:32},end:{line:173,column:33}},loc:{start:{line:173,column:53},end:{line:179,column:13}},line:173},'29':{name:'(anonymous_29)',decl:{start:{line:174,column:72},end:{line:174,column:73}},loc:{start:{line:174,column:87},end:{line:178,column:17}},line:174},'30':{name:'(anonymous_30)',decl:{start:{line:179,column:15},end:{line:179,column:16}},loc:{start:{line:179,column:24},end:{line:182,column:13}},line:179},'31':{name:'(anonymous_31)',decl:{start:{line:184,column:7},end:{line:184,column:8}},loc:{start:{line:184,column:16},end:{line:187,column:5}},line:184},'32':{name:'loadDescriptionFromDatabase',decl:{start:{line:190,column:9},end:{line:190,column:36}},loc:{start:{line:190,column:53},end:{line:198,column:1}},line:190},'33':{name:'loadDescription',decl:{start:{line:200,column:9},end:{line:200,column:24}},loc:{start:{line:200,column:39},end:{line:208,column:1}},line:200},'34':{name:'(anonymous_34)',decl:{start:{line:210,column:31},end:{line:210,column:32}},loc:{start:{line:210,column:80},end:{line:222,column:1}},line:210},'35':{name:'(anonymous_35)',decl:{start:{line:224,column:42},end:{line:224,column:43}},loc:{start:{line:224,column:91},end:{line:236,column:1}},line:224},'36':{name:'(anonymous_36)',decl:{start:{line:238,column:42},end:{line:238,column:43}},loc:{start:{line:238,column:91},end:{line:250,column:1}},line:238},'37':{name:'(anonymous_37)',decl:{start:{line:252,column:33},end:{line:252,column:34}},loc:{start:{line:252,column:85},end:{line:264,column:1}},line:252}},branchMap:{'0':{loc:{start:{line:15,column:8},end:{line:17,column:9}},type:'if',locations:[{start:{line:15,column:8},end:{line:17,column:9}},{start:{line:15,column:8},end:{line:17,column:9}}],line:15},'1':{loc:{start:{line:15,column:12},end:{line:15,column:46}},type:'binary-expr',locations:[{start:{line:15,column:12},end:{line:15,column:33}},{start:{line:15,column:37},end:{line:15,column:46}}],line:15},'2':{loc:{start:{line:21,column:18},end:{line:21,column:63}},type:'cond-expr',locations:[{start:{line:21,column:44},end:{line:21,column:52}},{start:{line:21,column:55},end:{line:21,column:63}}],line:21},'3':{loc:{start:{line:29,column:16},end:{line:29,column:47}},type:'if',locations:[{start:{line:29,column:16},end:{line:29,column:47}},{start:{line:29,column:16},end:{line:29,column:47}}],line:29},'4':{loc:{start:{line:36,column:16},end:{line:36,column:47}},type:'if',locations:[{start:{line:36,column:16},end:{line:36,column:47}},{start:{line:36,column:16},end:{line:36,column:47}}],line:36},'5':{loc:{start:{line:47,column:12},end:{line:50,column:13}},type:'if',locations:[{start:{line:47,column:12},end:{line:50,column:13}},{start:{line:47,column:12},end:{line:50,column:13}}],line:47},'6':{loc:{start:{line:52,column:12},end:{line:55,column:13}},type:'if',locations:[{start:{line:52,column:12},end:{line:55,column:13}},{start:{line:52,column:12},end:{line:55,column:13}}],line:52},'7':{loc:{start:{line:66,column:12},end:{line:69,column:13}},type:'if',locations:[{start:{line:66,column:12},end:{line:69,column:13}},{start:{line:66,column:12},end:{line:69,column:13}}],line:66},'8':{loc:{start:{line:71,column:12},end:{line:74,column:13}},type:'if',locations:[{start:{line:71,column:12},end:{line:74,column:13}},{start:{line:71,column:12},end:{line:74,column:13}}],line:71},'9':{loc:{start:{line:84,column:16},end:{line:84,column:45}},type:'if',locations:[{start:{line:84,column:16},end:{line:84,column:45}},{start:{line:84,column:16},end:{line:84,column:45}}],line:84},'10':{loc:{start:{line:92,column:20},end:{line:95,column:21}},type:'if',locations:[{start:{line:92,column:20},end:{line:95,column:21}},{start:{line:92,column:20},end:{line:95,column:21}}],line:92},'11':{loc:{start:{line:99,column:20},end:{line:101,column:21}},type:'if',locations:[{start:{line:99,column:20},end:{line:101,column:21}},{start:{line:99,column:20},end:{line:101,column:21}}],line:99},'12':{loc:{start:{line:102,column:33},end:{line:102,column:79}},type:'cond-expr',locations:[{start:{line:102,column:46},end:{line:102,column:50}},{start:{line:102,column:53},end:{line:102,column:79}}],line:102},'13':{loc:{start:{line:102,column:53},end:{line:102,column:79}},type:'cond-expr',locations:[{start:{line:102,column:68},end:{line:102,column:72}},{start:{line:102,column:75},end:{line:102,column:79}}],line:102},'14':{loc:{start:{line:104,column:20},end:{line:106,column:21}},type:'if',locations:[{start:{line:104,column:20},end:{line:106,column:21}},{start:{line:104,column:20},end:{line:106,column:21}}],line:104},'15':{loc:{start:{line:107,column:49},end:{line:107,column:109}},type:'cond-expr',locations:[{start:{line:107,column:62},end:{line:107,column:74}},{start:{line:107,column:77},end:{line:107,column:109}}],line:107},'16':{loc:{start:{line:107,column:77},end:{line:107,column:109}},type:'cond-expr',locations:[{start:{line:107,column:92},end:{line:107,column:102}},{start:{line:107,column:105},end:{line:107,column:109}}],line:107},'17':{loc:{start:{line:119,column:16},end:{line:125,column:17}},type:'if',locations:[{start:{line:119,column:16},end:{line:125,column:17}},{start:{line:119,column:16},end:{line:125,column:17}}],line:119},'18':{loc:{start:{line:130,column:8},end:{line:130,column:39}},type:'if',locations:[{start:{line:130,column:8},end:{line:130,column:39}},{start:{line:130,column:8},end:{line:130,column:39}}],line:130},'19':{loc:{start:{line:144,column:16},end:{line:144,column:47}},type:'if',locations:[{start:{line:144,column:16},end:{line:144,column:47}},{start:{line:144,column:16},end:{line:144,column:47}}],line:144},'20':{loc:{start:{line:151,column:20},end:{line:151,column:51}},type:'if',locations:[{start:{line:151,column:20},end:{line:151,column:51}},{start:{line:151,column:20},end:{line:151,column:51}}],line:151},'21':{loc:{start:{line:156,column:16},end:{line:156,column:47}},type:'if',locations:[{start:{line:156,column:16},end:{line:156,column:47}},{start:{line:156,column:16},end:{line:156,column:47}}],line:156},'22':{loc:{start:{line:162,column:16},end:{line:168,column:17}},type:'if',locations:[{start:{line:162,column:16},end:{line:168,column:17}},{start:{line:162,column:16},end:{line:168,column:17}}],line:162},'23':{loc:{start:{line:163,column:20},end:{line:167,column:21}},type:'if',locations:[{start:{line:163,column:20},end:{line:167,column:21}},{start:{line:163,column:20},end:{line:167,column:21}}],line:163},'24':{loc:{start:{line:175,column:20},end:{line:175,column:51}},type:'if',locations:[{start:{line:175,column:20},end:{line:175,column:51}},{start:{line:175,column:20},end:{line:175,column:51}}],line:175},'25':{loc:{start:{line:180,column:16},end:{line:180,column:47}},type:'if',locations:[{start:{line:180,column:16},end:{line:180,column:47}},{start:{line:180,column:16},end:{line:180,column:47}}],line:180},'26':{loc:{start:{line:185,column:8},end:{line:185,column:39}},type:'if',locations:[{start:{line:185,column:8},end:{line:185,column:39}},{start:{line:185,column:8},end:{line:185,column:39}}],line:185},'27':{loc:{start:{line:201,column:4},end:{line:207,column:5}},type:'if',locations:[{start:{line:201,column:4},end:{line:207,column:5}},{start:{line:201,column:4},end:{line:207,column:5}}],line:201},'28':{loc:{start:{line:203,column:11},end:{line:207,column:5}},type:'if',locations:[{start:{line:203,column:11},end:{line:207,column:5}},{start:{line:203,column:11},end:{line:207,column:5}}],line:203}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const ERR=(++cov_qx0xaiss8.s[0],require('async-stacktrace'));const async=(++cov_qx0xaiss8.s[1],require('async'));const fs=(++cov_qx0xaiss8.s[2],require('fs-extra'));const path=(++cov_qx0xaiss8.s[3],require('path'));const colors=(++cov_qx0xaiss8.s[4],require('colors'));const _=(++cov_qx0xaiss8.s[5],require('lodash'));const jsdiff=(++cov_qx0xaiss8.s[6],require('diff'));const describe=(++cov_qx0xaiss8.s[7],require('./databaseDescribe'));++cov_qx0xaiss8.s[8];module.exports={};function diff(db1,db2,options,callback){++cov_qx0xaiss8.f[0];function formatText(text,formatter){++cov_qx0xaiss8.f[1];++cov_qx0xaiss8.s[9];if((++cov_qx0xaiss8.b[1][0],options.coloredOutput)&&(++cov_qx0xaiss8.b[1][1],formatter)){++cov_qx0xaiss8.b[0][0];++cov_qx0xaiss8.s[10];return formatter(text);}else{++cov_qx0xaiss8.b[0][1];}++cov_qx0xaiss8.s[11];return text;}let db2Name=(++cov_qx0xaiss8.s[12],db2.type==='database'?(++cov_qx0xaiss8.b[2][0],db2.name):(++cov_qx0xaiss8.b[2][1],db2.path));let description1,description2;let result=(++cov_qx0xaiss8.s[13],'');++cov_qx0xaiss8.s[14];async.series([callback=>{++cov_qx0xaiss8.f[2];++cov_qx0xaiss8.s[15];loadDescription(db1,(err,description)=>{++cov_qx0xaiss8.f[3];++cov_qx0xaiss8.s[16];if(ERR(err,callback)){++cov_qx0xaiss8.b[3][0];++cov_qx0xaiss8.s[17];return;}else{++cov_qx0xaiss8.b[3][1];}++cov_qx0xaiss8.s[18];description1=description;++cov_qx0xaiss8.s[19];callback(null);});},callback=>{++cov_qx0xaiss8.f[4];++cov_qx0xaiss8.s[20];loadDescription(db2,(err,description)=>{++cov_qx0xaiss8.f[5];++cov_qx0xaiss8.s[21];if(ERR(err,callback)){++cov_qx0xaiss8.b[4][0];++cov_qx0xaiss8.s[22];return;}else{++cov_qx0xaiss8.b[4][1];}++cov_qx0xaiss8.s[23];description2=description;++cov_qx0xaiss8.s[24];callback(null);});},callback=>{++cov_qx0xaiss8.f[6];// Determine if both databases have the same tables
let missingFrom1=(++cov_qx0xaiss8.s[25],_.difference(_.keys(description2.tables),_.keys(description1.tables)));let missingFrom2=(++cov_qx0xaiss8.s[26],_.difference(_.keys(description1.tables),_.keys(description2.tables)));let db2NameBold=(++cov_qx0xaiss8.s[27],formatText(db2Name,colors.bold));++cov_qx0xaiss8.s[28];if(missingFrom1.length>0){++cov_qx0xaiss8.b[5][0];++cov_qx0xaiss8.s[29];result+=formatText(`Tables added to ${db2NameBold} (${db2.type})\n`,colors.underline);++cov_qx0xaiss8.s[30];result+=formatText(missingFrom1.map(table=>{++cov_qx0xaiss8.f[7];++cov_qx0xaiss8.s[31];return`+ ${table}`;}).join('\n')+'\n\n',colors.green);}else{++cov_qx0xaiss8.b[5][1];}++cov_qx0xaiss8.s[32];if(missingFrom2.length>0){++cov_qx0xaiss8.b[6][0];++cov_qx0xaiss8.s[33];result+=formatText(`Tables missing from ${db2NameBold} (${db2.type})\n`,colors.underline);++cov_qx0xaiss8.s[34];result+=formatText(missingFrom2.map(table=>{++cov_qx0xaiss8.f[8];++cov_qx0xaiss8.s[35];return`- ${table}`;}).join('\n')+'\n\n',colors.red);}else{++cov_qx0xaiss8.b[6][1];}++cov_qx0xaiss8.s[36];callback(null);},callback=>{++cov_qx0xaiss8.f[9];// Determine if both databases have the same enums
let missingFrom1=(++cov_qx0xaiss8.s[37],_.difference(_.keys(description2.enums),_.keys(description1.enums)));let missingFrom2=(++cov_qx0xaiss8.s[38],_.difference(_.keys(description1.enums),_.keys(description2.enums)));let db2NameBold=(++cov_qx0xaiss8.s[39],formatText(db2Name,colors.bold));++cov_qx0xaiss8.s[40];if(missingFrom1.length>0){++cov_qx0xaiss8.b[7][0];++cov_qx0xaiss8.s[41];result+=formatText(`Enums added to ${db2NameBold} (${db1.type})\n`,colors.underline);++cov_qx0xaiss8.s[42];result+=formatText(missingFrom1.map(enumName=>{++cov_qx0xaiss8.f[10];++cov_qx0xaiss8.s[43];return`+ ${enumName}`;}).join('\n')+'\n\n',colors.green);}else{++cov_qx0xaiss8.b[7][1];}++cov_qx0xaiss8.s[44];if(missingFrom2.length>0){++cov_qx0xaiss8.b[8][0];++cov_qx0xaiss8.s[45];result+=formatText(`Enums missing from ${db2NameBold} (${db2.type})\n`,colors.underline);++cov_qx0xaiss8.s[46];result+=formatText(missingFrom2.map(enumName=>{++cov_qx0xaiss8.f[11];++cov_qx0xaiss8.s[47];return`- ${enumName}`;}).join('\n')+'\n\n',colors.red);}else{++cov_qx0xaiss8.b[8][1];}++cov_qx0xaiss8.s[48];callback(null);},callback=>{++cov_qx0xaiss8.f[12];// Determine if the columns of any table differ
let intersection=(++cov_qx0xaiss8.s[49],_.intersection(_.keys(description1.tables),_.keys(description2.tables)));++cov_qx0xaiss8.s[50];_.forEach(intersection,table=>{++cov_qx0xaiss8.f[13];// We normalize each blob to end with a newline to make diffs print cleaner
const diff=(++cov_qx0xaiss8.s[51],jsdiff.diffLines(description1.tables[table].trim()+'\n',description2.tables[table].trim()+'\n'));++cov_qx0xaiss8.s[52];if(diff.length==1){++cov_qx0xaiss8.b[9][0];++cov_qx0xaiss8.s[53];return;}else{++cov_qx0xaiss8.b[9][1];}const boldTable=(++cov_qx0xaiss8.s[54],formatText(table,colors.bold));++cov_qx0xaiss8.s[55];result+=formatText(`Differences in ${boldTable} table\n`,colors.underline);// Shift around the newlines so that we can cleanly show +/- symbols
++cov_qx0xaiss8.s[56];for(let i=1;i<diff.length;i++){let prev=(++cov_qx0xaiss8.s[57],diff[i-1].value);++cov_qx0xaiss8.s[58];if(prev[prev.length-1]=='\n'){++cov_qx0xaiss8.b[10][0];++cov_qx0xaiss8.s[59];diff[i-1].value=prev.slice(0,-1);++cov_qx0xaiss8.s[60];diff[i].value='\n'+diff[i].value;}else{++cov_qx0xaiss8.b[10][1];}}++cov_qx0xaiss8.s[61];_.forEach(diff,(part,index)=>{++cov_qx0xaiss8.f[14];++cov_qx0xaiss8.s[62];if(index==0){++cov_qx0xaiss8.b[11][0];++cov_qx0xaiss8.s[63];part.value='\n'+part.value;}else{++cov_qx0xaiss8.b[11][1];}const mark=(++cov_qx0xaiss8.s[64],part.added?(++cov_qx0xaiss8.b[12][0],'+ '):(++cov_qx0xaiss8.b[12][1],part.removed?(++cov_qx0xaiss8.b[13][0],'- '):(++cov_qx0xaiss8.b[13][1],'  ')));let change=(++cov_qx0xaiss8.s[65],part.value.split('\n').join(`\n${mark}`));++cov_qx0xaiss8.s[66];if(index==0){++cov_qx0xaiss8.b[14][0];++cov_qx0xaiss8.s[67];change=change.slice(1,change.length);}else{++cov_qx0xaiss8.b[14][1];}++cov_qx0xaiss8.s[68];result+=formatText(change,part.added?(++cov_qx0xaiss8.b[15][0],colors.green):(++cov_qx0xaiss8.b[15][1],part.removed?(++cov_qx0xaiss8.b[16][0],colors.red):(++cov_qx0xaiss8.b[16][1],null)));});++cov_qx0xaiss8.s[69];result+='\n\n';});++cov_qx0xaiss8.s[70];callback(null);},callback=>{++cov_qx0xaiss8.f[15];// Determine if the values of any enums differ
let intersection=(++cov_qx0xaiss8.s[71],_.intersection(_.keys(description1.enums),_.keys(description2.enums)));++cov_qx0xaiss8.s[72];_.forEach(intersection,enumName=>{++cov_qx0xaiss8.f[16];++cov_qx0xaiss8.s[73];// We don't need to do a particularly fancy diff here, since
// enums are just represented here as strings
if(description1.enums[enumName].trim()!==description2.enums[enumName].trim()){++cov_qx0xaiss8.b[17][0];const boldEnum=(++cov_qx0xaiss8.s[74],formatText(enumName,colors.bold));++cov_qx0xaiss8.s[75];result+=formatText(`Differences in ${boldEnum} enum\n`);++cov_qx0xaiss8.s[76];result+=formatText(`- ${description1.enums[enumName].trim()}\n`,colors.red);++cov_qx0xaiss8.s[77];result+=formatText(`+ ${description2.enums[enumName].trim()}\n`,colors.green);++cov_qx0xaiss8.s[78];result+='\n\n';}else{++cov_qx0xaiss8.b[17][1];}});++cov_qx0xaiss8.s[79];callback(null);}],err=>{++cov_qx0xaiss8.f[17];++cov_qx0xaiss8.s[80];if(ERR(err,callback)){++cov_qx0xaiss8.b[18][0];++cov_qx0xaiss8.s[81];return;}else{++cov_qx0xaiss8.b[18][1];}++cov_qx0xaiss8.s[82];callback(null,result);});}function loadDescriptionFromDisk(dirPath,callback){++cov_qx0xaiss8.f[18];const description=(++cov_qx0xaiss8.s[83],{tables:{},enums:{}});++cov_qx0xaiss8.s[84];async.waterfall([callback=>{++cov_qx0xaiss8.f[19];++cov_qx0xaiss8.s[85];fs.readdir(path.join(dirPath,'tables'),(err,entries)=>{++cov_qx0xaiss8.f[20];++cov_qx0xaiss8.s[86];if(ERR(err,callback)){++cov_qx0xaiss8.b[19][0];++cov_qx0xaiss8.s[87];return;}else{++cov_qx0xaiss8.b[19][1];}++cov_qx0xaiss8.s[88];callback(null,entries);});},(entries,callback)=>{++cov_qx0xaiss8.f[21];++cov_qx0xaiss8.s[89];async.each(entries,(entry,callback)=>{++cov_qx0xaiss8.f[22];++cov_qx0xaiss8.s[90];fs.readFile(path.join(dirPath,'tables',entry),'utf8',(err,data)=>{++cov_qx0xaiss8.f[23];++cov_qx0xaiss8.s[91];if(ERR(err,callback)){++cov_qx0xaiss8.b[20][0];++cov_qx0xaiss8.s[92];return;}else{++cov_qx0xaiss8.b[20][1];}++cov_qx0xaiss8.s[93];description.tables[entry.replace('.pg','')]=data;++cov_qx0xaiss8.s[94];callback(null);});},err=>{++cov_qx0xaiss8.f[24];++cov_qx0xaiss8.s[95];if(ERR(err,callback)){++cov_qx0xaiss8.b[21][0];++cov_qx0xaiss8.s[96];return;}else{++cov_qx0xaiss8.b[21][1];}++cov_qx0xaiss8.s[97];callback(null);});},callback=>{++cov_qx0xaiss8.f[25];++cov_qx0xaiss8.s[98];fs.readdir(path.join(dirPath,'enums'),(err,entries)=>{++cov_qx0xaiss8.f[26];++cov_qx0xaiss8.s[99];if(err){++cov_qx0xaiss8.b[22][0];++cov_qx0xaiss8.s[100];if(err.code=='ENOENT'){++cov_qx0xaiss8.b[23][0];++cov_qx0xaiss8.s[101];return callback(null);}else{++cov_qx0xaiss8.b[23][1];++cov_qx0xaiss8.s[102];return ERR(err,callback);}}else{++cov_qx0xaiss8.b[22][1];}++cov_qx0xaiss8.s[103];callback(null,entries);});},(entries,callback)=>{++cov_qx0xaiss8.f[27];++cov_qx0xaiss8.s[104];async.each(entries,(entry,callback)=>{++cov_qx0xaiss8.f[28];++cov_qx0xaiss8.s[105];fs.readFile(path.join(dirPath,'enums',entry),'utf8',(err,data)=>{++cov_qx0xaiss8.f[29];++cov_qx0xaiss8.s[106];if(ERR(err,callback)){++cov_qx0xaiss8.b[24][0];++cov_qx0xaiss8.s[107];return;}else{++cov_qx0xaiss8.b[24][1];}++cov_qx0xaiss8.s[108];description.enums[entry.replace('.pg','')]=data;++cov_qx0xaiss8.s[109];callback(null);});},err=>{++cov_qx0xaiss8.f[30];++cov_qx0xaiss8.s[110];if(ERR(err,callback)){++cov_qx0xaiss8.b[25][0];++cov_qx0xaiss8.s[111];return;}else{++cov_qx0xaiss8.b[25][1];}++cov_qx0xaiss8.s[112];callback(null);});}],err=>{++cov_qx0xaiss8.f[31];++cov_qx0xaiss8.s[113];if(ERR(err,callback)){++cov_qx0xaiss8.b[26][0];++cov_qx0xaiss8.s[114];return;}else{++cov_qx0xaiss8.b[26][1];}++cov_qx0xaiss8.s[115];callback(null,description);});}function loadDescriptionFromDatabase(name,callback){++cov_qx0xaiss8.f[32];const options=(++cov_qx0xaiss8.s[116],{databaseName:name,outputFormat:'string',coloredOutput:false});++cov_qx0xaiss8.s[117];return describe.describe(options,callback);}function loadDescription(db,callback){++cov_qx0xaiss8.f[33];++cov_qx0xaiss8.s[118];if(db.type==='database'){++cov_qx0xaiss8.b[27][0];++cov_qx0xaiss8.s[119];return loadDescriptionFromDatabase(db.name,callback);}else{++cov_qx0xaiss8.b[27][1];++cov_qx0xaiss8.s[120];if(db.type=='directory'){++cov_qx0xaiss8.b[28][0];++cov_qx0xaiss8.s[121];return loadDescriptionFromDisk(db.path,callback);}else{++cov_qx0xaiss8.b[28][1];++cov_qx0xaiss8.s[122];return callback(new Error('Invalid database type'));}}}++cov_qx0xaiss8.s[123];module.exports.diffDatabases=function(datbase1,database2,options,callback){++cov_qx0xaiss8.f[34];const db1=(++cov_qx0xaiss8.s[124],{type:'database',name:datbase1});const db2=(++cov_qx0xaiss8.s[125],{type:'database',name:database2});++cov_qx0xaiss8.s[126];diff(db1,db2,options,callback);};++cov_qx0xaiss8.s[127];module.exports.diffDatabaseAndDirectory=function(database,directory,options,callback){++cov_qx0xaiss8.f[35];const db1=(++cov_qx0xaiss8.s[128],{type:'database',name:database});const db2=(++cov_qx0xaiss8.s[129],{type:'directory',path:directory});++cov_qx0xaiss8.s[130];diff(db1,db2,options,callback);};++cov_qx0xaiss8.s[131];module.exports.diffDirectoryAndDatabase=function(directory,database,options,callback){++cov_qx0xaiss8.f[36];const db1=(++cov_qx0xaiss8.s[132],{type:'directory',path:directory});const db2=(++cov_qx0xaiss8.s[133],{type:'database',name:database});++cov_qx0xaiss8.s[134];diff(db1,db2,options,callback);};++cov_qx0xaiss8.s[135];module.exports.diffDirectories=function(directory1,directory2,options,callback){++cov_qx0xaiss8.f[37];const db1=(++cov_qx0xaiss8.s[136],{type:'directory',path:directory1});const db2=(++cov_qx0xaiss8.s[137],{type:'directory',path:directory2});++cov_qx0xaiss8.s[138];diff(db1,db2,options,callback);};