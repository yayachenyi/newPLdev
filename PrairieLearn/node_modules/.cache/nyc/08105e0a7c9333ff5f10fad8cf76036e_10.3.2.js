var cov_w9adwlw1g=function(){var path='/Users/fengyichen/pldev/newfolder/PrairieLearn/pages/instructorAssessment/instructorAssessment.js',hash='3344e894bd641d1f4a97a5b331897e588a04d12a',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/fengyichen/pldev/newfolder/PrairieLearn/pages/instructorAssessment/instructorAssessment.js',statementMap:{'0':{start:{line:1,column:10},end:{line:1,column:37}},'1':{start:{line:2,column:8},end:{line:2,column:25}},'2':{start:{line:3,column:12},end:{line:3,column:28}},'3':{start:{line:4,column:19},end:{line:4,column:43}},'4':{start:{line:5,column:14},end:{line:5,column:32}},'5':{start:{line:6,column:13},end:{line:6,column:29}},'6':{start:{line:7,column:12},end:{line:7,column:65}},'7':{start:{line:9,column:12},end:{line:9,column:38}},'8':{start:{line:10,column:13},end:{line:10,column:40}},'9':{start:{line:11,column:17},end:{line:11,column:49}},'10':{start:{line:12,column:15},end:{line:12,column:45}},'11':{start:{line:13,column:16},end:{line:13,column:47}},'12':{start:{line:14,column:17},end:{line:14,column:48}},'13':{start:{line:15,column:12},end:{line:15,column:38}},'14':{start:{line:16,column:16},end:{line:16,column:47}},'15':{start:{line:18,column:10},end:{line:18,column:44}},'16':{start:{line:20,column:19},end:{line:22,column:1}},'17':{start:{line:21,column:4},end:{line:21,column:46}},'18':{start:{line:24,column:16},end:{line:52,column:1}},'19':{start:{line:25,column:17},end:{line:31,column:13}},'20':{start:{line:32,column:4},end:{line:51,column:6}},'21':{start:{line:54,column:0},end:{line:145,column:3}},'22':{start:{line:55,column:4},end:{line:55,column:19}},'23':{start:{line:56,column:4},end:{line:144,column:7}},'24':{start:{line:58,column:12},end:{line:58,column:35}},'25':{start:{line:59,column:12},end:{line:59,column:56}},'26':{start:{line:60,column:12},end:{line:60,column:27}},'27':{start:{line:63,column:12},end:{line:63,column:37}},'28':{start:{line:64,column:25},end:{line:67,column:13}},'29':{start:{line:68,column:12},end:{line:72,column:15}},'30':{start:{line:69,column:16},end:{line:69,column:47}},'31':{start:{line:69,column:40},end:{line:69,column:47}},'32':{start:{line:70,column:16},end:{line:70,column:51}},'33':{start:{line:71,column:16},end:{line:71,column:31}},'34':{start:{line:75,column:12},end:{line:75,column:51}},'35':{start:{line:76,column:25},end:{line:76,column:66}},'36':{start:{line:77,column:12},end:{line:81,column:15}},'37':{start:{line:78,column:16},end:{line:78,column:47}},'38':{start:{line:78,column:40},end:{line:78,column:47}},'39':{start:{line:79,column:16},end:{line:79,column:54}},'40':{start:{line:80,column:16},end:{line:80,column:31}},'41':{start:{line:84,column:12},end:{line:84,column:42}},'42':{start:{line:85,column:25},end:{line:85,column:66}},'43':{start:{line:86,column:12},end:{line:90,column:15}},'44':{start:{line:87,column:16},end:{line:87,column:47}},'45':{start:{line:87,column:40},end:{line:87,column:47}},'46':{start:{line:88,column:16},end:{line:88,column:56}},'47':{start:{line:89,column:16},end:{line:89,column:31}},'48':{start:{line:93,column:12},end:{line:93,column:44}},'49':{start:{line:94,column:25},end:{line:94,column:66}},'50':{start:{line:95,column:12},end:{line:99,column:14}},'51':{start:{line:96,column:16},end:{line:96,column:47}},'52':{start:{line:96,column:40},end:{line:96,column:47}},'53':{start:{line:97,column:16},end:{line:97,column:60}},'54':{start:{line:98,column:16},end:{line:98,column:31}},'55':{start:{line:102,column:12},end:{line:102,column:62}},'56':{start:{line:103,column:25},end:{line:103,column:66}},'57':{start:{line:104,column:12},end:{line:108,column:15}},'58':{start:{line:105,column:16},end:{line:105,column:43}},'59':{start:{line:105,column:36},end:{line:105,column:43}},'60':{start:{line:106,column:16},end:{line:106,column:76}},'61':{start:{line:107,column:16},end:{line:107,column:31}},'62':{start:{line:111,column:12},end:{line:111,column:53}},'63':{start:{line:113,column:25},end:{line:113,column:66}},'64':{start:{line:114,column:12},end:{line:118,column:15}},'65':{start:{line:115,column:16},end:{line:115,column:47}},'66':{start:{line:115,column:40},end:{line:115,column:47}},'67':{start:{line:116,column:16},end:{line:116,column:58}},'68':{start:{line:117,column:16},end:{line:117,column:31}},'69':{start:{line:121,column:12},end:{line:121,column:58}},'70':{start:{line:122,column:25},end:{line:124,column:13}},'71':{start:{line:125,column:12},end:{line:129,column:15}},'72':{start:{line:126,column:16},end:{line:126,column:47}},'73':{start:{line:126,column:40},end:{line:126,column:47}},'74':{start:{line:127,column:16},end:{line:127,column:65}},'75':{start:{line:128,column:16},end:{line:128,column:31}},'76':{start:{line:132,column:12},end:{line:132,column:52}},'77':{start:{line:133,column:25},end:{line:133,column:66}},'78':{start:{line:134,column:12},end:{line:138,column:15}},'79':{start:{line:135,column:16},end:{line:135,column:47}},'80':{start:{line:135,column:40},end:{line:135,column:47}},'81':{start:{line:136,column:16},end:{line:136,column:53}},'82':{start:{line:137,column:16},end:{line:137,column:31}},'83':{start:{line:141,column:8},end:{line:141,column:35}},'84':{start:{line:141,column:28},end:{line:141,column:35}},'85':{start:{line:142,column:8},end:{line:142,column:29}},'86':{start:{line:143,column:8},end:{line:143,column:68}},'87':{start:{line:147,column:23},end:{line:163,column:1}},'88':{start:{line:148,column:17},end:{line:148,column:58}},'89':{start:{line:149,column:4},end:{line:162,column:7}},'90':{start:{line:150,column:8},end:{line:150,column:39}},'91':{start:{line:150,column:32},end:{line:150,column:39}},'92':{start:{line:152,column:19},end:{line:152,column:30}},'93':{start:{line:153,column:8},end:{line:155,column:9}},'94':{start:{line:154,column:12},end:{line:154,column:51}},'95':{start:{line:157,column:8},end:{line:161,column:11}},'96':{start:{line:158,column:12},end:{line:158,column:43}},'97':{start:{line:158,column:36},end:{line:158,column:43}},'98':{start:{line:159,column:12},end:{line:159,column:48}},'99':{start:{line:160,column:12},end:{line:160,column:26}},'100':{start:{line:165,column:0},end:{line:454,column:3}},'101':{start:{line:166,column:4},end:{line:166,column:48}},'102':{start:{line:168,column:25},end:{line:168,column:92}},'103':{start:{line:169,column:24},end:{line:172,column:5}},'104':{start:{line:173,column:34},end:{line:176,column:5}},'105':{start:{line:177,column:24},end:{line:180,column:5}},'106':{start:{line:181,column:34},end:{line:184,column:5}},'107':{start:{line:185,column:27},end:{line:199,column:5}},'108':{start:{line:201,column:4},end:{line:453,column:5}},'109':{start:{line:202,column:21},end:{line:202,column:62}},'110':{start:{line:203,column:8},end:{line:237,column:11}},'111':{start:{line:204,column:12},end:{line:204,column:39}},'112':{start:{line:204,column:32},end:{line:204,column:39}},'113':{start:{line:205,column:33},end:{line:205,column:47}},'114':{start:{line:206,column:29},end:{line:207,column:110}},'115':{start:{line:208,column:26},end:{line:226,column:13}},'116':{start:{line:227,column:12},end:{line:230,column:15}},'117':{start:{line:228,column:16},end:{line:228,column:51}},'118':{start:{line:229,column:16},end:{line:229,column:36}},'119':{start:{line:231,column:12},end:{line:231,column:44}},'120':{start:{line:232,column:12},end:{line:236,column:15}},'121':{start:{line:233,column:16},end:{line:233,column:43}},'122':{start:{line:233,column:36},end:{line:233,column:43}},'123':{start:{line:234,column:16},end:{line:234,column:52}},'124':{start:{line:235,column:16},end:{line:235,column:30}},'125':{start:{line:238,column:11},end:{line:453,column:5}},'126':{start:{line:239,column:21},end:{line:239,column:62}},'127':{start:{line:240,column:8},end:{line:272,column:11}},'128':{start:{line:241,column:12},end:{line:241,column:39}},'129':{start:{line:241,column:32},end:{line:241,column:39}},'130':{start:{line:242,column:31},end:{line:242,column:45}},'131':{start:{line:243,column:29},end:{line:244,column:121}},'132':{start:{line:245,column:26},end:{line:257,column:13}},'133':{start:{line:258,column:12},end:{line:261,column:15}},'134':{start:{line:259,column:16},end:{line:259,column:69}},'135':{start:{line:260,column:16},end:{line:260,column:36}},'136':{start:{line:262,column:12},end:{line:265,column:15}},'137':{start:{line:263,column:16},end:{line:263,column:50}},'138':{start:{line:264,column:16},end:{line:264,column:36}},'139':{start:{line:266,column:12},end:{line:266,column:44}},'140':{start:{line:267,column:12},end:{line:271,column:15}},'141':{start:{line:268,column:16},end:{line:268,column:43}},'142':{start:{line:268,column:36},end:{line:268,column:43}},'143':{start:{line:269,column:16},end:{line:269,column:52}},'144':{start:{line:270,column:16},end:{line:270,column:30}},'145':{start:{line:273,column:11},end:{line:453,column:5}},'146':{start:{line:274,column:8},end:{line:276,column:11}},'147':{start:{line:275,column:12},end:{line:275,column:39}},'148':{start:{line:275,column:32},end:{line:275,column:39}},'149':{start:{line:277,column:11},end:{line:453,column:5}},'150':{start:{line:278,column:8},end:{line:280,column:11}},'151':{start:{line:279,column:12},end:{line:279,column:39}},'152':{start:{line:279,column:32},end:{line:279,column:39}},'153':{start:{line:281,column:11},end:{line:453,column:5}},'154':{start:{line:282,column:8},end:{line:284,column:11}},'155':{start:{line:283,column:12},end:{line:283,column:39}},'156':{start:{line:283,column:32},end:{line:283,column:39}},'157':{start:{line:285,column:11},end:{line:453,column:5}},'158':{start:{line:286,column:8},end:{line:288,column:11}},'159':{start:{line:287,column:12},end:{line:287,column:39}},'160':{start:{line:287,column:32},end:{line:287,column:39}},'161':{start:{line:289,column:11},end:{line:453,column:5}},'162':{start:{line:290,column:8},end:{line:292,column:11}},'163':{start:{line:291,column:12},end:{line:291,column:39}},'164':{start:{line:291,column:32},end:{line:291,column:39}},'165':{start:{line:293,column:11},end:{line:453,column:5}},'166':{start:{line:294,column:8},end:{line:296,column:11}},'167':{start:{line:295,column:12},end:{line:295,column:39}},'168':{start:{line:295,column:32},end:{line:295,column:39}},'169':{start:{line:297,column:11},end:{line:453,column:5}},'170':{start:{line:298,column:8},end:{line:300,column:11}},'171':{start:{line:299,column:12},end:{line:299,column:39}},'172':{start:{line:299,column:32},end:{line:299,column:39}},'173':{start:{line:301,column:11},end:{line:453,column:5}},'174':{start:{line:302,column:8},end:{line:304,column:11}},'175':{start:{line:303,column:12},end:{line:303,column:39}},'176':{start:{line:303,column:32},end:{line:303,column:39}},'177':{start:{line:305,column:11},end:{line:453,column:5}},'178':{start:{line:306,column:8},end:{line:308,column:11}},'179':{start:{line:307,column:12},end:{line:307,column:39}},'180':{start:{line:307,column:32},end:{line:307,column:39}},'181':{start:{line:309,column:11},end:{line:453,column:5}},'182':{start:{line:310,column:8},end:{line:312,column:11}},'183':{start:{line:311,column:12},end:{line:311,column:39}},'184':{start:{line:311,column:32},end:{line:311,column:39}},'185':{start:{line:313,column:11},end:{line:453,column:5}},'186':{start:{line:315,column:27},end:{line:315,column:86}},'187':{start:{line:316,column:21},end:{line:319,column:9}},'188':{start:{line:320,column:8},end:{line:358,column:11}},'189':{start:{line:321,column:12},end:{line:321,column:39}},'190':{start:{line:321,column:32},end:{line:321,column:39}},'191':{start:{line:322,column:26},end:{line:345,column:13}},'192':{start:{line:346,column:12},end:{line:352,column:13}},'193':{start:{line:347,column:16},end:{line:351,column:19}},'194':{start:{line:353,column:12},end:{line:357,column:15}},'195':{start:{line:354,column:16},end:{line:354,column:43}},'196':{start:{line:354,column:36},end:{line:354,column:43}},'197':{start:{line:355,column:16},end:{line:355,column:52}},'198':{start:{line:356,column:16},end:{line:356,column:30}},'199':{start:{line:359,column:11},end:{line:453,column:5}},'200':{start:{line:361,column:27},end:{line:361,column:80}},'201':{start:{line:362,column:21},end:{line:365,column:9}},'202':{start:{line:366,column:8},end:{line:374,column:11}},'203':{start:{line:367,column:12},end:{line:367,column:39}},'204':{start:{line:367,column:32},end:{line:367,column:39}},'205':{start:{line:368,column:26},end:{line:368,column:106}},'206':{start:{line:369,column:12},end:{line:373,column:15}},'207':{start:{line:370,column:16},end:{line:370,column:43}},'208':{start:{line:370,column:36},end:{line:370,column:43}},'209':{start:{line:371,column:16},end:{line:371,column:52}},'210':{start:{line:372,column:16},end:{line:372,column:36}},'211':{start:{line:375,column:11},end:{line:453,column:5}},'212':{start:{line:376,column:21},end:{line:376,column:62}},'213':{start:{line:377,column:8},end:{line:408,column:11}},'214':{start:{line:378,column:12},end:{line:378,column:39}},'215':{start:{line:378,column:32},end:{line:378,column:39}},'216':{start:{line:379,column:36},end:{line:379,column:47}},'217':{start:{line:380,column:26},end:{line:380,column:28}},'218':{start:{line:381,column:29},end:{line:381,column:110}},'219':{start:{line:382,column:12},end:{line:384,column:13}},'220':{start:{line:383,column:16},end:{line:383,column:51}},'221':{start:{line:386,column:12},end:{line:386,column:37}},'222':{start:{line:388,column:12},end:{line:401,column:15}},'223':{start:{line:389,column:40},end:{line:389,column:42}},'224':{start:{line:390,column:16},end:{line:390,column:61}},'225':{start:{line:391,column:16},end:{line:391,column:60}},'226':{start:{line:392,column:16},end:{line:392,column:78}},'227':{start:{line:393,column:16},end:{line:393,column:69}},'228':{start:{line:394,column:16},end:{line:394,column:78}},'229':{start:{line:396,column:16},end:{line:398,column:19}},'230':{start:{line:397,column:20},end:{line:397,column:49}},'231':{start:{line:400,column:16},end:{line:400,column:48}},'232':{start:{line:403,column:12},end:{line:407,column:15}},'233':{start:{line:404,column:16},end:{line:404,column:43}},'234':{start:{line:404,column:36},end:{line:404,column:43}},'235':{start:{line:405,column:16},end:{line:405,column:52}},'236':{start:{line:406,column:16},end:{line:406,column:30}},'237':{start:{line:409,column:11},end:{line:453,column:5}},'238':{start:{line:410,column:21},end:{line:410,column:62}},'239':{start:{line:411,column:8},end:{line:450,column:11}},'240':{start:{line:412,column:12},end:{line:412,column:39}},'241':{start:{line:412,column:32},end:{line:412,column:39}},'242':{start:{line:413,column:30},end:{line:413,column:41}},'243':{start:{line:415,column:29},end:{line:415,column:37}},'244':{start:{line:416,column:12},end:{line:418,column:15}},'245':{start:{line:417,column:16},end:{line:417,column:52}},'246':{start:{line:420,column:26},end:{line:420,column:44}},'247':{start:{line:421,column:28},end:{line:421,column:59}},'248':{start:{line:423,column:26},end:{line:423,column:28}},'249':{start:{line:425,column:28},end:{line:425,column:38}},'250':{start:{line:426,column:12},end:{line:428,column:13}},'251':{start:{line:427,column:16},end:{line:427,column:56}},'252':{start:{line:429,column:12},end:{line:429,column:36}},'253':{start:{line:431,column:12},end:{line:431,column:44}},'254':{start:{line:432,column:12},end:{line:434,column:13}},'255':{start:{line:433,column:16},end:{line:433,column:65}},'256':{start:{line:435,column:12},end:{line:435,column:36}},'257':{start:{line:437,column:12},end:{line:443,column:13}},'258':{start:{line:438,column:16},end:{line:438,column:80}},'259':{start:{line:439,column:16},end:{line:441,column:17}},'260':{start:{line:440,column:20},end:{line:440,column:70}},'261':{start:{line:442,column:16},end:{line:442,column:40}},'262':{start:{line:444,column:12},end:{line:444,column:45}},'263':{start:{line:445,column:12},end:{line:449,column:15}},'264':{start:{line:446,column:16},end:{line:446,column:43}},'265':{start:{line:446,column:36},end:{line:446,column:43}},'266':{start:{line:447,column:16},end:{line:447,column:52}},'267':{start:{line:448,column:16},end:{line:448,column:30}},'268':{start:{line:452,column:8},end:{line:452,column:68}},'269':{start:{line:456,column:32},end:{line:523,column:1}},'270':{start:{line:457,column:17},end:{line:457,column:41}},'271':{start:{line:458,column:4},end:{line:522,column:7}},'272':{start:{line:459,column:8},end:{line:459,column:39}},'273':{start:{line:459,column:32},end:{line:459,column:39}},'274':{start:{line:460,column:40},end:{line:460,column:80}},'275':{start:{line:461,column:23},end:{line:461,column:46}},'276':{start:{line:462,column:28},end:{line:462,column:56}},'277':{start:{line:464,column:22},end:{line:472,column:9}},'278':{start:{line:473,column:8},end:{line:521,column:11}},'279':{start:{line:474,column:12},end:{line:474,column:43}},'280':{start:{line:474,column:36},end:{line:474,column:43}},'281':{start:{line:475,column:12},end:{line:475,column:44}},'282':{start:{line:480,column:29},end:{line:490,column:13}},'283':{start:{line:491,column:12},end:{line:520,column:15}},'284':{start:{line:492,column:16},end:{line:496,column:17}},'285':{start:{line:493,column:20},end:{line:493,column:62}},'286':{start:{line:494,column:20},end:{line:494,column:64}},'287':{start:{line:495,column:20},end:{line:495,column:27}},'288':{start:{line:497,column:16},end:{line:497,column:91}},'289':{start:{line:498,column:29},end:{line:501,column:17}},'290':{start:{line:502,column:16},end:{line:519,column:19}},'291':{start:{line:503,column:20},end:{line:518,column:21}},'292':{start:{line:504,column:24},end:{line:504,column:38}},'293':{start:{line:506,column:24},end:{line:508,column:25}},'294':{start:{line:507,column:28},end:{line:507,column:90}},'295':{start:{line:509,column:24},end:{line:509,column:58}},'296':{start:{line:510,column:38},end:{line:510,column:52}},'297':{start:{line:511,column:24},end:{line:516,column:25}},'298':{start:{line:512,column:28},end:{line:512,column:107}},'299':{start:{line:513,column:28},end:{line:513,column:148}},'300':{start:{line:515,column:28},end:{line:515,column:59}},'301':{start:{line:517,column:24},end:{line:517,column:38}},'302':{start:{line:525,column:36},end:{line:631,column:1}},'303':{start:{line:526,column:17},end:{line:526,column:32}},'304':{start:{line:527,column:4},end:{line:630,column:7}},'305':{start:{line:528,column:8},end:{line:528,column:39}},'306':{start:{line:528,column:32},end:{line:528,column:39}},'307':{start:{line:529,column:31},end:{line:529,column:62}},'308':{start:{line:531,column:22},end:{line:539,column:9}},'309':{start:{line:540,column:8},end:{line:629,column:11}},'310':{start:{line:541,column:12},end:{line:541,column:43}},'311':{start:{line:541,column:36},end:{line:541,column:43}},'312':{start:{line:542,column:12},end:{line:542,column:44}},'313':{start:{line:547,column:29},end:{line:557,column:13}},'314':{start:{line:558,column:12},end:{line:628,column:15}},'315':{start:{line:559,column:16},end:{line:563,column:17}},'316':{start:{line:560,column:20},end:{line:560,column:62}},'317':{start:{line:561,column:20},end:{line:561,column:64}},'318':{start:{line:562,column:20},end:{line:562,column:27}},'319':{start:{line:564,column:16},end:{line:564,column:90}},'320':{start:{line:566,column:29},end:{line:566,column:44}},'321':{start:{line:567,column:16},end:{line:627,column:19}},'322':{start:{line:568,column:20},end:{line:568,column:70}},'323':{start:{line:568,column:49},end:{line:568,column:70}},'324':{start:{line:570,column:40},end:{line:570,column:41}},'325':{start:{line:571,column:38},end:{line:571,column:39}},'326':{start:{line:575,column:33},end:{line:575,column:37}},'327':{start:{line:576,column:39},end:{line:576,column:40}},'328':{start:{line:577,column:20},end:{line:626,column:23}},'329':{start:{line:578,column:37},end:{line:581,column:25}},'330':{start:{line:582,column:24},end:{line:612,column:27}},'331':{start:{line:584,column:28},end:{line:599,column:29}},'332':{start:{line:585,column:32},end:{line:585,column:94}},'333':{start:{line:586,column:32},end:{line:586,column:46}},'334':{start:{line:587,column:32},end:{line:587,column:113}},'335':{start:{line:589,column:46},end:{line:589,column:60}},'336':{start:{line:590,column:32},end:{line:590,column:114}},'337':{start:{line:591,column:32},end:{line:598,column:33}},'338':{start:{line:592,column:36},end:{line:592,column:52}},'339':{start:{line:593,column:36},end:{line:595,column:108}},'340':{start:{line:597,column:36},end:{line:597,column:61}},'341':{start:{line:600,column:28},end:{line:604,column:29}},'342':{start:{line:601,column:32},end:{line:601,column:45}},'343':{start:{line:603,column:32},end:{line:603,column:53}},'344':{start:{line:605,column:28},end:{line:605,column:43}},'345':{start:{line:606,column:28},end:{line:610,column:29}},'346':{start:{line:607,column:32},end:{line:607,column:52}},'347':{start:{line:608,column:32},end:{line:608,column:46}},'348':{start:{line:609,column:32},end:{line:609,column:49}},'349':{start:{line:611,column:28},end:{line:611,column:43}},'350':{start:{line:614,column:24},end:{line:616,column:25}},'351':{start:{line:615,column:28},end:{line:615,column:48}},'352':{start:{line:617,column:24},end:{line:617,column:74}},'353':{start:{line:617,column:53},end:{line:617,column:74}},'354':{start:{line:618,column:24},end:{line:618,column:58}},'355':{start:{line:619,column:24},end:{line:619,column:96}},'356':{start:{line:620,column:24},end:{line:625,column:25}},'357':{start:{line:621,column:28},end:{line:621,column:76}},'358':{start:{line:622,column:28},end:{line:622,column:107}},'359':{start:{line:624,column:28},end:{line:624,column:42}},'360':{start:{line:633,column:0},end:{line:682,column:3}},'361':{start:{line:634,column:4},end:{line:634,column:66}},'362':{start:{line:634,column:52},end:{line:634,column:66}},'363':{start:{line:635,column:4},end:{line:681,column:5}},'364':{start:{line:636,column:21},end:{line:640,column:9}},'365':{start:{line:641,column:8},end:{line:644,column:11}},'366':{start:{line:642,column:12},end:{line:642,column:39}},'367':{start:{line:642,column:32},end:{line:642,column:39}},'368':{start:{line:643,column:12},end:{line:643,column:42}},'369':{start:{line:645,column:11},end:{line:681,column:5}},'370':{start:{line:646,column:20},end:{line:646,column:24}},'371':{start:{line:647,column:8},end:{line:650,column:11}},'372':{start:{line:648,column:12},end:{line:648,column:39}},'373':{start:{line:648,column:32},end:{line:648,column:39}},'374':{start:{line:649,column:12},end:{line:649,column:42}},'375':{start:{line:651,column:11},end:{line:681,column:5}},'376':{start:{line:652,column:21},end:{line:655,column:9}},'377':{start:{line:656,column:8},end:{line:659,column:11}},'378':{start:{line:657,column:12},end:{line:657,column:39}},'379':{start:{line:657,column:32},end:{line:657,column:39}},'380':{start:{line:658,column:12},end:{line:658,column:42}},'381':{start:{line:660,column:11},end:{line:681,column:5}},'382':{start:{line:661,column:21},end:{line:664,column:9}},'383':{start:{line:665,column:8},end:{line:668,column:11}},'384':{start:{line:666,column:12},end:{line:666,column:39}},'385':{start:{line:666,column:32},end:{line:666,column:39}},'386':{start:{line:667,column:12},end:{line:667,column:42}},'387':{start:{line:669,column:11},end:{line:681,column:5}},'388':{start:{line:670,column:8},end:{line:673,column:11}},'389':{start:{line:671,column:12},end:{line:671,column:39}},'390':{start:{line:671,column:32},end:{line:671,column:39}},'391':{start:{line:672,column:12},end:{line:672,column:83}},'392':{start:{line:674,column:11},end:{line:681,column:5}},'393':{start:{line:675,column:8},end:{line:678,column:11}},'394':{start:{line:676,column:12},end:{line:676,column:39}},'395':{start:{line:676,column:32},end:{line:676,column:39}},'396':{start:{line:677,column:12},end:{line:677,column:83}},'397':{start:{line:680,column:8},end:{line:680,column:95}},'398':{start:{line:683,column:0},end:{line:683,column:24}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:20,column:19},end:{line:20,column:20}},loc:{start:{line:20,column:34},end:{line:22,column:1}},line:20},'1':{name:'(anonymous_1)',decl:{start:{line:24,column:16},end:{line:24,column:17}},loc:{start:{line:24,column:33},end:{line:52,column:1}},line:24},'2':{name:'(anonymous_2)',decl:{start:{line:54,column:16},end:{line:54,column:17}},loc:{start:{line:54,column:41},end:{line:145,column:1}},line:54},'3':{name:'(anonymous_3)',decl:{start:{line:57,column:8},end:{line:57,column:9}},loc:{start:{line:57,column:27},end:{line:61,column:9}},line:57},'4':{name:'(anonymous_4)',decl:{start:{line:62,column:8},end:{line:62,column:9}},loc:{start:{line:62,column:27},end:{line:73,column:9}},line:62},'5':{name:'(anonymous_5)',decl:{start:{line:68,column:47},end:{line:68,column:48}},loc:{start:{line:68,column:69},end:{line:72,column:13}},line:68},'6':{name:'(anonymous_6)',decl:{start:{line:74,column:8},end:{line:74,column:9}},loc:{start:{line:74,column:27},end:{line:82,column:9}},line:74},'7':{name:'(anonymous_7)',decl:{start:{line:77,column:61},end:{line:77,column:62}},loc:{start:{line:77,column:83},end:{line:81,column:13}},line:77},'8':{name:'(anonymous_8)',decl:{start:{line:83,column:8},end:{line:83,column:9}},loc:{start:{line:83,column:27},end:{line:91,column:9}},line:83},'9':{name:'(anonymous_9)',decl:{start:{line:86,column:52},end:{line:86,column:53}},loc:{start:{line:86,column:74},end:{line:90,column:13}},line:86},'10':{name:'(anonymous_10)',decl:{start:{line:92,column:8},end:{line:92,column:9}},loc:{start:{line:92,column:27},end:{line:100,column:9}},line:92},'11':{name:'(anonymous_11)',decl:{start:{line:95,column:60},end:{line:95,column:61}},loc:{start:{line:95,column:82},end:{line:99,column:12}},line:95},'12':{name:'(anonymous_12)',decl:{start:{line:101,column:8},end:{line:101,column:9}},loc:{start:{line:101,column:27},end:{line:109,column:9}},line:101},'13':{name:'(anonymous_13)',decl:{start:{line:104,column:72},end:{line:104,column:73}},loc:{start:{line:104,column:94},end:{line:108,column:13}},line:104},'14':{name:'(anonymous_14)',decl:{start:{line:110,column:8},end:{line:110,column:9}},loc:{start:{line:110,column:27},end:{line:119,column:9}},line:110},'15':{name:'(anonymous_15)',decl:{start:{line:114,column:69},end:{line:114,column:70}},loc:{start:{line:114,column:91},end:{line:118,column:13}},line:114},'16':{name:'(anonymous_16)',decl:{start:{line:120,column:8},end:{line:120,column:9}},loc:{start:{line:120,column:27},end:{line:130,column:9}},line:120},'17':{name:'(anonymous_17)',decl:{start:{line:125,column:68},end:{line:125,column:69}},loc:{start:{line:125,column:90},end:{line:129,column:13}},line:125},'18':{name:'(anonymous_18)',decl:{start:{line:131,column:8},end:{line:131,column:9}},loc:{start:{line:131,column:27},end:{line:139,column:9}},line:131},'19':{name:'(anonymous_19)',decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:87},end:{line:138,column:13}},line:134},'20':{name:'(anonymous_20)',decl:{start:{line:140,column:7},end:{line:140,column:8}},loc:{start:{line:140,column:21},end:{line:144,column:5}},line:140},'21':{name:'(anonymous_21)',decl:{start:{line:147,column:23},end:{line:147,column:24}},loc:{start:{line:147,column:70},end:{line:163,column:1}},line:147},'22':{name:'(anonymous_22)',decl:{start:{line:149,column:57},end:{line:149,column:58}},loc:{start:{line:149,column:79},end:{line:162,column:5}},line:149},'23':{name:'(anonymous_23)',decl:{start:{line:157,column:42},end:{line:157,column:43}},loc:{start:{line:157,column:61},end:{line:161,column:9}},line:157},'24':{name:'(anonymous_24)',decl:{start:{line:165,column:25},end:{line:165,column:26}},loc:{start:{line:165,column:50},end:{line:454,column:1}},line:165},'25':{name:'(anonymous_25)',decl:{start:{line:203,column:56},end:{line:203,column:57}},loc:{start:{line:203,column:78},end:{line:237,column:9}},line:203},'26':{name:'(anonymous_26)',decl:{start:{line:227,column:46},end:{line:227,column:47}},loc:{start:{line:227,column:65},end:{line:230,column:13}},line:227},'27':{name:'(anonymous_27)',decl:{start:{line:232,column:34},end:{line:232,column:35}},loc:{start:{line:232,column:53},end:{line:236,column:13}},line:232},'28':{name:'(anonymous_28)',decl:{start:{line:240,column:65},end:{line:240,column:66}},loc:{start:{line:240,column:87},end:{line:272,column:9}},line:240},'29':{name:'(anonymous_29)',decl:{start:{line:258,column:51},end:{line:258,column:52}},loc:{start:{line:258,column:70},end:{line:261,column:13}},line:258},'30':{name:'(anonymous_30)',decl:{start:{line:262,column:38},end:{line:262,column:39}},loc:{start:{line:262,column:57},end:{line:265,column:13}},line:262},'31':{name:'(anonymous_31)',decl:{start:{line:267,column:34},end:{line:267,column:35}},loc:{start:{line:267,column:53},end:{line:271,column:13}},line:267},'32':{name:'(anonymous_32)',decl:{start:{line:274,column:72},end:{line:274,column:73}},loc:{start:{line:274,column:81},end:{line:276,column:9}},line:274},'33':{name:'(anonymous_33)',decl:{start:{line:278,column:73},end:{line:278,column:74}},loc:{start:{line:278,column:82},end:{line:280,column:9}},line:278},'34':{name:'(anonymous_34)',decl:{start:{line:282,column:82},end:{line:282,column:83}},loc:{start:{line:282,column:91},end:{line:284,column:9}},line:282},'35':{name:'(anonymous_35)',decl:{start:{line:286,column:83},end:{line:286,column:84}},loc:{start:{line:286,column:92},end:{line:288,column:9}},line:286},'36':{name:'(anonymous_36)',decl:{start:{line:290,column:72},end:{line:290,column:73}},loc:{start:{line:290,column:81},end:{line:292,column:9}},line:290},'37':{name:'(anonymous_37)',decl:{start:{line:294,column:73},end:{line:294,column:74}},loc:{start:{line:294,column:82},end:{line:296,column:9}},line:294},'38':{name:'(anonymous_38)',decl:{start:{line:298,column:82},end:{line:298,column:83}},loc:{start:{line:298,column:91},end:{line:300,column:9}},line:298},'39':{name:'(anonymous_39)',decl:{start:{line:302,column:83},end:{line:302,column:84}},loc:{start:{line:302,column:92},end:{line:304,column:9}},line:302},'40':{name:'(anonymous_40)',decl:{start:{line:306,column:75},end:{line:306,column:76}},loc:{start:{line:306,column:84},end:{line:308,column:9}},line:306},'41':{name:'(anonymous_41)',decl:{start:{line:310,column:76},end:{line:310,column:77}},loc:{start:{line:310,column:85},end:{line:312,column:9}},line:310},'42':{name:'(anonymous_42)',decl:{start:{line:320,column:65},end:{line:320,column:66}},loc:{start:{line:320,column:87},end:{line:358,column:9}},line:320},'43':{name:'(anonymous_43)',decl:{start:{line:353,column:53},end:{line:353,column:54}},loc:{start:{line:353,column:72},end:{line:357,column:13}},line:353},'44':{name:'(anonymous_44)',decl:{start:{line:366,column:59},end:{line:366,column:60}},loc:{start:{line:366,column:81},end:{line:374,column:9}},line:366},'45':{name:'(anonymous_45)',decl:{start:{line:369,column:61},end:{line:369,column:62}},loc:{start:{line:369,column:86},end:{line:373,column:13}},line:369},'46':{name:'(anonymous_46)',decl:{start:{line:377,column:48},end:{line:377,column:49}},loc:{start:{line:377,column:70},end:{line:408,column:9}},line:377},'47':{name:'(anonymous_47)',decl:{start:{line:388,column:38},end:{line:388,column:39}},loc:{start:{line:388,column:62},end:{line:401,column:13}},line:388},'48':{name:'(anonymous_48)',decl:{start:{line:396,column:54},end:{line:396,column:55}},loc:{start:{line:396,column:69},end:{line:398,column:17}},line:396},'49':{name:'(anonymous_49)',decl:{start:{line:403,column:34},end:{line:403,column:35}},loc:{start:{line:403,column:53},end:{line:407,column:13}},line:403},'50':{name:'(anonymous_50)',decl:{start:{line:411,column:68},end:{line:411,column:69}},loc:{start:{line:411,column:90},end:{line:450,column:9}},line:411},'51':{name:'(anonymous_51)',decl:{start:{line:416,column:32},end:{line:416,column:33}},loc:{start:{line:416,column:46},end:{line:418,column:13}},line:416},'52':{name:'(anonymous_52)',decl:{start:{line:445,column:34},end:{line:445,column:35}},loc:{start:{line:445,column:53},end:{line:449,column:13}},line:445},'53':{name:'(anonymous_53)',decl:{start:{line:456,column:32},end:{line:456,column:33}},loc:{start:{line:456,column:83},end:{line:523,column:1}},line:456},'54':{name:'(anonymous_54)',decl:{start:{line:458,column:69},end:{line:458,column:70}},loc:{start:{line:458,column:91},end:{line:522,column:5}},line:458},'55':{name:'(anonymous_55)',decl:{start:{line:473,column:46},end:{line:473,column:47}},loc:{start:{line:473,column:77},end:{line:521,column:9}},line:473},'56':{name:'(anonymous_56)',decl:{start:{line:491,column:45},end:{line:491,column:46}},loc:{start:{line:491,column:64},end:{line:520,column:13}},line:491},'57':{name:'(anonymous_57)',decl:{start:{line:502,column:67},end:{line:502,column:68}},loc:{start:{line:502,column:89},end:{line:519,column:17}},line:502},'58':{name:'(anonymous_58)',decl:{start:{line:503,column:33},end:{line:503,column:34}},loc:{start:{line:503,column:44},end:{line:503,column:46}},line:503},'59':{name:'(anonymous_59)',decl:{start:{line:525,column:36},end:{line:525,column:37}},loc:{start:{line:525,column:78},end:{line:631,column:1}},line:525},'60':{name:'(anonymous_60)',decl:{start:{line:527,column:66},end:{line:527,column:67}},loc:{start:{line:527,column:88},end:{line:630,column:5}},line:527},'61':{name:'(anonymous_61)',decl:{start:{line:540,column:46},end:{line:540,column:47}},loc:{start:{line:540,column:77},end:{line:629,column:9}},line:540},'62':{name:'(anonymous_62)',decl:{start:{line:558,column:45},end:{line:558,column:46}},loc:{start:{line:558,column:64},end:{line:628,column:13}},line:558},'63':{name:'(anonymous_63)',decl:{start:{line:567,column:77},end:{line:567,column:78}},loc:{start:{line:567,column:99},end:{line:627,column:17}},line:567},'64':{name:'(anonymous_64)',decl:{start:{line:568,column:33},end:{line:568,column:34}},loc:{start:{line:568,column:44},end:{line:568,column:46}},line:568},'65':{name:'(anonymous_65)',decl:{start:{line:577,column:50},end:{line:577,column:51}},loc:{start:{line:577,column:74},end:{line:613,column:21}},line:577},'66':{name:'(anonymous_66)',decl:{start:{line:582,column:81},end:{line:582,column:82}},loc:{start:{line:582,column:103},end:{line:612,column:25}},line:582},'67':{name:'(anonymous_67)',decl:{start:{line:584,column:41},end:{line:584,column:42}},loc:{start:{line:584,column:52},end:{line:584,column:54}},line:584},'68':{name:'(anonymous_68)',decl:{start:{line:613,column:23},end:{line:613,column:24}},loc:{start:{line:613,column:37},end:{line:626,column:21}},line:613},'69':{name:'(anonymous_69)',decl:{start:{line:617,column:37},end:{line:617,column:38}},loc:{start:{line:617,column:48},end:{line:617,column:50}},line:617},'70':{name:'(anonymous_70)',decl:{start:{line:633,column:17},end:{line:633,column:18}},loc:{start:{line:633,column:42},end:{line:682,column:1}},line:633},'71':{name:'(anonymous_71)',decl:{start:{line:641,column:44},end:{line:641,column:45}},loc:{start:{line:641,column:67},end:{line:644,column:9}},line:641},'72':{name:'(anonymous_72)',decl:{start:{line:647,column:114},end:{line:647,column:115}},loc:{start:{line:647,column:128},end:{line:650,column:9}},line:647},'73':{name:'(anonymous_73)',decl:{start:{line:656,column:58},end:{line:656,column:59}},loc:{start:{line:656,column:81},end:{line:659,column:9}},line:656},'74':{name:'(anonymous_74)',decl:{start:{line:665,column:62},end:{line:665,column:63}},loc:{start:{line:665,column:85},end:{line:668,column:9}},line:665},'75':{name:'(anonymous_75)',decl:{start:{line:670,column:79},end:{line:670,column:80}},loc:{start:{line:670,column:110},end:{line:673,column:9}},line:670},'76':{name:'(anonymous_76)',decl:{start:{line:675,column:74},end:{line:675,column:75}},loc:{start:{line:675,column:105},end:{line:678,column:9}},line:675}},branchMap:{'0':{loc:{start:{line:69,column:16},end:{line:69,column:47}},type:'if',locations:[{start:{line:69,column:16},end:{line:69,column:47}},{start:{line:69,column:16},end:{line:69,column:47}}],line:69},'1':{loc:{start:{line:78,column:16},end:{line:78,column:47}},type:'if',locations:[{start:{line:78,column:16},end:{line:78,column:47}},{start:{line:78,column:16},end:{line:78,column:47}}],line:78},'2':{loc:{start:{line:87,column:16},end:{line:87,column:47}},type:'if',locations:[{start:{line:87,column:16},end:{line:87,column:47}},{start:{line:87,column:16},end:{line:87,column:47}}],line:87},'3':{loc:{start:{line:96,column:16},end:{line:96,column:47}},type:'if',locations:[{start:{line:96,column:16},end:{line:96,column:47}},{start:{line:96,column:16},end:{line:96,column:47}}],line:96},'4':{loc:{start:{line:105,column:16},end:{line:105,column:43}},type:'if',locations:[{start:{line:105,column:16},end:{line:105,column:43}},{start:{line:105,column:16},end:{line:105,column:43}}],line:105},'5':{loc:{start:{line:115,column:16},end:{line:115,column:47}},type:'if',locations:[{start:{line:115,column:16},end:{line:115,column:47}},{start:{line:115,column:16},end:{line:115,column:47}}],line:115},'6':{loc:{start:{line:126,column:16},end:{line:126,column:47}},type:'if',locations:[{start:{line:126,column:16},end:{line:126,column:47}},{start:{line:126,column:16},end:{line:126,column:47}}],line:126},'7':{loc:{start:{line:135,column:16},end:{line:135,column:47}},type:'if',locations:[{start:{line:135,column:16},end:{line:135,column:47}},{start:{line:135,column:16},end:{line:135,column:47}}],line:135},'8':{loc:{start:{line:141,column:8},end:{line:141,column:35}},type:'if',locations:[{start:{line:141,column:8},end:{line:141,column:35}},{start:{line:141,column:8},end:{line:141,column:35}}],line:141},'9':{loc:{start:{line:150,column:8},end:{line:150,column:39}},type:'if',locations:[{start:{line:150,column:8},end:{line:150,column:39}},{start:{line:150,column:8},end:{line:150,column:39}}],line:150},'10':{loc:{start:{line:153,column:8},end:{line:155,column:9}},type:'if',locations:[{start:{line:153,column:8},end:{line:155,column:9}},{start:{line:153,column:8},end:{line:155,column:9}}],line:153},'11':{loc:{start:{line:158,column:12},end:{line:158,column:43}},type:'if',locations:[{start:{line:158,column:12},end:{line:158,column:43}},{start:{line:158,column:12},end:{line:158,column:43}}],line:158},'12':{loc:{start:{line:201,column:4},end:{line:453,column:5}},type:'if',locations:[{start:{line:201,column:4},end:{line:453,column:5}},{start:{line:201,column:4},end:{line:453,column:5}}],line:201},'13':{loc:{start:{line:204,column:12},end:{line:204,column:39}},type:'if',locations:[{start:{line:204,column:12},end:{line:204,column:39}},{start:{line:204,column:12},end:{line:204,column:39}}],line:204},'14':{loc:{start:{line:233,column:16},end:{line:233,column:43}},type:'if',locations:[{start:{line:233,column:16},end:{line:233,column:43}},{start:{line:233,column:16},end:{line:233,column:43}}],line:233},'15':{loc:{start:{line:238,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:238,column:11},end:{line:453,column:5}},{start:{line:238,column:11},end:{line:453,column:5}}],line:238},'16':{loc:{start:{line:241,column:12},end:{line:241,column:39}},type:'if',locations:[{start:{line:241,column:12},end:{line:241,column:39}},{start:{line:241,column:12},end:{line:241,column:39}}],line:241},'17':{loc:{start:{line:268,column:16},end:{line:268,column:43}},type:'if',locations:[{start:{line:268,column:16},end:{line:268,column:43}},{start:{line:268,column:16},end:{line:268,column:43}}],line:268},'18':{loc:{start:{line:273,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:273,column:11},end:{line:453,column:5}},{start:{line:273,column:11},end:{line:453,column:5}}],line:273},'19':{loc:{start:{line:275,column:12},end:{line:275,column:39}},type:'if',locations:[{start:{line:275,column:12},end:{line:275,column:39}},{start:{line:275,column:12},end:{line:275,column:39}}],line:275},'20':{loc:{start:{line:277,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:277,column:11},end:{line:453,column:5}},{start:{line:277,column:11},end:{line:453,column:5}}],line:277},'21':{loc:{start:{line:279,column:12},end:{line:279,column:39}},type:'if',locations:[{start:{line:279,column:12},end:{line:279,column:39}},{start:{line:279,column:12},end:{line:279,column:39}}],line:279},'22':{loc:{start:{line:281,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:281,column:11},end:{line:453,column:5}},{start:{line:281,column:11},end:{line:453,column:5}}],line:281},'23':{loc:{start:{line:283,column:12},end:{line:283,column:39}},type:'if',locations:[{start:{line:283,column:12},end:{line:283,column:39}},{start:{line:283,column:12},end:{line:283,column:39}}],line:283},'24':{loc:{start:{line:285,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:285,column:11},end:{line:453,column:5}},{start:{line:285,column:11},end:{line:453,column:5}}],line:285},'25':{loc:{start:{line:287,column:12},end:{line:287,column:39}},type:'if',locations:[{start:{line:287,column:12},end:{line:287,column:39}},{start:{line:287,column:12},end:{line:287,column:39}}],line:287},'26':{loc:{start:{line:289,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:289,column:11},end:{line:453,column:5}},{start:{line:289,column:11},end:{line:453,column:5}}],line:289},'27':{loc:{start:{line:291,column:12},end:{line:291,column:39}},type:'if',locations:[{start:{line:291,column:12},end:{line:291,column:39}},{start:{line:291,column:12},end:{line:291,column:39}}],line:291},'28':{loc:{start:{line:293,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:293,column:11},end:{line:453,column:5}},{start:{line:293,column:11},end:{line:453,column:5}}],line:293},'29':{loc:{start:{line:295,column:12},end:{line:295,column:39}},type:'if',locations:[{start:{line:295,column:12},end:{line:295,column:39}},{start:{line:295,column:12},end:{line:295,column:39}}],line:295},'30':{loc:{start:{line:297,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:297,column:11},end:{line:453,column:5}},{start:{line:297,column:11},end:{line:453,column:5}}],line:297},'31':{loc:{start:{line:299,column:12},end:{line:299,column:39}},type:'if',locations:[{start:{line:299,column:12},end:{line:299,column:39}},{start:{line:299,column:12},end:{line:299,column:39}}],line:299},'32':{loc:{start:{line:301,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:301,column:11},end:{line:453,column:5}},{start:{line:301,column:11},end:{line:453,column:5}}],line:301},'33':{loc:{start:{line:303,column:12},end:{line:303,column:39}},type:'if',locations:[{start:{line:303,column:12},end:{line:303,column:39}},{start:{line:303,column:12},end:{line:303,column:39}}],line:303},'34':{loc:{start:{line:305,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:305,column:11},end:{line:453,column:5}},{start:{line:305,column:11},end:{line:453,column:5}}],line:305},'35':{loc:{start:{line:307,column:12},end:{line:307,column:39}},type:'if',locations:[{start:{line:307,column:12},end:{line:307,column:39}},{start:{line:307,column:12},end:{line:307,column:39}}],line:307},'36':{loc:{start:{line:309,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:309,column:11},end:{line:453,column:5}},{start:{line:309,column:11},end:{line:453,column:5}}],line:309},'37':{loc:{start:{line:311,column:12},end:{line:311,column:39}},type:'if',locations:[{start:{line:311,column:12},end:{line:311,column:39}},{start:{line:311,column:12},end:{line:311,column:39}}],line:311},'38':{loc:{start:{line:313,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:313,column:11},end:{line:453,column:5}},{start:{line:313,column:11},end:{line:453,column:5}}],line:313},'39':{loc:{start:{line:313,column:15},end:{line:314,column:79}},type:'binary-expr',locations:[{start:{line:313,column:15},end:{line:313,column:74}},{start:{line:314,column:18},end:{line:314,column:79}}],line:313},'40':{loc:{start:{line:321,column:12},end:{line:321,column:39}},type:'if',locations:[{start:{line:321,column:12},end:{line:321,column:39}},{start:{line:321,column:12},end:{line:321,column:39}}],line:321},'41':{loc:{start:{line:346,column:12},end:{line:352,column:13}},type:'if',locations:[{start:{line:346,column:12},end:{line:352,column:13}},{start:{line:346,column:12},end:{line:352,column:13}}],line:346},'42':{loc:{start:{line:354,column:16},end:{line:354,column:43}},type:'if',locations:[{start:{line:354,column:16},end:{line:354,column:43}},{start:{line:354,column:16},end:{line:354,column:43}}],line:354},'43':{loc:{start:{line:359,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:359,column:11},end:{line:453,column:5}},{start:{line:359,column:11},end:{line:453,column:5}}],line:359},'44':{loc:{start:{line:359,column:15},end:{line:360,column:73}},type:'binary-expr',locations:[{start:{line:359,column:15},end:{line:359,column:68}},{start:{line:360,column:18},end:{line:360,column:73}}],line:359},'45':{loc:{start:{line:367,column:12},end:{line:367,column:39}},type:'if',locations:[{start:{line:367,column:12},end:{line:367,column:39}},{start:{line:367,column:12},end:{line:367,column:39}}],line:367},'46':{loc:{start:{line:370,column:16},end:{line:370,column:43}},type:'if',locations:[{start:{line:370,column:16},end:{line:370,column:43}},{start:{line:370,column:16},end:{line:370,column:43}}],line:370},'47':{loc:{start:{line:375,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:375,column:11},end:{line:453,column:5}},{start:{line:375,column:11},end:{line:453,column:5}}],line:375},'48':{loc:{start:{line:378,column:12},end:{line:378,column:39}},type:'if',locations:[{start:{line:378,column:12},end:{line:378,column:39}},{start:{line:378,column:12},end:{line:378,column:39}}],line:378},'49':{loc:{start:{line:404,column:16},end:{line:404,column:43}},type:'if',locations:[{start:{line:404,column:16},end:{line:404,column:43}},{start:{line:404,column:16},end:{line:404,column:43}}],line:404},'50':{loc:{start:{line:409,column:11},end:{line:453,column:5}},type:'if',locations:[{start:{line:409,column:11},end:{line:453,column:5}},{start:{line:409,column:11},end:{line:453,column:5}}],line:409},'51':{loc:{start:{line:412,column:12},end:{line:412,column:39}},type:'if',locations:[{start:{line:412,column:12},end:{line:412,column:39}},{start:{line:412,column:12},end:{line:412,column:39}}],line:412},'52':{loc:{start:{line:446,column:16},end:{line:446,column:43}},type:'if',locations:[{start:{line:446,column:16},end:{line:446,column:43}},{start:{line:446,column:16},end:{line:446,column:43}}],line:446},'53':{loc:{start:{line:459,column:8},end:{line:459,column:39}},type:'if',locations:[{start:{line:459,column:8},end:{line:459,column:39}},{start:{line:459,column:8},end:{line:459,column:39}}],line:459},'54':{loc:{start:{line:474,column:12},end:{line:474,column:43}},type:'if',locations:[{start:{line:474,column:12},end:{line:474,column:43}},{start:{line:474,column:12},end:{line:474,column:43}}],line:474},'55':{loc:{start:{line:492,column:16},end:{line:496,column:17}},type:'if',locations:[{start:{line:492,column:16},end:{line:496,column:17}},{start:{line:492,column:16},end:{line:496,column:17}}],line:492},'56':{loc:{start:{line:503,column:20},end:{line:518,column:21}},type:'if',locations:[{start:{line:503,column:20},end:{line:518,column:21}},{start:{line:503,column:20},end:{line:518,column:21}}],line:503},'57':{loc:{start:{line:506,column:24},end:{line:508,column:25}},type:'if',locations:[{start:{line:506,column:24},end:{line:508,column:25}},{start:{line:506,column:24},end:{line:508,column:25}}],line:506},'58':{loc:{start:{line:511,column:24},end:{line:516,column:25}},type:'if',locations:[{start:{line:511,column:24},end:{line:516,column:25}},{start:{line:511,column:24},end:{line:516,column:25}}],line:511},'59':{loc:{start:{line:528,column:8},end:{line:528,column:39}},type:'if',locations:[{start:{line:528,column:8},end:{line:528,column:39}},{start:{line:528,column:8},end:{line:528,column:39}}],line:528},'60':{loc:{start:{line:541,column:12},end:{line:541,column:43}},type:'if',locations:[{start:{line:541,column:12},end:{line:541,column:43}},{start:{line:541,column:12},end:{line:541,column:43}}],line:541},'61':{loc:{start:{line:559,column:16},end:{line:563,column:17}},type:'if',locations:[{start:{line:559,column:16},end:{line:563,column:17}},{start:{line:559,column:16},end:{line:563,column:17}}],line:559},'62':{loc:{start:{line:568,column:20},end:{line:568,column:70}},type:'if',locations:[{start:{line:568,column:20},end:{line:568,column:70}},{start:{line:568,column:20},end:{line:568,column:70}}],line:568},'63':{loc:{start:{line:584,column:28},end:{line:599,column:29}},type:'if',locations:[{start:{line:584,column:28},end:{line:599,column:29}},{start:{line:584,column:28},end:{line:599,column:29}}],line:584},'64':{loc:{start:{line:591,column:32},end:{line:598,column:33}},type:'if',locations:[{start:{line:591,column:32},end:{line:598,column:33}},{start:{line:591,column:32},end:{line:598,column:33}}],line:591},'65':{loc:{start:{line:600,column:28},end:{line:604,column:29}},type:'if',locations:[{start:{line:600,column:28},end:{line:604,column:29}},{start:{line:600,column:28},end:{line:604,column:29}}],line:600},'66':{loc:{start:{line:606,column:28},end:{line:610,column:29}},type:'if',locations:[{start:{line:606,column:28},end:{line:610,column:29}},{start:{line:606,column:28},end:{line:610,column:29}}],line:606},'67':{loc:{start:{line:614,column:24},end:{line:616,column:25}},type:'if',locations:[{start:{line:614,column:24},end:{line:616,column:25}},{start:{line:614,column:24},end:{line:616,column:25}}],line:614},'68':{loc:{start:{line:617,column:24},end:{line:617,column:74}},type:'if',locations:[{start:{line:617,column:24},end:{line:617,column:74}},{start:{line:617,column:24},end:{line:617,column:74}}],line:617},'69':{loc:{start:{line:620,column:24},end:{line:625,column:25}},type:'if',locations:[{start:{line:620,column:24},end:{line:625,column:25}},{start:{line:620,column:24},end:{line:625,column:25}}],line:620},'70':{loc:{start:{line:634,column:4},end:{line:634,column:66}},type:'if',locations:[{start:{line:634,column:4},end:{line:634,column:66}},{start:{line:634,column:4},end:{line:634,column:66}}],line:634},'71':{loc:{start:{line:635,column:4},end:{line:681,column:5}},type:'if',locations:[{start:{line:635,column:4},end:{line:681,column:5}},{start:{line:635,column:4},end:{line:681,column:5}}],line:635},'72':{loc:{start:{line:642,column:12},end:{line:642,column:39}},type:'if',locations:[{start:{line:642,column:12},end:{line:642,column:39}},{start:{line:642,column:12},end:{line:642,column:39}}],line:642},'73':{loc:{start:{line:645,column:11},end:{line:681,column:5}},type:'if',locations:[{start:{line:645,column:11},end:{line:681,column:5}},{start:{line:645,column:11},end:{line:681,column:5}}],line:645},'74':{loc:{start:{line:648,column:12},end:{line:648,column:39}},type:'if',locations:[{start:{line:648,column:12},end:{line:648,column:39}},{start:{line:648,column:12},end:{line:648,column:39}}],line:648},'75':{loc:{start:{line:651,column:11},end:{line:681,column:5}},type:'if',locations:[{start:{line:651,column:11},end:{line:681,column:5}},{start:{line:651,column:11},end:{line:681,column:5}}],line:651},'76':{loc:{start:{line:657,column:12},end:{line:657,column:39}},type:'if',locations:[{start:{line:657,column:12},end:{line:657,column:39}},{start:{line:657,column:12},end:{line:657,column:39}}],line:657},'77':{loc:{start:{line:660,column:11},end:{line:681,column:5}},type:'if',locations:[{start:{line:660,column:11},end:{line:681,column:5}},{start:{line:660,column:11},end:{line:681,column:5}}],line:660},'78':{loc:{start:{line:666,column:12},end:{line:666,column:39}},type:'if',locations:[{start:{line:666,column:12},end:{line:666,column:39}},{start:{line:666,column:12},end:{line:666,column:39}}],line:666},'79':{loc:{start:{line:669,column:11},end:{line:681,column:5}},type:'if',locations:[{start:{line:669,column:11},end:{line:681,column:5}},{start:{line:669,column:11},end:{line:681,column:5}}],line:669},'80':{loc:{start:{line:671,column:12},end:{line:671,column:39}},type:'if',locations:[{start:{line:671,column:12},end:{line:671,column:39}},{start:{line:671,column:12},end:{line:671,column:39}}],line:671},'81':{loc:{start:{line:674,column:11},end:{line:681,column:5}},type:'if',locations:[{start:{line:674,column:11},end:{line:681,column:5}},{start:{line:674,column:11},end:{line:681,column:5}}],line:674},'82':{loc:{start:{line:676,column:12},end:{line:676,column:39}},type:'if',locations:[{start:{line:676,column:12},end:{line:676,column:39}},{start:{line:676,column:12},end:{line:676,column:39}}],line:676}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0,'223':0,'224':0,'225':0,'226':0,'227':0,'228':0,'229':0,'230':0,'231':0,'232':0,'233':0,'234':0,'235':0,'236':0,'237':0,'238':0,'239':0,'240':0,'241':0,'242':0,'243':0,'244':0,'245':0,'246':0,'247':0,'248':0,'249':0,'250':0,'251':0,'252':0,'253':0,'254':0,'255':0,'256':0,'257':0,'258':0,'259':0,'260':0,'261':0,'262':0,'263':0,'264':0,'265':0,'266':0,'267':0,'268':0,'269':0,'270':0,'271':0,'272':0,'273':0,'274':0,'275':0,'276':0,'277':0,'278':0,'279':0,'280':0,'281':0,'282':0,'283':0,'284':0,'285':0,'286':0,'287':0,'288':0,'289':0,'290':0,'291':0,'292':0,'293':0,'294':0,'295':0,'296':0,'297':0,'298':0,'299':0,'300':0,'301':0,'302':0,'303':0,'304':0,'305':0,'306':0,'307':0,'308':0,'309':0,'310':0,'311':0,'312':0,'313':0,'314':0,'315':0,'316':0,'317':0,'318':0,'319':0,'320':0,'321':0,'322':0,'323':0,'324':0,'325':0,'326':0,'327':0,'328':0,'329':0,'330':0,'331':0,'332':0,'333':0,'334':0,'335':0,'336':0,'337':0,'338':0,'339':0,'340':0,'341':0,'342':0,'343':0,'344':0,'345':0,'346':0,'347':0,'348':0,'349':0,'350':0,'351':0,'352':0,'353':0,'354':0,'355':0,'356':0,'357':0,'358':0,'359':0,'360':0,'361':0,'362':0,'363':0,'364':0,'365':0,'366':0,'367':0,'368':0,'369':0,'370':0,'371':0,'372':0,'373':0,'374':0,'375':0,'376':0,'377':0,'378':0,'379':0,'380':0,'381':0,'382':0,'383':0,'384':0,'385':0,'386':0,'387':0,'388':0,'389':0,'390':0,'391':0,'392':0,'393':0,'394':0,'395':0,'396':0,'397':0,'398':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0],'34':[0,0],'35':[0,0],'36':[0,0],'37':[0,0],'38':[0,0],'39':[0,0],'40':[0,0],'41':[0,0],'42':[0,0],'43':[0,0],'44':[0,0],'45':[0,0],'46':[0,0],'47':[0,0],'48':[0,0],'49':[0,0],'50':[0,0],'51':[0,0],'52':[0,0],'53':[0,0],'54':[0,0],'55':[0,0],'56':[0,0],'57':[0,0],'58':[0,0],'59':[0,0],'60':[0,0],'61':[0,0],'62':[0,0],'63':[0,0],'64':[0,0],'65':[0,0],'66':[0,0],'67':[0,0],'68':[0,0],'69':[0,0],'70':[0,0],'71':[0,0],'72':[0,0],'73':[0,0],'74':[0,0],'75':[0,0],'76':[0,0],'77':[0,0],'78':[0,0],'79':[0,0],'80':[0,0],'81':[0,0],'82':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var ERR=(++cov_w9adwlw1g.s[0],require('async-stacktrace'));var _=(++cov_w9adwlw1g.s[1],require('lodash'));var async=(++cov_w9adwlw1g.s[2],require('async'));var csvStringify=(++cov_w9adwlw1g.s[3],require('csv').stringify);var express=(++cov_w9adwlw1g.s[4],require('express'));var router=(++cov_w9adwlw1g.s[5],express.Router());var debug=(++cov_w9adwlw1g.s[6],require('debug')('prairielearn:instructorAssessment'));var error=(++cov_w9adwlw1g.s[7],require('../../lib/error'));var logger=(++cov_w9adwlw1g.s[8],require('../../lib/logger'));var serverJobs=(++cov_w9adwlw1g.s[9],require('../../lib/server-jobs'));var csvMaker=(++cov_w9adwlw1g.s[10],require('../../lib/csv-maker'));var dataFiles=(++cov_w9adwlw1g.s[11],require('../../lib/data-files'));var assessment=(++cov_w9adwlw1g.s[12],require('../../lib/assessment'));var sqldb=(++cov_w9adwlw1g.s[13],require('../../lib/sqldb'));var sqlLoader=(++cov_w9adwlw1g.s[14],require('../../lib/sql-loader'));var sql=(++cov_w9adwlw1g.s[15],sqlLoader.loadSqlEquiv(__filename));++cov_w9adwlw1g.s[16];var sanitizeName=function(name){++cov_w9adwlw1g.f[0];++cov_w9adwlw1g.s[17];return name.replace(/[^a-zA-Z0-9]/g,'_');};++cov_w9adwlw1g.s[18];var filenames=function(locals){++cov_w9adwlw1g.f[1];var prefix=(++cov_w9adwlw1g.s[19],sanitizeName(locals.course.short_name)+'_'+sanitizeName(locals.course_instance.short_name)+'_'+sanitizeName(locals.assessment_set.abbreviation)+sanitizeName(locals.assessment.number)+'_');++cov_w9adwlw1g.s[20];return{scoreStatsCsvFilename:prefix+'score_stats.csv',durationStatsCsvFilename:prefix+'duration_stats.csv',scoresCsvFilename:prefix+'scores.csv',scoresAllCsvFilename:prefix+'scores_all.csv',scoresByUsernameCsvFilename:prefix+'scores_by_username.csv',scoresByUsernameAllCsvFilename:prefix+'scores_by_username_all.csv',pointsCsvFilename:prefix+'points.csv',pointsAllCsvFilename:prefix+'points_all.csv',pointsByUsernameCsvFilename:prefix+'points_by_username.csv',pointsByUsernameAllCsvFilename:prefix+'points_by_username_all.csv',instancesCsvFilename:prefix+'instances.csv',instancesAllCsvFilename:prefix+'instances_all.csv',finalSubmissionsCsvFilename:prefix+'final_submissions.csv',allSubmissionsCsvFilename:prefix+'all_submissions.csv',finalFilesZipFilename:prefix+'final_files.zip',allFilesZipFilename:prefix+'all_files.zip',questionStatsCsvFilename:prefix+'question_stats.csv',statsByDateCsvFilename:prefix+'scores_by_date.csv'};};++cov_w9adwlw1g.s[21];router.get('/',function(req,res,next){++cov_w9adwlw1g.f[2];++cov_w9adwlw1g.s[22];debug('GET /');++cov_w9adwlw1g.s[23];async.series([function(callback){++cov_w9adwlw1g.f[3];++cov_w9adwlw1g.s[24];debug('set filenames');++cov_w9adwlw1g.s[25];_.assign(res.locals,filenames(res.locals));++cov_w9adwlw1g.s[26];callback(null);},function(callback){++cov_w9adwlw1g.f[4];++cov_w9adwlw1g.s[27];debug('query questions');var params=(++cov_w9adwlw1g.s[28],{assessment_id:res.locals.assessment.id,course_id:res.locals.course.id});++cov_w9adwlw1g.s[29];sqldb.query(sql.questions,params,function(err,result){++cov_w9adwlw1g.f[5];++cov_w9adwlw1g.s[30];if(ERR(err,callback)){++cov_w9adwlw1g.b[0][0];++cov_w9adwlw1g.s[31];return;}else{++cov_w9adwlw1g.b[0][1];}++cov_w9adwlw1g.s[32];res.locals.questions=result.rows;++cov_w9adwlw1g.s[33];callback(null);});},function(callback){++cov_w9adwlw1g.f[6];++cov_w9adwlw1g.s[34];debug('query assessment_access_rules');var params=(++cov_w9adwlw1g.s[35],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[36];sqldb.query(sql.assessment_access_rules,params,function(err,result){++cov_w9adwlw1g.f[7];++cov_w9adwlw1g.s[37];if(ERR(err,callback)){++cov_w9adwlw1g.b[1][0];++cov_w9adwlw1g.s[38];return;}else{++cov_w9adwlw1g.b[1][1];}++cov_w9adwlw1g.s[39];res.locals.access_rules=result.rows;++cov_w9adwlw1g.s[40];callback(null);});},function(callback){++cov_w9adwlw1g.f[8];++cov_w9adwlw1g.s[41];debug('query question_stats');var params=(++cov_w9adwlw1g.s[42],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[43];sqldb.query(sql.question_stats,params,function(err,result){++cov_w9adwlw1g.f[9];++cov_w9adwlw1g.s[44];if(ERR(err,callback)){++cov_w9adwlw1g.b[2][0];++cov_w9adwlw1g.s[45];return;}else{++cov_w9adwlw1g.b[2][1];}++cov_w9adwlw1g.s[46];res.locals.question_stats=result.rows;++cov_w9adwlw1g.s[47];callback(null);});},function(callback){++cov_w9adwlw1g.f[10];++cov_w9adwlw1g.s[48];debug('query assessment_stats');var params=(++cov_w9adwlw1g.s[49],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[50];sqldb.queryOneRow(sql.assessment_stats,params,function(err,result){++cov_w9adwlw1g.f[11];++cov_w9adwlw1g.s[51];if(ERR(err,callback)){++cov_w9adwlw1g.b[3][0];++cov_w9adwlw1g.s[52];return;}else{++cov_w9adwlw1g.b[3][1];}++cov_w9adwlw1g.s[53];res.locals.assessment_stat=result.rows[0];++cov_w9adwlw1g.s[54];callback(null);});},function(callback){++cov_w9adwlw1g.f[12];++cov_w9adwlw1g.s[55];debug('query assessment_score_histogram_by_date');var params=(++cov_w9adwlw1g.s[56],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[57];sqldb.query(sql.assessment_score_histogram_by_date,params,function(err,result){++cov_w9adwlw1g.f[13];++cov_w9adwlw1g.s[58];if(ERR(err,next)){++cov_w9adwlw1g.b[4][0];++cov_w9adwlw1g.s[59];return;}else{++cov_w9adwlw1g.b[4][1];}++cov_w9adwlw1g.s[60];res.locals.assessment_score_histogram_by_date=result.rows;++cov_w9adwlw1g.s[61];callback(null);});},function(callback){++cov_w9adwlw1g.f[14];++cov_w9adwlw1g.s[62];debug('query assessment_duration_stats');// FIXME: change to assessment_instance_duration_stats and show all instances
var params=(++cov_w9adwlw1g.s[63],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[64];sqldb.queryOneRow(sql.assessment_duration_stats,params,function(err,result){++cov_w9adwlw1g.f[15];++cov_w9adwlw1g.s[65];if(ERR(err,callback)){++cov_w9adwlw1g.b[5][0];++cov_w9adwlw1g.s[66];return;}else{++cov_w9adwlw1g.b[5][1];}++cov_w9adwlw1g.s[67];res.locals.duration_stat=result.rows[0];++cov_w9adwlw1g.s[68];callback(null);});},function(callback){++cov_w9adwlw1g.f[16];++cov_w9adwlw1g.s[69];debug('query select_regrading_job_sequences');var params=(++cov_w9adwlw1g.s[70],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[71];sqldb.query(sql.select_regrading_job_sequences,params,function(err,result){++cov_w9adwlw1g.f[17];++cov_w9adwlw1g.s[72];if(ERR(err,callback)){++cov_w9adwlw1g.b[6][0];++cov_w9adwlw1g.s[73];return;}else{++cov_w9adwlw1g.b[6][1];}++cov_w9adwlw1g.s[74];res.locals.regrading_job_sequences=result.rows;++cov_w9adwlw1g.s[75];callback(null);});},function(callback){++cov_w9adwlw1g.f[18];++cov_w9adwlw1g.s[76];debug('query assessment_instance_data');var params=(++cov_w9adwlw1g.s[77],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[78];sqldb.query(sql.select_assessment_instances,params,function(err,result){++cov_w9adwlw1g.f[19];++cov_w9adwlw1g.s[79];if(ERR(err,callback)){++cov_w9adwlw1g.b[7][0];++cov_w9adwlw1g.s[80];return;}else{++cov_w9adwlw1g.b[7][1];}++cov_w9adwlw1g.s[81];res.locals.user_scores=result.rows;++cov_w9adwlw1g.s[82];callback(null);});}],function(err){++cov_w9adwlw1g.f[20];++cov_w9adwlw1g.s[83];if(ERR(err,next)){++cov_w9adwlw1g.b[8][0];++cov_w9adwlw1g.s[84];return;}else{++cov_w9adwlw1g.b[8][1];}++cov_w9adwlw1g.s[85];debug('render page');++cov_w9adwlw1g.s[86];res.render(__filename.replace(/\.js$/,'.ejs'),res.locals);});});++cov_w9adwlw1g.s[87];var sendInstancesCsv=function(res,req,columns,options,callback){++cov_w9adwlw1g.f[21];var params=(++cov_w9adwlw1g.s[88],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[89];sqldb.query(sql.select_assessment_instances,params,function(err,result){++cov_w9adwlw1g.f[22];++cov_w9adwlw1g.s[90];if(ERR(err,callback)){++cov_w9adwlw1g.b[9][0];++cov_w9adwlw1g.s[91];return;}else{++cov_w9adwlw1g.b[9][1];}var rows=(++cov_w9adwlw1g.s[92],result.rows);++cov_w9adwlw1g.s[93];if(options.only_highest){++cov_w9adwlw1g.b[10][0];++cov_w9adwlw1g.s[94];rows=_.filter(rows,'highest_score');}else{++cov_w9adwlw1g.b[10][1];}++cov_w9adwlw1g.s[95];csvMaker.rowsToCsv(rows,columns,function(err,csv){++cov_w9adwlw1g.f[23];++cov_w9adwlw1g.s[96];if(ERR(err,callback)){++cov_w9adwlw1g.b[11][0];++cov_w9adwlw1g.s[97];return;}else{++cov_w9adwlw1g.b[11][1];}++cov_w9adwlw1g.s[98];res.attachment(req.params.filename);++cov_w9adwlw1g.s[99];res.send(csv);});});};++cov_w9adwlw1g.s[100];router.get('/:filename',function(req,res,next){++cov_w9adwlw1g.f[24];++cov_w9adwlw1g.s[101];_.assign(res.locals,filenames(res.locals));var assessmentName=(++cov_w9adwlw1g.s[102],res.locals.assessment_set.name+' '+res.locals.assessment.number);var scoresColumns=(++cov_w9adwlw1g.s[103],[['UID','uid'],[assessmentName,'score_perc']]);var scoresByUsernameColumns=(++cov_w9adwlw1g.s[104],[['Username','username'],[assessmentName,'score_perc']]);var pointsColumns=(++cov_w9adwlw1g.s[105],[['UID','uid'],[assessmentName,'points']]);var pointsByUsernameColumns=(++cov_w9adwlw1g.s[106],[['Username','username'],[assessmentName,'points']]);var instancesColumns=(++cov_w9adwlw1g.s[107],[['UID','uid'],['Username','username'],['Name','name'],['Role','role'],['Assessment','assessment_label'],['Instance','number'],['Started','date_formatted'],['Remaining','time_remaining'],['Score (%)','score_perc'],['Points','points'],['Max points','max_points'],['Duration (min)','duration_mins'],['Hightest score','highest_score']]);++cov_w9adwlw1g.s[108];if(req.params.filename==res.locals.scoreStatsCsvFilename){++cov_w9adwlw1g.b[12][0];let params=(++cov_w9adwlw1g.s[109],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[110];sqldb.queryOneRow(sql.assessment_stats,params,function(err,result){++cov_w9adwlw1g.f[25];++cov_w9adwlw1g.s[111];if(ERR(err,next)){++cov_w9adwlw1g.b[13][0];++cov_w9adwlw1g.s[112];return;}else{++cov_w9adwlw1g.b[13][1];}var assessmentStat=(++cov_w9adwlw1g.s[113],result.rows[0]);var csvHeaders=(++cov_w9adwlw1g.s[114],['Course','Instance','Set','Number','Assessment','Title','TID','NStudents','Mean','Std','Min','Max','Median','NZero','NHundred','NZeroPerc','NHundredPerc']);var csvData=(++cov_w9adwlw1g.s[115],[res.locals.course.short_name,res.locals.course_instance.short_name,res.locals.assessment_set.name,res.locals.assessment.number,res.locals.assessment_set.abbreviation+res.locals.assessment.number,res.locals.assessment.title,res.locals.assessment.tid,assessmentStat.number,assessmentStat.mean,assessmentStat.std,assessmentStat.min,assessmentStat.max,assessmentStat.median,assessmentStat.n_zero,assessmentStat.n_hundred,assessmentStat.n_zero_perc,assessmentStat.n_hundred_perc]);++cov_w9adwlw1g.s[116];_(assessmentStat.score_hist).each(function(count,i){++cov_w9adwlw1g.f[26];++cov_w9adwlw1g.s[117];csvHeaders.push('Hist '+(i+1));++cov_w9adwlw1g.s[118];csvData.push(count);});++cov_w9adwlw1g.s[119];csvData=[csvHeaders,csvData];++cov_w9adwlw1g.s[120];csvStringify(csvData,function(err,csv){++cov_w9adwlw1g.f[27];++cov_w9adwlw1g.s[121];if(ERR(err,next)){++cov_w9adwlw1g.b[14][0];++cov_w9adwlw1g.s[122];return;}else{++cov_w9adwlw1g.b[14][1];}++cov_w9adwlw1g.s[123];res.attachment(req.params.filename);++cov_w9adwlw1g.s[124];res.send(csv);});});}else{++cov_w9adwlw1g.b[12][1];++cov_w9adwlw1g.s[125];if(req.params.filename==res.locals.durationStatsCsvFilename){++cov_w9adwlw1g.b[15][0];let params=(++cov_w9adwlw1g.s[126],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[127];sqldb.queryOneRow(sql.assessment_duration_stats,params,function(err,result){++cov_w9adwlw1g.f[28];++cov_w9adwlw1g.s[128];if(ERR(err,next)){++cov_w9adwlw1g.b[16][0];++cov_w9adwlw1g.s[129];return;}else{++cov_w9adwlw1g.b[16][1];}var durationStat=(++cov_w9adwlw1g.s[130],result.rows[0]);var csvHeaders=(++cov_w9adwlw1g.s[131],['Course','Instance','Set','Number','Assessment','Title','TID','Mean duration (min)','Median duration (min)','Min duration (min)','Max duration (min)']);var csvData=(++cov_w9adwlw1g.s[132],[res.locals.course.short_name,res.locals.course_instance.short_name,res.locals.assessment_set.name,res.locals.assessment.number,res.locals.assessment_set.abbreviation+res.locals.assessment.number,res.locals.assessment.title,res.locals.assessment.tid,durationStat.mean_mins,durationStat.median_mins,durationStat.min_mins,durationStat.max_mins]);++cov_w9adwlw1g.s[133];_(durationStat.threshold_seconds).each(function(count,i){++cov_w9adwlw1g.f[29];++cov_w9adwlw1g.s[134];csvHeaders.push('Hist boundary '+(i+1)+' (s)');++cov_w9adwlw1g.s[135];csvData.push(count);});++cov_w9adwlw1g.s[136];_(durationStat.hist).each(function(count,i){++cov_w9adwlw1g.f[30];++cov_w9adwlw1g.s[137];csvHeaders.push('Hist'+(i+1));++cov_w9adwlw1g.s[138];csvData.push(count);});++cov_w9adwlw1g.s[139];csvData=[csvHeaders,csvData];++cov_w9adwlw1g.s[140];csvStringify(csvData,function(err,csv){++cov_w9adwlw1g.f[31];++cov_w9adwlw1g.s[141];if(ERR(err,next)){++cov_w9adwlw1g.b[17][0];++cov_w9adwlw1g.s[142];return;}else{++cov_w9adwlw1g.b[17][1];}++cov_w9adwlw1g.s[143];res.attachment(req.params.filename);++cov_w9adwlw1g.s[144];res.send(csv);});});}else{++cov_w9adwlw1g.b[15][1];++cov_w9adwlw1g.s[145];if(req.params.filename==res.locals.scoresCsvFilename){++cov_w9adwlw1g.b[18][0];++cov_w9adwlw1g.s[146];sendInstancesCsv(res,req,scoresColumns,{only_highest:true},err=>{++cov_w9adwlw1g.f[32];++cov_w9adwlw1g.s[147];if(ERR(err,next)){++cov_w9adwlw1g.b[19][0];++cov_w9adwlw1g.s[148];return;}else{++cov_w9adwlw1g.b[19][1];}});}else{++cov_w9adwlw1g.b[18][1];++cov_w9adwlw1g.s[149];if(req.params.filename==res.locals.scoresAllCsvFilename){++cov_w9adwlw1g.b[20][0];++cov_w9adwlw1g.s[150];sendInstancesCsv(res,req,scoresColumns,{only_highest:false},err=>{++cov_w9adwlw1g.f[33];++cov_w9adwlw1g.s[151];if(ERR(err,next)){++cov_w9adwlw1g.b[21][0];++cov_w9adwlw1g.s[152];return;}else{++cov_w9adwlw1g.b[21][1];}});}else{++cov_w9adwlw1g.b[20][1];++cov_w9adwlw1g.s[153];if(req.params.filename==res.locals.scoresByUsernameCsvFilename){++cov_w9adwlw1g.b[22][0];++cov_w9adwlw1g.s[154];sendInstancesCsv(res,req,scoresByUsernameColumns,{only_highest:true},err=>{++cov_w9adwlw1g.f[34];++cov_w9adwlw1g.s[155];if(ERR(err,next)){++cov_w9adwlw1g.b[23][0];++cov_w9adwlw1g.s[156];return;}else{++cov_w9adwlw1g.b[23][1];}});}else{++cov_w9adwlw1g.b[22][1];++cov_w9adwlw1g.s[157];if(req.params.filename==res.locals.scoresByUsernameAllCsvFilename){++cov_w9adwlw1g.b[24][0];++cov_w9adwlw1g.s[158];sendInstancesCsv(res,req,scoresByUsernameColumns,{only_highest:false},err=>{++cov_w9adwlw1g.f[35];++cov_w9adwlw1g.s[159];if(ERR(err,next)){++cov_w9adwlw1g.b[25][0];++cov_w9adwlw1g.s[160];return;}else{++cov_w9adwlw1g.b[25][1];}});}else{++cov_w9adwlw1g.b[24][1];++cov_w9adwlw1g.s[161];if(req.params.filename==res.locals.pointsCsvFilename){++cov_w9adwlw1g.b[26][0];++cov_w9adwlw1g.s[162];sendInstancesCsv(res,req,pointsColumns,{only_highest:true},err=>{++cov_w9adwlw1g.f[36];++cov_w9adwlw1g.s[163];if(ERR(err,next)){++cov_w9adwlw1g.b[27][0];++cov_w9adwlw1g.s[164];return;}else{++cov_w9adwlw1g.b[27][1];}});}else{++cov_w9adwlw1g.b[26][1];++cov_w9adwlw1g.s[165];if(req.params.filename==res.locals.pointsAllCsvFilename){++cov_w9adwlw1g.b[28][0];++cov_w9adwlw1g.s[166];sendInstancesCsv(res,req,pointsColumns,{only_highest:false},err=>{++cov_w9adwlw1g.f[37];++cov_w9adwlw1g.s[167];if(ERR(err,next)){++cov_w9adwlw1g.b[29][0];++cov_w9adwlw1g.s[168];return;}else{++cov_w9adwlw1g.b[29][1];}});}else{++cov_w9adwlw1g.b[28][1];++cov_w9adwlw1g.s[169];if(req.params.filename==res.locals.pointsByUsernameCsvFilename){++cov_w9adwlw1g.b[30][0];++cov_w9adwlw1g.s[170];sendInstancesCsv(res,req,pointsByUsernameColumns,{only_highest:true},err=>{++cov_w9adwlw1g.f[38];++cov_w9adwlw1g.s[171];if(ERR(err,next)){++cov_w9adwlw1g.b[31][0];++cov_w9adwlw1g.s[172];return;}else{++cov_w9adwlw1g.b[31][1];}});}else{++cov_w9adwlw1g.b[30][1];++cov_w9adwlw1g.s[173];if(req.params.filename==res.locals.pointsByUsernameAllCsvFilename){++cov_w9adwlw1g.b[32][0];++cov_w9adwlw1g.s[174];sendInstancesCsv(res,req,pointsByUsernameColumns,{only_highest:false},err=>{++cov_w9adwlw1g.f[39];++cov_w9adwlw1g.s[175];if(ERR(err,next)){++cov_w9adwlw1g.b[33][0];++cov_w9adwlw1g.s[176];return;}else{++cov_w9adwlw1g.b[33][1];}});}else{++cov_w9adwlw1g.b[32][1];++cov_w9adwlw1g.s[177];if(req.params.filename==res.locals.instancesCsvFilename){++cov_w9adwlw1g.b[34][0];++cov_w9adwlw1g.s[178];sendInstancesCsv(res,req,instancesColumns,{only_highest:true},err=>{++cov_w9adwlw1g.f[40];++cov_w9adwlw1g.s[179];if(ERR(err,next)){++cov_w9adwlw1g.b[35][0];++cov_w9adwlw1g.s[180];return;}else{++cov_w9adwlw1g.b[35][1];}});}else{++cov_w9adwlw1g.b[34][1];++cov_w9adwlw1g.s[181];if(req.params.filename==res.locals.instancesAllCsvFilename){++cov_w9adwlw1g.b[36][0];++cov_w9adwlw1g.s[182];sendInstancesCsv(res,req,instancesColumns,{only_highest:false},err=>{++cov_w9adwlw1g.f[41];++cov_w9adwlw1g.s[183];if(ERR(err,next)){++cov_w9adwlw1g.b[37][0];++cov_w9adwlw1g.s[184];return;}else{++cov_w9adwlw1g.b[37][1];}});}else{++cov_w9adwlw1g.b[36][1];++cov_w9adwlw1g.s[185];if((++cov_w9adwlw1g.b[39][0],req.params.filename==res.locals.allSubmissionsCsvFilename)||(++cov_w9adwlw1g.b[39][1],req.params.filename==res.locals.finalSubmissionsCsvFilename)){++cov_w9adwlw1g.b[38][0];let include_all=(++cov_w9adwlw1g.s[186],req.params.filename==res.locals.allSubmissionsCsvFilename);let params=(++cov_w9adwlw1g.s[187],{assessment_id:res.locals.assessment.id,include_all:include_all});++cov_w9adwlw1g.s[188];sqldb.query(sql.assessment_instance_submissions,params,function(err,result){++cov_w9adwlw1g.f[42];++cov_w9adwlw1g.s[189];if(ERR(err,next)){++cov_w9adwlw1g.b[40][0];++cov_w9adwlw1g.s[190];return;}else{++cov_w9adwlw1g.b[40][1];}var columns=(++cov_w9adwlw1g.s[191],[['UID','uid'],['Name','name'],['Role','role'],['Assessment','assessment_label'],['Assessment instance','assessment_instance_number'],['Question','qid'],['Question instance','instance_question_number'],['Variant','variant_number'],['Seed','variant_seed'],['Params','params'],['True answer','true_answer'],['Options','options'],['Submission date','submission_date_formatted'],['Submitted answer','submitted_answer'],['Override score','override_score'],['Credit','credit'],['Mode','mode'],['Grading requested date','grading_requested_at_formatted'],['Grading date','graded_at_formatted'],['Score','score'],['Correct','correct'],['Feedback','feedback']]);++cov_w9adwlw1g.s[192];if(!include_all){++cov_w9adwlw1g.b[41][0];++cov_w9adwlw1g.s[193];columns=columns.concat([['Question points','points'],['Max points','max_points'],['Question % score','score_perc']]);}else{++cov_w9adwlw1g.b[41][1];}++cov_w9adwlw1g.s[194];csvMaker.rowsToCsv(result.rows,columns,function(err,csv){++cov_w9adwlw1g.f[43];++cov_w9adwlw1g.s[195];if(ERR(err,next)){++cov_w9adwlw1g.b[42][0];++cov_w9adwlw1g.s[196];return;}else{++cov_w9adwlw1g.b[42][1];}++cov_w9adwlw1g.s[197];res.attachment(req.params.filename);++cov_w9adwlw1g.s[198];res.send(csv);});});}else{++cov_w9adwlw1g.b[38][1];++cov_w9adwlw1g.s[199];if((++cov_w9adwlw1g.b[44][0],req.params.filename==res.locals.allFilesZipFilename)||(++cov_w9adwlw1g.b[44][1],req.params.filename==res.locals.finalFilesZipFilename)){++cov_w9adwlw1g.b[43][0];let include_all=(++cov_w9adwlw1g.s[200],req.params.filename==res.locals.allFilesZipFilename);let params=(++cov_w9adwlw1g.s[201],{assessment_id:res.locals.assessment.id,include_all:include_all});++cov_w9adwlw1g.s[202];sqldb.query(sql.assessment_instance_files,params,function(err,result){++cov_w9adwlw1g.f[44];++cov_w9adwlw1g.s[203];if(ERR(err,next)){++cov_w9adwlw1g.b[45][0];++cov_w9adwlw1g.s[204];return;}else{++cov_w9adwlw1g.b[45][1];}var dirname=(++cov_w9adwlw1g.s[205],(res.locals.assessment_set.name+res.locals.assessment.number).replace(' ',''));++cov_w9adwlw1g.s[206];dataFiles.filesToZipBuffer(result.rows,dirname,function(err,zipBuffer){++cov_w9adwlw1g.f[45];++cov_w9adwlw1g.s[207];if(ERR(err,next)){++cov_w9adwlw1g.b[46][0];++cov_w9adwlw1g.s[208];return;}else{++cov_w9adwlw1g.b[46][1];}++cov_w9adwlw1g.s[209];res.attachment(req.params.filename);++cov_w9adwlw1g.s[210];res.send(zipBuffer);});});}else{++cov_w9adwlw1g.b[43][1];++cov_w9adwlw1g.s[211];if(req.params.filename==res.locals.questionStatsCsvFilename){++cov_w9adwlw1g.b[47][0];let params=(++cov_w9adwlw1g.s[212],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[213];sqldb.query(sql.question_stats,params,function(err,result){++cov_w9adwlw1g.f[46];++cov_w9adwlw1g.s[214];if(ERR(err,next)){++cov_w9adwlw1g.b[48][0];++cov_w9adwlw1g.s[215];return;}else{++cov_w9adwlw1g.b[48][1];}var questionStatsList=(++cov_w9adwlw1g.s[216],result.rows);var csvData=(++cov_w9adwlw1g.s[217],[]);var csvHeaders=(++cov_w9adwlw1g.s[218],['Question number','Question title','Mean score','Discrimination','Attempts']);++cov_w9adwlw1g.s[219];for(var i=0;i<5;i++){++cov_w9adwlw1g.s[220];csvHeaders.push('Hist '+(i+1));}++cov_w9adwlw1g.s[221];csvData.push(csvHeaders);++cov_w9adwlw1g.s[222];_(questionStatsList).each(function(questionStats){++cov_w9adwlw1g.f[47];var questionStatsData=(++cov_w9adwlw1g.s[223],[]);++cov_w9adwlw1g.s[224];questionStatsData.push(questionStats.number);++cov_w9adwlw1g.s[225];questionStatsData.push(questionStats.title);++cov_w9adwlw1g.s[226];questionStatsData.push(questionStats.mean_score_per_question);++cov_w9adwlw1g.s[227];questionStatsData.push(questionStats.discrimination);++cov_w9adwlw1g.s[228];questionStatsData.push(questionStats.average_number_attempts);++cov_w9adwlw1g.s[229];_(questionStats.quintile_scores).each(function(perc){++cov_w9adwlw1g.f[48];++cov_w9adwlw1g.s[230];questionStatsData.push(perc);});++cov_w9adwlw1g.s[231];csvData.push(questionStatsData);});++cov_w9adwlw1g.s[232];csvStringify(csvData,function(err,csv){++cov_w9adwlw1g.f[49];++cov_w9adwlw1g.s[233];if(ERR(err,next)){++cov_w9adwlw1g.b[49][0];++cov_w9adwlw1g.s[234];return;}else{++cov_w9adwlw1g.b[49][1];}++cov_w9adwlw1g.s[235];res.attachment(req.params.filename);++cov_w9adwlw1g.s[236];res.send(csv);});});}else{++cov_w9adwlw1g.b[47][1];++cov_w9adwlw1g.s[237];if(req.params.filename==res.locals.statsByDateCsvFilename){++cov_w9adwlw1g.b[50][0];let params=(++cov_w9adwlw1g.s[238],{assessment_id:res.locals.assessment.id});++cov_w9adwlw1g.s[239];sqldb.query(sql.assessment_score_histogram_by_date,params,function(err,result){++cov_w9adwlw1g.f[50];++cov_w9adwlw1g.s[240];if(ERR(err,next)){++cov_w9adwlw1g.b[51][0];++cov_w9adwlw1g.s[241];return;}else{++cov_w9adwlw1g.b[51][1];}var scoresByDay=(++cov_w9adwlw1g.s[242],result.rows);var csvHeaders=(++cov_w9adwlw1g.s[243],['Date']);++cov_w9adwlw1g.s[244];_(scoresByDay).each(function(day){++cov_w9adwlw1g.f[51];++cov_w9adwlw1g.s[245];csvHeaders.push(day.date_formatted);});var numDays=(++cov_w9adwlw1g.s[246],scoresByDay.length);var numGroups=(++cov_w9adwlw1g.s[247],scoresByDay[0].histogram.length);var csvData=(++cov_w9adwlw1g.s[248],[]);let groupData=(++cov_w9adwlw1g.s[249],['Number']);++cov_w9adwlw1g.s[250];for(let day=0;day<numDays;day++){++cov_w9adwlw1g.s[251];groupData.push(scoresByDay[day].number);}++cov_w9adwlw1g.s[252];csvData.push(groupData);++cov_w9adwlw1g.s[253];groupData=['Mean score perc'];++cov_w9adwlw1g.s[254];for(let day=0;day<numDays;day++){++cov_w9adwlw1g.s[255];groupData.push(scoresByDay[day].mean_score_perc);}++cov_w9adwlw1g.s[256];csvData.push(groupData);++cov_w9adwlw1g.s[257];for(var group=0;group<numGroups;group++){++cov_w9adwlw1g.s[258];groupData=[group*10+'% to '+(group+1)*10+'%'];++cov_w9adwlw1g.s[259];for(var day=0;day<numDays;day++){++cov_w9adwlw1g.s[260];groupData.push(scoresByDay[day].histogram[group]);}++cov_w9adwlw1g.s[261];csvData.push(groupData);}++cov_w9adwlw1g.s[262];csvData.splice(0,0,csvHeaders);++cov_w9adwlw1g.s[263];csvStringify(csvData,function(err,csv){++cov_w9adwlw1g.f[52];++cov_w9adwlw1g.s[264];if(ERR(err,next)){++cov_w9adwlw1g.b[52][0];++cov_w9adwlw1g.s[265];return;}else{++cov_w9adwlw1g.b[52][1];}++cov_w9adwlw1g.s[266];res.attachment(req.params.filename);++cov_w9adwlw1g.s[267];res.send(csv);});});}else{++cov_w9adwlw1g.b[50][1];++cov_w9adwlw1g.s[268];next(new Error('Unknown filename: '+req.params.filename));}}}}}}}}}}}}}}}}});++cov_w9adwlw1g.s[269];var regradeAssessmentInstance=function(assessment_instance_id,locals,callback){++cov_w9adwlw1g.f[53];var params=(++cov_w9adwlw1g.s[270],{assessment_instance_id});++cov_w9adwlw1g.s[271];sqldb.query(sql.select_regrade_assessment_instance_info,params,function(err,result){++cov_w9adwlw1g.f[54];++cov_w9adwlw1g.s[272];if(ERR(err,callback)){++cov_w9adwlw1g.b[53][0];++cov_w9adwlw1g.s[273];return;}else{++cov_w9adwlw1g.b[53][1];}var assessment_instance_label=(++cov_w9adwlw1g.s[274],result.rows[0].assessment_instance_label);var user_uid=(++cov_w9adwlw1g.s[275],result.rows[0].user_uid);var assessment_id=(++cov_w9adwlw1g.s[276],result.rows[0].assessment_id);var options=(++cov_w9adwlw1g.s[277],{course_id:locals.course.id,course_instance_id:locals.course_instance.id,assessment_id:assessment_id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'regrade_assessment_instance',description:'Regrade '+assessment_instance_label+' for '+user_uid});++cov_w9adwlw1g.s[278];serverJobs.createJobSequence(options,function(err,job_sequence_id){++cov_w9adwlw1g.f[55];++cov_w9adwlw1g.s[279];if(ERR(err,callback)){++cov_w9adwlw1g.b[54][0];++cov_w9adwlw1g.s[280];return;}else{++cov_w9adwlw1g.b[54][1];}++cov_w9adwlw1g.s[281];callback(null,job_sequence_id);// We've now triggered the callback to our caller, but we
// continue executing below to launch the jobs themselves.
var jobOptions=(++cov_w9adwlw1g.s[282],{course_id:locals.course.id,course_instance_id:locals.course_instance.id,assessment_id:assessment_id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'regrade_assessment_instance',description:'Regrade '+assessment_instance_label+' for '+user_uid,job_sequence_id:job_sequence_id,last_in_sequence:true});++cov_w9adwlw1g.s[283];serverJobs.createJob(jobOptions,function(err,job){++cov_w9adwlw1g.f[56];++cov_w9adwlw1g.s[284];if(err){++cov_w9adwlw1g.b[55][0];++cov_w9adwlw1g.s[285];logger.error('Error in createJob()',err);++cov_w9adwlw1g.s[286];serverJobs.failJobSequence(job_sequence_id);++cov_w9adwlw1g.s[287];return;}else{++cov_w9adwlw1g.b[55][1];}++cov_w9adwlw1g.s[288];job.verbose('Regrading '+assessment_instance_label+' for '+user_uid);var params=(++cov_w9adwlw1g.s[289],[assessment_instance_id,locals.authn_user.user_id]);++cov_w9adwlw1g.s[290];sqldb.call('assessment_instances_regrade',params,function(err,result){++cov_w9adwlw1g.f[57];++cov_w9adwlw1g.s[291];if(ERR(err,function(){++cov_w9adwlw1g.f[58];})){++cov_w9adwlw1g.b[56][0];++cov_w9adwlw1g.s[292];job.fail(err);}else{++cov_w9adwlw1g.b[56][1];++cov_w9adwlw1g.s[293];if(result.rowCount!=1){++cov_w9adwlw1g.b[57][0];++cov_w9adwlw1g.s[294];job.fail(new Error('Incorrect rowCount: '+result.rowCount));}else{++cov_w9adwlw1g.b[57][1];}++cov_w9adwlw1g.s[295];job.verbose('Regrading complete');var regrade=(++cov_w9adwlw1g.s[296],result.rows[0]);++cov_w9adwlw1g.s[297];if(regrade.updated){++cov_w9adwlw1g.b[58][0];++cov_w9adwlw1g.s[298];job.verbose('Questions updated: '+regrade.updated_question_names.join(', '));++cov_w9adwlw1g.s[299];job.verbose('New score: '+Math.floor(regrade.new_score_perc)+'% (was '+Math.floor(regrade.old_score_perc)+'%)');}else{++cov_w9adwlw1g.b[58][1];++cov_w9adwlw1g.s[300];job.verbose('No changes made');}++cov_w9adwlw1g.s[301];job.succeed();}});});});});};++cov_w9adwlw1g.s[302];var regradeAllAssessmentInstances=function(assessment_id,locals,callback){++cov_w9adwlw1g.f[59];var params=(++cov_w9adwlw1g.s[303],{assessment_id});++cov_w9adwlw1g.s[304];sqldb.queryOneRow(sql.select_regrade_assessment_info,params,function(err,result){++cov_w9adwlw1g.f[60];++cov_w9adwlw1g.s[305];if(ERR(err,callback)){++cov_w9adwlw1g.b[59][0];++cov_w9adwlw1g.s[306];return;}else{++cov_w9adwlw1g.b[59][1];}var assessment_label=(++cov_w9adwlw1g.s[307],result.rows[0].assessment_label);var options=(++cov_w9adwlw1g.s[308],{course_id:locals.course.id,course_instance_id:locals.course_instance.id,assessment_id:assessment_id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'regrade_assessment',description:'Regrade '+assessment_label});++cov_w9adwlw1g.s[309];serverJobs.createJobSequence(options,function(err,job_sequence_id){++cov_w9adwlw1g.f[61];++cov_w9adwlw1g.s[310];if(ERR(err,callback)){++cov_w9adwlw1g.b[60][0];++cov_w9adwlw1g.s[311];return;}else{++cov_w9adwlw1g.b[60][1];}++cov_w9adwlw1g.s[312];callback(null,job_sequence_id);// We've now triggered the callback to our caller, but we
// continue executing below to launch the jobs themselves.
var jobOptions=(++cov_w9adwlw1g.s[313],{course_id:locals.course.id,course_instance_id:locals.course_instance.id,assessment_id:assessment_id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'regrade_assessment',description:'Regrade '+assessment_label,job_sequence_id:job_sequence_id,last_in_sequence:true});++cov_w9adwlw1g.s[314];serverJobs.createJob(jobOptions,function(err,job){++cov_w9adwlw1g.f[62];++cov_w9adwlw1g.s[315];if(err){++cov_w9adwlw1g.b[61][0];++cov_w9adwlw1g.s[316];logger.error('Error in createJob()',err);++cov_w9adwlw1g.s[317];serverJobs.failJobSequence(job_sequence_id);++cov_w9adwlw1g.s[318];return;}else{++cov_w9adwlw1g.b[61][1];}++cov_w9adwlw1g.s[319];job.verbose('Regrading all assessment instances for '+assessment_label);var params=(++cov_w9adwlw1g.s[320],{assessment_id});++cov_w9adwlw1g.s[321];sqldb.query(sql.select_regrade_assessment_instances,params,function(err,result){++cov_w9adwlw1g.f[63];++cov_w9adwlw1g.s[322];if(ERR(err,function(){++cov_w9adwlw1g.f[64];})){++cov_w9adwlw1g.b[62][0];++cov_w9adwlw1g.s[323];return job.fail(err);}else{++cov_w9adwlw1g.b[62][1];}var updated_count=(++cov_w9adwlw1g.s[324],0);var error_count=(++cov_w9adwlw1g.s[325],0);// acculumate output lines in the "output" variable and actually
// output put them every 100 lines, to avoid spamming the updates
var output=(++cov_w9adwlw1g.s[326],null);var output_count=(++cov_w9adwlw1g.s[327],0);++cov_w9adwlw1g.s[328];async.eachSeries(result.rows,function(row,callback){++cov_w9adwlw1g.f[65];var params=(++cov_w9adwlw1g.s[329],[row.assessment_instance_id,locals.authn_user.user_id]);++cov_w9adwlw1g.s[330];sqldb.callOneRow('assessment_instances_regrade',params,function(err,result){++cov_w9adwlw1g.f[66];var msg;++cov_w9adwlw1g.s[331];if(ERR(err,function(){++cov_w9adwlw1g.f[67];})){++cov_w9adwlw1g.b[63][0];++cov_w9adwlw1g.s[332];logger.error('error while regrading',{jobOptions,row,err});++cov_w9adwlw1g.s[333];error_count++;++cov_w9adwlw1g.s[334];msg='ERROR updating '+row.assessment_instance_label+' for '+row.user_uid;}else{++cov_w9adwlw1g.b[63][1];var regrade=(++cov_w9adwlw1g.s[335],result.rows[0]);++cov_w9adwlw1g.s[336];msg='Regraded '+row.assessment_instance_label+' for '+row.user_uid+': ';++cov_w9adwlw1g.s[337];if(regrade.updated){++cov_w9adwlw1g.b[64][0];++cov_w9adwlw1g.s[338];updated_count++;++cov_w9adwlw1g.s[339];msg+='New score: '+Math.floor(regrade.new_score_perc)+'% (was '+Math.floor(regrade.old_score_perc)+'%), '+'Questions updated: '+regrade.updated_question_names.join(', ');}else{++cov_w9adwlw1g.b[64][1];++cov_w9adwlw1g.s[340];msg+='No changes made';}}++cov_w9adwlw1g.s[341];if(output==null){++cov_w9adwlw1g.b[65][0];++cov_w9adwlw1g.s[342];output=msg;}else{++cov_w9adwlw1g.b[65][1];++cov_w9adwlw1g.s[343];output+='\n'+msg;}++cov_w9adwlw1g.s[344];output_count++;++cov_w9adwlw1g.s[345];if(output_count>=100){++cov_w9adwlw1g.b[66][0];++cov_w9adwlw1g.s[346];job.verbose(output);++cov_w9adwlw1g.s[347];output=null;++cov_w9adwlw1g.s[348];output_count=0;}else{++cov_w9adwlw1g.b[66][1];}++cov_w9adwlw1g.s[349];callback(null);});},function(err){++cov_w9adwlw1g.f[68];++cov_w9adwlw1g.s[350];if(output_count>0){++cov_w9adwlw1g.b[67][0];++cov_w9adwlw1g.s[351];job.verbose(output);}else{++cov_w9adwlw1g.b[67][1];}++cov_w9adwlw1g.s[352];if(ERR(err,function(){++cov_w9adwlw1g.f[69];})){++cov_w9adwlw1g.b[68][0];++cov_w9adwlw1g.s[353];return job.fail(err);}else{++cov_w9adwlw1g.b[68][1];}++cov_w9adwlw1g.s[354];job.verbose('Regrading complete');++cov_w9adwlw1g.s[355];job.verbose('Number of assessment instances updated: '+updated_count);++cov_w9adwlw1g.s[356];if(error_count>0){++cov_w9adwlw1g.b[69][0];++cov_w9adwlw1g.s[357];job.verbose('Number of errors: '+error_count);++cov_w9adwlw1g.s[358];job.fail(new Error('Errors occurred while regrading, see output for details'));}else{++cov_w9adwlw1g.b[69][1];++cov_w9adwlw1g.s[359];job.succeed();}});});});});});};++cov_w9adwlw1g.s[360];router.post('/',function(req,res,next){++cov_w9adwlw1g.f[70];++cov_w9adwlw1g.s[361];if(!res.locals.authz_data.has_instructor_edit){++cov_w9adwlw1g.b[70][0];++cov_w9adwlw1g.s[362];return next();}else{++cov_w9adwlw1g.b[70][1];}++cov_w9adwlw1g.s[363];if(req.body.__action=='open'){++cov_w9adwlw1g.b[71][0];let params=(++cov_w9adwlw1g.s[364],{assessment_id:res.locals.assessment.id,assessment_instance_id:req.body.assessment_instance_id,authn_user_id:res.locals.authz_data.authn_user.user_id});++cov_w9adwlw1g.s[365];sqldb.queryOneRow(sql.open,params,function(err,_result){++cov_w9adwlw1g.f[71];++cov_w9adwlw1g.s[366];if(ERR(err,next)){++cov_w9adwlw1g.b[72][0];++cov_w9adwlw1g.s[367];return;}else{++cov_w9adwlw1g.b[72][1];}++cov_w9adwlw1g.s[368];res.redirect(req.originalUrl);});}else{++cov_w9adwlw1g.b[71][1];++cov_w9adwlw1g.s[369];if(req.body.__action=='close'){++cov_w9adwlw1g.b[73][0];var close=(++cov_w9adwlw1g.s[370],true);++cov_w9adwlw1g.s[371];assessment.gradeAssessmentInstance(req.body.assessment_instance_id,res.locals.authn_user.user_id,close,function(err){++cov_w9adwlw1g.f[72];++cov_w9adwlw1g.s[372];if(ERR(err,next)){++cov_w9adwlw1g.b[74][0];++cov_w9adwlw1g.s[373];return;}else{++cov_w9adwlw1g.b[74][1];}++cov_w9adwlw1g.s[374];res.redirect(req.originalUrl);});}else{++cov_w9adwlw1g.b[73][1];++cov_w9adwlw1g.s[375];if(req.body.__action=='delete'){++cov_w9adwlw1g.b[75][0];let params=(++cov_w9adwlw1g.s[376],[req.body.assessment_instance_id,res.locals.authn_user.user_id]);++cov_w9adwlw1g.s[377];sqldb.call('assessment_instances_delete',params,function(err,_result){++cov_w9adwlw1g.f[73];++cov_w9adwlw1g.s[378];if(ERR(err,next)){++cov_w9adwlw1g.b[76][0];++cov_w9adwlw1g.s[379];return;}else{++cov_w9adwlw1g.b[76][1];}++cov_w9adwlw1g.s[380];res.redirect(req.originalUrl);});}else{++cov_w9adwlw1g.b[75][1];++cov_w9adwlw1g.s[381];if(req.body.__action=='delete_all'){++cov_w9adwlw1g.b[77][0];let params=(++cov_w9adwlw1g.s[382],[req.body.assessment_id,res.locals.authn_user.user_id]);++cov_w9adwlw1g.s[383];sqldb.call('assessment_instances_delete_all',params,function(err,_result){++cov_w9adwlw1g.f[74];++cov_w9adwlw1g.s[384];if(ERR(err,next)){++cov_w9adwlw1g.b[78][0];++cov_w9adwlw1g.s[385];return;}else{++cov_w9adwlw1g.b[78][1];}++cov_w9adwlw1g.s[386];res.redirect(req.originalUrl);});}else{++cov_w9adwlw1g.b[77][1];++cov_w9adwlw1g.s[387];if(req.body.__action=='regrade'){++cov_w9adwlw1g.b[79][0];++cov_w9adwlw1g.s[388];regradeAssessmentInstance(req.body.assessment_instance_id,res.locals,function(err,job_sequence_id){++cov_w9adwlw1g.f[75];++cov_w9adwlw1g.s[389];if(ERR(err,next)){++cov_w9adwlw1g.b[80][0];++cov_w9adwlw1g.s[390];return;}else{++cov_w9adwlw1g.b[80][1];}++cov_w9adwlw1g.s[391];res.redirect(res.locals.urlPrefix+'/jobSequence/'+job_sequence_id);});}else{++cov_w9adwlw1g.b[79][1];++cov_w9adwlw1g.s[392];if(req.body.__action=='regrade_all'){++cov_w9adwlw1g.b[81][0];++cov_w9adwlw1g.s[393];regradeAllAssessmentInstances(req.body.assessment_id,res.locals,function(err,job_sequence_id){++cov_w9adwlw1g.f[76];++cov_w9adwlw1g.s[394];if(ERR(err,next)){++cov_w9adwlw1g.b[82][0];++cov_w9adwlw1g.s[395];return;}else{++cov_w9adwlw1g.b[82][1];}++cov_w9adwlw1g.s[396];res.redirect(res.locals.urlPrefix+'/jobSequence/'+job_sequence_id);});}else{++cov_w9adwlw1g.b[81][1];++cov_w9adwlw1g.s[397];return next(error.make(400,'unknown __action',{locals:res.locals,body:req.body}));}}}}}}});++cov_w9adwlw1g.s[398];module.exports=router;