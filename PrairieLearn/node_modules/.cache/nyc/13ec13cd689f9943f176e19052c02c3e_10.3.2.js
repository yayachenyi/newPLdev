var cov_20zg30hqp0=function(){var path='/Users/fengyichen/pldev/newfolder/PrairieLearn/tests/testGetHomepage.js',hash='35d0cab9ddd72a749b3ee3c0254abbe09d206303',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/fengyichen/pldev/newfolder/PrairieLearn/tests/testGetHomepage.js',statementMap:{'0':{start:{line:1,column:13},end:{line:1,column:30}},'1':{start:{line:2,column:14},end:{line:2,column:32}},'2':{start:{line:3,column:14},end:{line:3,column:32}},'3':{start:{line:5,column:13},end:{line:5,column:37}},'4':{start:{line:6,column:19},end:{line:6,column:44}},'5':{start:{line:8,column:14},end:{line:8,column:61}},'6':{start:{line:10,column:0},end:{line:36,column:3}},'7':{start:{line:11,column:4},end:{line:11,column:24}},'8':{start:{line:13,column:4},end:{line:13,column:57}},'9':{start:{line:14,column:4},end:{line:14,column:58}},'10':{start:{line:18,column:4},end:{line:29,column:7}},'11':{start:{line:19,column:8},end:{line:28,column:11}},'12':{start:{line:20,column:12},end:{line:22,column:13}},'13':{start:{line:21,column:16},end:{line:21,column:39}},'14':{start:{line:23,column:12},end:{line:25,column:13}},'15':{start:{line:24,column:16},end:{line:24,column:81}},'16':{start:{line:26,column:12},end:{line:26,column:24}},'17':{start:{line:27,column:12},end:{line:27,column:27}},'18':{start:{line:30,column:4},end:{line:32,column:7}},'19':{start:{line:31,column:8},end:{line:31,column:31}},'20':{start:{line:33,column:4},end:{line:35,column:7}},'21':{start:{line:34,column:8},end:{line:34,column:56}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:10,column:20},end:{line:10,column:21}},loc:{start:{line:10,column:31},end:{line:36,column:1}},line:10},'1':{name:'(anonymous_1)',decl:{start:{line:18,column:35},end:{line:18,column:36}},loc:{start:{line:18,column:54},end:{line:29,column:5}},line:18},'2':{name:'(anonymous_2)',decl:{start:{line:19,column:25},end:{line:19,column:26}},loc:{start:{line:19,column:58},end:{line:28,column:9}},line:19},'3':{name:'(anonymous_3)',decl:{start:{line:30,column:23},end:{line:30,column:24}},loc:{start:{line:30,column:34},end:{line:32,column:5}},line:30},'4':{name:'(anonymous_4)',decl:{start:{line:33,column:33},end:{line:33,column:34}},loc:{start:{line:33,column:44},end:{line:35,column:5}},line:33}},branchMap:{'0':{loc:{start:{line:20,column:12},end:{line:22,column:13}},type:'if',locations:[{start:{line:20,column:12},end:{line:22,column:13}},{start:{line:20,column:12},end:{line:22,column:13}}],line:20},'1':{loc:{start:{line:23,column:12},end:{line:25,column:13}},type:'if',locations:[{start:{line:23,column:12},end:{line:25,column:13}},{start:{line:23,column:12},end:{line:25,column:13}}],line:23}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0},b:{'0':[0,0],'1':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var assert=(++cov_20zg30hqp0.s[0],require('assert'));var request=(++cov_20zg30hqp0.s[1],require('request'));var cheerio=(++cov_20zg30hqp0.s[2],require('cheerio'));var config=(++cov_20zg30hqp0.s[3],require('../lib/config'));var helperServer=(++cov_20zg30hqp0.s[4],require('./helperServer'));var baseUrl=(++cov_20zg30hqp0.s[5],'http://localhost:'+config.serverPort+'/pl');++cov_20zg30hqp0.s[6];describe('GET /pl',function(){++cov_20zg30hqp0.f[0];++cov_20zg30hqp0.s[7];this.timeout(20000);++cov_20zg30hqp0.s[8];before('set up testing server',helperServer.before);++cov_20zg30hqp0.s[9];after('shut down testing server',helperServer.after);var page,$;++cov_20zg30hqp0.s[10];it('should load successfully',function(callback){++cov_20zg30hqp0.f[1];++cov_20zg30hqp0.s[11];request(baseUrl,function(error,response,body){++cov_20zg30hqp0.f[2];++cov_20zg30hqp0.s[12];if(error){++cov_20zg30hqp0.b[0][0];++cov_20zg30hqp0.s[13];return callback(error);}else{++cov_20zg30hqp0.b[0][1];}++cov_20zg30hqp0.s[14];if(response.statusCode!=200){++cov_20zg30hqp0.b[1][0];++cov_20zg30hqp0.s[15];return callback(new Error('bad status: '+response.statusCode));}else{++cov_20zg30hqp0.b[1][1];}++cov_20zg30hqp0.s[16];page=body;++cov_20zg30hqp0.s[17];callback(null);});});++cov_20zg30hqp0.s[18];it('should parse',function(){++cov_20zg30hqp0.f[3];++cov_20zg30hqp0.s[19];$=cheerio.load(page);});++cov_20zg30hqp0.s[20];it('should contain TPL 101',function(){++cov_20zg30hqp0.f[4];++cov_20zg30hqp0.s[21];assert.ok($('td a:contains("TPL 101")').length);});});