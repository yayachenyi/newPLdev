var cov_11oo0mrjgu=function(){var path='/Users/fengyichen/pldev/newfolder/PrairieLearn/pages/courseSyncs/courseSyncs.js',hash='1ae4d7c17216059e5d417a2cc89b7847d8147428',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/fengyichen/pldev/newfolder/PrairieLearn/pages/courseSyncs/courseSyncs.js',statementMap:{'0':{start:{line:1,column:10},end:{line:1,column:37}},'1':{start:{line:2,column:9},end:{line:2,column:22}},'2':{start:{line:3,column:14},end:{line:3,column:32}},'3':{start:{line:4,column:13},end:{line:4,column:29}},'4':{start:{line:6,column:12},end:{line:6,column:38}},'5':{start:{line:7,column:13},end:{line:7,column:40}},'6':{start:{line:8,column:17},end:{line:8,column:49}},'7':{start:{line:9,column:19},end:{line:9,column:53}},'8':{start:{line:10,column:22},end:{line:10,column:59}},'9':{start:{line:11,column:12},end:{line:11,column:38}},'10':{start:{line:12,column:16},end:{line:12,column:47}},'11':{start:{line:14,column:10},end:{line:14,column:44}},'12':{start:{line:16,column:0},end:{line:24,column:3}},'13':{start:{line:17,column:17},end:{line:17,column:50}},'14':{start:{line:18,column:4},end:{line:23,column:7}},'15':{start:{line:19,column:8},end:{line:19,column:35}},'16':{start:{line:19,column:28},end:{line:19,column:35}},'17':{start:{line:20,column:8},end:{line:20,column:47}},'18':{start:{line:22,column:8},end:{line:22,column:68}},'19':{start:{line:26,column:20},end:{line:140,column:1}},'20':{start:{line:27,column:18},end:{line:33,column:5}},'21':{start:{line:34,column:4},end:{line:139,column:7}},'22':{start:{line:35,column:8},end:{line:35,column:39}},'23':{start:{line:35,column:32},end:{line:35,column:39}},'24':{start:{line:36,column:8},end:{line:36,column:40}},'25':{start:{line:45,column:26},end:{line:58,column:9}},'26':{start:{line:46,column:29},end:{line:56,column:13}},'27':{start:{line:57,column:12},end:{line:57,column:44}},'28':{start:{line:60,column:26},end:{line:74,column:9}},'29':{start:{line:61,column:29},end:{line:72,column:13}},'30':{start:{line:73,column:12},end:{line:73,column:44}},'31':{start:{line:76,column:25},end:{line:100,column:9}},'32':{start:{line:77,column:29},end:{line:85,column:13}},'33':{start:{line:86,column:12},end:{line:99,column:15}},'34':{start:{line:87,column:16},end:{line:91,column:17}},'35':{start:{line:88,column:20},end:{line:88,column:62}},'36':{start:{line:89,column:20},end:{line:89,column:64}},'37':{start:{line:90,column:20},end:{line:90,column:27}},'38':{start:{line:92,column:16},end:{line:98,column:19}},'39':{start:{line:93,column:20},end:{line:97,column:21}},'40':{start:{line:94,column:24},end:{line:94,column:38}},'41':{start:{line:96,column:24},end:{line:96,column:38}},'42':{start:{line:102,column:25},end:{line:127,column:9}},'43':{start:{line:103,column:29},end:{line:111,column:13}},'44':{start:{line:112,column:12},end:{line:126,column:15}},'45':{start:{line:113,column:16},end:{line:117,column:17}},'46':{start:{line:114,column:20},end:{line:114,column:62}},'47':{start:{line:115,column:20},end:{line:115,column:64}},'48':{start:{line:116,column:20},end:{line:116,column:27}},'49':{start:{line:118,column:33},end:{line:118,column:51}},'50':{start:{line:119,column:16},end:{line:125,column:19}},'51':{start:{line:120,column:20},end:{line:124,column:21}},'52':{start:{line:121,column:24},end:{line:121,column:38}},'53':{start:{line:123,column:24},end:{line:123,column:38}},'54':{start:{line:130,column:8},end:{line:138,column:11}},'55':{start:{line:131,column:12},end:{line:137,column:13}},'56':{start:{line:133,column:16},end:{line:133,column:30}},'57':{start:{line:136,column:16},end:{line:136,column:30}},'58':{start:{line:142,column:16},end:{line:194,column:1}},'59':{start:{line:143,column:18},end:{line:149,column:5}},'60':{start:{line:150,column:4},end:{line:193,column:7}},'61':{start:{line:151,column:8},end:{line:151,column:39}},'62':{start:{line:151,column:32},end:{line:151,column:39}},'63':{start:{line:152,column:8},end:{line:152,column:40}},'64':{start:{line:159,column:27},end:{line:173,column:9}},'65':{start:{line:160,column:29},end:{line:171,column:13}},'66':{start:{line:172,column:12},end:{line:172,column:44}},'67':{start:{line:175,column:27},end:{line:189,column:9}},'68':{start:{line:176,column:29},end:{line:187,column:13}},'69':{start:{line:188,column:12},end:{line:188,column:44}},'70':{start:{line:192,column:8},end:{line:192,column:23}},'71':{start:{line:196,column:0},end:{line:211,column:3}},'72':{start:{line:197,column:4},end:{line:197,column:99}},'73':{start:{line:197,column:59},end:{line:197,column:99}},'74':{start:{line:198,column:4},end:{line:210,column:5}},'75':{start:{line:199,column:8},end:{line:202,column:11}},'76':{start:{line:200,column:12},end:{line:200,column:39}},'77':{start:{line:200,column:32},end:{line:200,column:39}},'78':{start:{line:201,column:12},end:{line:201,column:83}},'79':{start:{line:203,column:11},end:{line:210,column:5}},'80':{start:{line:204,column:8},end:{line:207,column:11}},'81':{start:{line:205,column:12},end:{line:205,column:39}},'82':{start:{line:205,column:32},end:{line:205,column:39}},'83':{start:{line:206,column:12},end:{line:206,column:83}},'84':{start:{line:209,column:8},end:{line:209,column:95}},'85':{start:{line:213,column:0},end:{line:213,column:24}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:16,column:16},end:{line:16,column:17}},loc:{start:{line:16,column:41},end:{line:24,column:1}},line:16},'1':{name:'(anonymous_1)',decl:{start:{line:18,column:55},end:{line:18,column:56}},loc:{start:{line:18,column:77},end:{line:23,column:5}},line:18},'2':{name:'(anonymous_2)',decl:{start:{line:26,column:20},end:{line:26,column:21}},loc:{start:{line:26,column:47},end:{line:140,column:1}},line:26},'3':{name:'(anonymous_3)',decl:{start:{line:34,column:42},end:{line:34,column:43}},loc:{start:{line:34,column:73},end:{line:139,column:5}},line:34},'4':{name:'(anonymous_4)',decl:{start:{line:45,column:26},end:{line:45,column:27}},loc:{start:{line:45,column:37},end:{line:58,column:9}},line:45},'5':{name:'(anonymous_5)',decl:{start:{line:60,column:26},end:{line:60,column:27}},loc:{start:{line:60,column:37},end:{line:74,column:9}},line:60},'6':{name:'(anonymous_6)',decl:{start:{line:76,column:25},end:{line:76,column:26}},loc:{start:{line:76,column:36},end:{line:100,column:9}},line:76},'7':{name:'(anonymous_7)',decl:{start:{line:86,column:45},end:{line:86,column:46}},loc:{start:{line:86,column:64},end:{line:99,column:13}},line:86},'8':{name:'(anonymous_8)',decl:{start:{line:92,column:86},end:{line:92,column:87}},loc:{start:{line:92,column:100},end:{line:98,column:17}},line:92},'9':{name:'(anonymous_9)',decl:{start:{line:102,column:25},end:{line:102,column:26}},loc:{start:{line:102,column:36},end:{line:127,column:9}},line:102},'10':{name:'(anonymous_10)',decl:{start:{line:112,column:45},end:{line:112,column:46}},loc:{start:{line:112,column:64},end:{line:126,column:13}},line:112},'11':{name:'(anonymous_11)',decl:{start:{line:119,column:70},end:{line:119,column:71}},loc:{start:{line:119,column:84},end:{line:125,column:17}},line:119},'12':{name:'(anonymous_12)',decl:{start:{line:130,column:38},end:{line:130,column:39}},loc:{start:{line:130,column:52},end:{line:138,column:9}},line:130},'13':{name:'(anonymous_13)',decl:{start:{line:142,column:16},end:{line:142,column:17}},loc:{start:{line:142,column:43},end:{line:194,column:1}},line:142},'14':{name:'(anonymous_14)',decl:{start:{line:150,column:42},end:{line:150,column:43}},loc:{start:{line:150,column:73},end:{line:193,column:5}},line:150},'15':{name:'(anonymous_15)',decl:{start:{line:159,column:27},end:{line:159,column:28}},loc:{start:{line:159,column:38},end:{line:173,column:9}},line:159},'16':{name:'(anonymous_16)',decl:{start:{line:175,column:27},end:{line:175,column:28}},loc:{start:{line:175,column:38},end:{line:189,column:9}},line:175},'17':{name:'(anonymous_17)',decl:{start:{line:196,column:17},end:{line:196,column:18}},loc:{start:{line:196,column:42},end:{line:211,column:1}},line:196},'18':{name:'(anonymous_18)',decl:{start:{line:199,column:34},end:{line:199,column:35}},loc:{start:{line:199,column:65},end:{line:202,column:9}},line:199},'19':{name:'(anonymous_19)',decl:{start:{line:204,column:30},end:{line:204,column:31}},loc:{start:{line:204,column:61},end:{line:207,column:9}},line:204}},branchMap:{'0':{loc:{start:{line:19,column:8},end:{line:19,column:35}},type:'if',locations:[{start:{line:19,column:8},end:{line:19,column:35}},{start:{line:19,column:8},end:{line:19,column:35}}],line:19},'1':{loc:{start:{line:35,column:8},end:{line:35,column:39}},type:'if',locations:[{start:{line:35,column:8},end:{line:35,column:39}},{start:{line:35,column:8},end:{line:35,column:39}}],line:35},'2':{loc:{start:{line:87,column:16},end:{line:91,column:17}},type:'if',locations:[{start:{line:87,column:16},end:{line:91,column:17}},{start:{line:87,column:16},end:{line:91,column:17}}],line:87},'3':{loc:{start:{line:93,column:20},end:{line:97,column:21}},type:'if',locations:[{start:{line:93,column:20},end:{line:97,column:21}},{start:{line:93,column:20},end:{line:97,column:21}}],line:93},'4':{loc:{start:{line:113,column:16},end:{line:117,column:17}},type:'if',locations:[{start:{line:113,column:16},end:{line:117,column:17}},{start:{line:113,column:16},end:{line:117,column:17}}],line:113},'5':{loc:{start:{line:120,column:20},end:{line:124,column:21}},type:'if',locations:[{start:{line:120,column:20},end:{line:124,column:21}},{start:{line:120,column:20},end:{line:124,column:21}}],line:120},'6':{loc:{start:{line:131,column:12},end:{line:137,column:13}},type:'if',locations:[{start:{line:131,column:12},end:{line:137,column:13}},{start:{line:131,column:12},end:{line:137,column:13}}],line:131},'7':{loc:{start:{line:151,column:8},end:{line:151,column:39}},type:'if',locations:[{start:{line:151,column:8},end:{line:151,column:39}},{start:{line:151,column:8},end:{line:151,column:39}}],line:151},'8':{loc:{start:{line:197,column:4},end:{line:197,column:99}},type:'if',locations:[{start:{line:197,column:4},end:{line:197,column:99}},{start:{line:197,column:4},end:{line:197,column:99}}],line:197},'9':{loc:{start:{line:198,column:4},end:{line:210,column:5}},type:'if',locations:[{start:{line:198,column:4},end:{line:210,column:5}},{start:{line:198,column:4},end:{line:210,column:5}}],line:198},'10':{loc:{start:{line:200,column:12},end:{line:200,column:39}},type:'if',locations:[{start:{line:200,column:12},end:{line:200,column:39}},{start:{line:200,column:12},end:{line:200,column:39}}],line:200},'11':{loc:{start:{line:203,column:11},end:{line:210,column:5}},type:'if',locations:[{start:{line:203,column:11},end:{line:210,column:5}},{start:{line:203,column:11},end:{line:210,column:5}}],line:203},'12':{loc:{start:{line:205,column:12},end:{line:205,column:39}},type:'if',locations:[{start:{line:205,column:12},end:{line:205,column:39}},{start:{line:205,column:12},end:{line:205,column:39}}],line:205}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var ERR=(++cov_11oo0mrjgu.s[0],require('async-stacktrace'));var fs=(++cov_11oo0mrjgu.s[1],require('fs'));var express=(++cov_11oo0mrjgu.s[2],require('express'));var router=(++cov_11oo0mrjgu.s[3],express.Router());var error=(++cov_11oo0mrjgu.s[4],require('../../lib/error'));var logger=(++cov_11oo0mrjgu.s[5],require('../../lib/logger'));var serverJobs=(++cov_11oo0mrjgu.s[6],require('../../lib/server-jobs'));var syncFromDisk=(++cov_11oo0mrjgu.s[7],require('../../sync/syncFromDisk'));var requireFrontend=(++cov_11oo0mrjgu.s[8],require('../../lib/require-frontend'));var sqldb=(++cov_11oo0mrjgu.s[9],require('../../lib/sqldb'));var sqlLoader=(++cov_11oo0mrjgu.s[10],require('../../lib/sql-loader'));var sql=(++cov_11oo0mrjgu.s[11],sqlLoader.loadSqlEquiv(__filename));++cov_11oo0mrjgu.s[12];router.get('/',function(req,res,next){++cov_11oo0mrjgu.f[0];var params=(++cov_11oo0mrjgu.s[13],{course_id:res.locals.course.id});++cov_11oo0mrjgu.s[14];sqldb.query(sql.select_sync_job_sequences,params,function(err,result){++cov_11oo0mrjgu.f[1];++cov_11oo0mrjgu.s[15];if(ERR(err,next)){++cov_11oo0mrjgu.b[0][0];++cov_11oo0mrjgu.s[16];return;}else{++cov_11oo0mrjgu.b[0][1];}++cov_11oo0mrjgu.s[17];res.locals.job_sequences=result.rows;++cov_11oo0mrjgu.s[18];res.render(__filename.replace(/\.js$/,'.ejs'),res.locals);});});++cov_11oo0mrjgu.s[19];var pullAndUpdate=function(locals,callback){++cov_11oo0mrjgu.f[2];var options=(++cov_11oo0mrjgu.s[20],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'sync',description:'Pull from remote git repository'});++cov_11oo0mrjgu.s[21];serverJobs.createJobSequence(options,function(err,job_sequence_id){++cov_11oo0mrjgu.f[3];++cov_11oo0mrjgu.s[22];if(ERR(err,callback)){++cov_11oo0mrjgu.b[1][0];++cov_11oo0mrjgu.s[23];return;}else{++cov_11oo0mrjgu.b[1][1];}++cov_11oo0mrjgu.s[24];callback(null,job_sequence_id);// We've now triggered the callback to our caller, but we
// continue executing below to launch the jobs themselves.
// First define the jobs.
// We will use either 1A or 1B below.
++cov_11oo0mrjgu.s[25];var syncStage1A=function(){++cov_11oo0mrjgu.f[4];var jobOptions=(++cov_11oo0mrjgu.s[26],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,job_sequence_id:job_sequence_id,type:'clone_from_git',description:'Clone from remote git repository',command:'git',arguments:['clone',locals.course.repository,locals.course.path],on_success:syncStage2});++cov_11oo0mrjgu.s[27];serverJobs.spawnJob(jobOptions);};++cov_11oo0mrjgu.s[28];var syncStage1B=function(){++cov_11oo0mrjgu.f[5];var jobOptions=(++cov_11oo0mrjgu.s[29],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,job_sequence_id:job_sequence_id,type:'pull_from_git',description:'Pull from remote git repository',command:'git',arguments:['pull','--force'],working_directory:locals.course.path,on_success:syncStage2});++cov_11oo0mrjgu.s[30];serverJobs.spawnJob(jobOptions);};++cov_11oo0mrjgu.s[31];var syncStage2=function(){++cov_11oo0mrjgu.f[6];var jobOptions=(++cov_11oo0mrjgu.s[32],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'sync_from_disk',description:'Sync git repository to database',job_sequence_id:job_sequence_id,on_success:syncStage3});++cov_11oo0mrjgu.s[33];serverJobs.createJob(jobOptions,function(err,job){++cov_11oo0mrjgu.f[7];++cov_11oo0mrjgu.s[34];if(err){++cov_11oo0mrjgu.b[2][0];++cov_11oo0mrjgu.s[35];logger.error('Error in createJob()',err);++cov_11oo0mrjgu.s[36];serverJobs.failJobSequence(job_sequence_id);++cov_11oo0mrjgu.s[37];return;}else{++cov_11oo0mrjgu.b[2][1];}++cov_11oo0mrjgu.s[38];syncFromDisk.syncDiskToSql(locals.course.path,locals.course.id,job,function(err){++cov_11oo0mrjgu.f[8];++cov_11oo0mrjgu.s[39];if(err){++cov_11oo0mrjgu.b[3][0];++cov_11oo0mrjgu.s[40];job.fail(err);}else{++cov_11oo0mrjgu.b[3][1];++cov_11oo0mrjgu.s[41];job.succeed();}});});};++cov_11oo0mrjgu.s[42];var syncStage3=function(){++cov_11oo0mrjgu.f[9];var jobOptions=(++cov_11oo0mrjgu.s[43],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'reload_question_servers',description:'Reload question server.js code',job_sequence_id:job_sequence_id,last_in_sequence:true});++cov_11oo0mrjgu.s[44];serverJobs.createJob(jobOptions,function(err,job){++cov_11oo0mrjgu.f[10];++cov_11oo0mrjgu.s[45];if(err){++cov_11oo0mrjgu.b[4][0];++cov_11oo0mrjgu.s[46];logger.error('Error in createJob()',err);++cov_11oo0mrjgu.s[47];serverJobs.failJobSequence(job_sequence_id);++cov_11oo0mrjgu.s[48];return;}else{++cov_11oo0mrjgu.b[4][1];}var coursePath=(++cov_11oo0mrjgu.s[49],locals.course.path);++cov_11oo0mrjgu.s[50];requireFrontend.undefQuestionServers(coursePath,job,function(err){++cov_11oo0mrjgu.f[11];++cov_11oo0mrjgu.s[51];if(err){++cov_11oo0mrjgu.b[5][0];++cov_11oo0mrjgu.s[52];job.fail(err);}else{++cov_11oo0mrjgu.b[5][1];++cov_11oo0mrjgu.s[53];job.succeed();}});});};// Start the first job.
++cov_11oo0mrjgu.s[54];fs.access(locals.course.path,function(err){++cov_11oo0mrjgu.f[12];++cov_11oo0mrjgu.s[55];if(err){++cov_11oo0mrjgu.b[6][0];++cov_11oo0mrjgu.s[56];// path does not exist, start with 'git clone'
syncStage1A();}else{++cov_11oo0mrjgu.b[6][1];++cov_11oo0mrjgu.s[57];// path exists, start with 'git pull'
syncStage1B();}});});};++cov_11oo0mrjgu.s[58];var gitStatus=function(locals,callback){++cov_11oo0mrjgu.f[13];var options=(++cov_11oo0mrjgu.s[59],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'git_status',description:'Show server git status'});++cov_11oo0mrjgu.s[60];serverJobs.createJobSequence(options,function(err,job_sequence_id){++cov_11oo0mrjgu.f[14];++cov_11oo0mrjgu.s[61];if(ERR(err,callback)){++cov_11oo0mrjgu.b[7][0];++cov_11oo0mrjgu.s[62];return;}else{++cov_11oo0mrjgu.b[7][1];}++cov_11oo0mrjgu.s[63];callback(null,job_sequence_id);// We've now triggered the callback to our caller, but we
// continue executing below to launch the jobs themselves.
// First define the jobs.
++cov_11oo0mrjgu.s[64];var statusStage1=function(){++cov_11oo0mrjgu.f[15];var jobOptions=(++cov_11oo0mrjgu.s[65],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,job_sequence_id:job_sequence_id,type:'describe_git',description:'Describe current git HEAD',command:'git',arguments:['show','--format=fuller','--quiet','HEAD'],working_directory:locals.course.path,on_success:statusStage2});++cov_11oo0mrjgu.s[66];serverJobs.spawnJob(jobOptions);};++cov_11oo0mrjgu.s[67];var statusStage2=function(){++cov_11oo0mrjgu.f[16];var jobOptions=(++cov_11oo0mrjgu.s[68],{course_id:locals.course.id,user_id:locals.user.user_id,authn_user_id:locals.authz_data.authn_user.user_id,type:'git_history',description:'List git history',job_sequence_id:job_sequence_id,command:'git',arguments:['log','--all','--graph','--date=short','--format=format:%h %cd%d %cn %s'],working_directory:locals.course.path,last_in_sequence:true});++cov_11oo0mrjgu.s[69];serverJobs.spawnJob(jobOptions);};// Start the first job.
++cov_11oo0mrjgu.s[70];statusStage1();});};++cov_11oo0mrjgu.s[71];router.post('/',function(req,res,next){++cov_11oo0mrjgu.f[17];++cov_11oo0mrjgu.s[72];if(!res.locals.authz_data.has_course_permission_edit){++cov_11oo0mrjgu.b[8][0];++cov_11oo0mrjgu.s[73];return next(new Error('Access denied'));}else{++cov_11oo0mrjgu.b[8][1];}++cov_11oo0mrjgu.s[74];if(req.body.__action=='pull'){++cov_11oo0mrjgu.b[9][0];++cov_11oo0mrjgu.s[75];pullAndUpdate(res.locals,function(err,job_sequence_id){++cov_11oo0mrjgu.f[18];++cov_11oo0mrjgu.s[76];if(ERR(err,next)){++cov_11oo0mrjgu.b[10][0];++cov_11oo0mrjgu.s[77];return;}else{++cov_11oo0mrjgu.b[10][1];}++cov_11oo0mrjgu.s[78];res.redirect(res.locals.urlPrefix+'/jobSequence/'+job_sequence_id);});}else{++cov_11oo0mrjgu.b[9][1];++cov_11oo0mrjgu.s[79];if(req.body.__action=='status'){++cov_11oo0mrjgu.b[11][0];++cov_11oo0mrjgu.s[80];gitStatus(res.locals,function(err,job_sequence_id){++cov_11oo0mrjgu.f[19];++cov_11oo0mrjgu.s[81];if(ERR(err,next)){++cov_11oo0mrjgu.b[12][0];++cov_11oo0mrjgu.s[82];return;}else{++cov_11oo0mrjgu.b[12][1];}++cov_11oo0mrjgu.s[83];res.redirect(res.locals.urlPrefix+'/jobSequence/'+job_sequence_id);});}else{++cov_11oo0mrjgu.b[11][1];++cov_11oo0mrjgu.s[84];return next(error.make(400,'unknown __action',{locals:res.locals,body:req.body}));}}});++cov_11oo0mrjgu.s[85];module.exports=router;