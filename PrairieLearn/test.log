
> PrairieLearn@2.10.0 test /Users/fengyichen/pldev/newfolder/PrairieLearn
> nyc --reporter=lcov mocha tests/index.js



  database
    1) should match the database described in /database

  courseDB.loadFullCourse()
    the in-memory "course" object
      ✓ should contain "courseInfo"
      ✓ should contain "questionDB"
      ✓ should contain "courseInstanceDB"

  sync/fromDisk/courseInfo
    sprocs/select_or_insert_course_by_path
      ✓ should use id 1 for exampleCourse
    syncCourseInfo()
      ✓ should succeed
    the "pl_courses" table
      ✓ should contain TPL 101

  GET /pl
    ✓ should load successfully
    ✓ should parse
    ✓ should contain TPL 101

  Auto-test questions
    auto-testing question addNumbers
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (1465ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once (84ms)
        ✓ should have an id
        ✓ should complete (2626ms)
        ✓ should be successful
        ✓ should produce no issues
    auto-testing question ballToss2
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (1449ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once
        ✓ should have an id
        ✓ should complete (2318ms)
        2) should be successful
        3) should produce no issues
    auto-testing question customElement
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (675ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once (57ms)
        ✓ should have an id
        ✓ should complete (1389ms)
        ✓ should be successful
        ✓ should produce no issues
    auto-testing question downloadFile
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (2316ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once (62ms)
        ✓ should have an id
        ✓ should complete (3645ms)
        ✓ should be successful
        ✓ should produce no issues
    auto-testing question functionValueFromPlot
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (1797ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once
        ✓ should have an id
        ✓ should complete (3247ms)
        ✓ should be successful
        ✓ should produce no issues
    auto-testing question multiplyTwoNumbers
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (1372ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once
        ✓ should have an id
        ✓ should complete (2514ms)
        ✓ should be successful
        ✓ should produce no issues
    auto-testing question positionTimeGraph
      the setup
        ✓ should find the question in the database
        ✓ should be a Freeform question
        ✓ should have submission data
      GET to instance_question URL
        ✓ should load successfully (1138ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the test job sequence
        ✓ should start with POST to instructorAssessment URL for test_once
        ✓ should have an id
        ✓ should complete (1810ms)
        4) should be successful
        5) should produce no issues

  Instructor questions
    the database
      ✓ should contain questions
      ✓ should contain the addNumbers question
      ✓ should contain the addVectors question
      ✓ should contain the downloadFile question
      ✓ should contain the differentiatePolynomial question
    GET http://localhost:3007/pl/course_instance/1/instructor/questions
      ✓ should load successfully (40ms)
      ✓ should parse
      ✓ should link to addNumbers question
      ✓ should link to addVectors question
      ✓ should link to downloadFile question
      ✓ should link to differentiatePolynomial question
    1. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (176ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (54ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
    2. save incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
    3. submit incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (52ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
    4. submit correct answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1333ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1680ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
    5. submit incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1338ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1674ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
    6. submit invalid answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1340ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1138ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check submission score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
      the submission panel contents
        ✓ should contain "INVALID"
    8. test downloading files
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1732ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      downloading course text file
        ✓ should contain a link to clientFilesCourse/data.txt
        ✓ should download something with the link to clientFilesCourse/data.txt
        ✓ should have downloaded a file with the contents of clientFilesCourse/data.txt
      downloading question text file
        ✓ should contain a link to clientFilesQuestion/data.txt
        ✓ should download something with the link to clientFilesQuestion/data.txt
        ✓ should have downloaded a file with the contents of clientFilesQuestion/data.txt
      downloading dynamic text file
        ✓ should contain a link to generatedFilesQuestion/data.txt
        ✓ should download something with the link to generatedFilesQuestion/data.txt (672ms)
        ✓ should have downloaded a file with the contents of generatedFilesQuestion/data.txt
      downloading dynamic image file
        ✓ should contain a link to generatedFilesQuestion/figure.png
        ✓ should download something with the link to generatedFilesQuestion/figure.png (860ms)
        ✓ should have downloaded a file with the contents of generatedFilesQuestion/figure.png
        ✓ should produce no issues

  Instructor assessment editing
    startExam-1. the locals object
      ✓ should be cleared
      ✓ should be initialized
    startExam-2. the questions
      ✓ should have cleared data
    startExam-3. the database
      ✓ should contain E1
    startExam-4. GET to assessments URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain E1
      ✓ should have the correct link for E1
    startExam-5. GET to assessment URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain "Please wait"
      ✓ should contain "Exam 1"
      ✓ should contain "TPL 101"
      ✓ should have a CSRF token
    startExam-6. POST to assessment URL
      ✓ should load successfully (985ms)
      ✓ should parse
      ✓ should redirect to the correct path
      ✓ should create one assessment_instance
      ✓ should have the correct assessment_instance.assessment_id
      ✓ should create 6 instance_questions
      ✓ should have question #1 as QID addNumbers
      ✓ should have question #2 as QID addVectors
      ✓ should have question #3 as QID fossilFuelsRadio
      ✓ should have question #4 as QID partialCredit1
      ✓ should have question #5 as QID partialCredit2
      ✓ should have question #6 as QID partialCredit3
    startExam-7. GET to assessment_instance URL
      ✓ should load successfully
      ✓ should parse
      ✓ should link to addNumbers question
      ✓ should link to addVectors question
      ✓ should link to fossilFuelsRadio question
      ✓ should link to partialCredit1 question
      ✓ should link to partialCredit2 question
      ✓ should link to partialCredit3 question
    1. grade incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (617ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1735ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    2. grade correct answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (588ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1672ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    3. grade correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (67ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    4. GET to instructor assessments URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain E1
      ✓ should have the correct link for E1
    5. GET to instructor assessment URL
      ✓ should load successfully (49ms)
      ✓ should parse
      ✓ should contain the assessment instance
      ✓ should have the correct link for the assessment instance
    6. GET to instructor assessment instance URL
      ✓ should load successfully
      ✓ should parse
    7. edit-question-points form
      ✓ should exist
      ✓ should have data-content
      ✓ data-content should parse
      ✓ data-content should have a CSRF token
      ✓ data-content should have an __action
      ✓ data-content should have an instance_question_id
      ✓ data-content should have a points input
    8. POST to instructor assessment instance URL to set question points
      ✓ should load successfully (52ms)
      ✓ should parse
      ✓ should update the total points correctly
    9. edit-question-score-perc form
      ✓ should exist
      ✓ should have data-content
      ✓ data-content should parse
      ✓ data-content should have a CSRF token
      ✓ data-content should have an __action
      ✓ data-content should have an instance_question_id
      ✓ data-content should have a score_perc input
    10. POST to instructor assessment instance URL to set question score_perc
      ✓ should load successfully (42ms)
      ✓ should parse
      ✓ should update the total points correctly
    11. edit-total-points form
      ✓ should exist
      ✓ should have data-content
      ✓ data-content should parse
      ✓ data-content should have a CSRF token
      ✓ data-content should have an __action
      ✓ data-content should have the correct assessment_instance_id
      ✓ data-content should have a points input
    12. POST to instructor assessment instance URL to set total points
      ✓ should load successfully (46ms)
      ✓ should parse
      ✓ should update the total points correctly
    13. edit-total-score-perc form
      ✓ should exist
      ✓ should have data-content
      ✓ data-content should parse
      ✓ data-content should have a CSRF token
      ✓ data-content should have an __action
      ✓ data-content should have the correct assessment_instance_id
      ✓ data-content should have a score_perc input
    14. POST to instructor assessment instance URL to set total score_perc
      ✓ should load successfully (40ms)
      ✓ should parse
      ✓ should update the total points correctly
    15. GET to instructor gradebook URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain a row for the dev user
      ✓ should contain the assessment instance column with the correct score
      ✓ should have the correct link for the assessment instance
    16. edit-total-score-perc form
      ✓ should exist
      ✓ should have data-content
      ✓ data-content should parse
      ✓ data-content should have a CSRF token
      ✓ data-content should have an __action
      ✓ data-content should have the correct assessment_instance_id
      ✓ data-content should have a score_perc input
    16. POST to instructor gradebook URL to set total score_perc
      ✓ should load successfully
      ✓ should parse
      ✓ should contain the assessment instance column with the correctly updated score

  Homework assessment
    the locals object
      ✓ should be cleared
      ✓ should be initialized
    the questions
      ✓ should have cleared data
    the database
      ✓ should contain HW1
    GET undefined
      ✓ should load successfully
      ✓ should parse
      ✓ should contain HW1
      ✓ should have the correct link for HW1
    GET to assessment URL
      ✓ should load successfully (48ms)
      ✓ should redirect to the correct path
      ✓ should create one assessment_instance
      ✓ should have the correct assessment_instance.assessment_id
      ✓ should create 10 instance_questions
      ✓ should have question #1 as QID addNumbers
      ✓ should have question #2 as QID addVectors
      ✓ should have question #3 as QID fossilFuelsRadio
      ✓ should have question #4 as QID downloadFile
      ✓ should have question #5 as QID partialCredit1
      ✓ should have question #6 as QID partialCredit2
      ✓ should have question #7 as QID partialCredit3
      ✓ should have question #8 as QID partialCredit4_v2
      ✓ should have question #9 as QID partialCredit5_v2_partial
      ✓ should have question #10 as QID partialCredit6_no_partial
    GET to assessment_instance URL
      ✓ should load successfully
      ✓ should parse
      ✓ should link to addNumbers question
      ✓ should link to addVectors question
      ✓ should link to fossilFuelsRadio question
      ✓ should link to downloadFile question
      ✓ should link to partialCredit1 question
      ✓ should link to partialCredit2 question
      ✓ should link to partialCredit3 question
      ✓ should link to partialCredit4_v2 question
      ✓ should link to partialCredit5_v2_partial question
      ✓ should link to partialCredit6_no_partial question
    1. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (52ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (64ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    2. submit correct answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (38ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (61ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    3. submit incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (56ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    4. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (41ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (55ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    5. save incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (39ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    6. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (59ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    7. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (56ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    8. submit correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (51ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    9. load question addNumbers page and save data for later submission
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1343ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      save data for later submission
        ✓ should succeed
    10. submit incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (562ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1677ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    12. submit correct answer to saved question addNumbers page
      setting up the submission data
        ✓ should succeed
      restore saved data for submission
        ✓ should succeed
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should error
    12. submit correct answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1364ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1684ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    13. submit invalid answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1352ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1129ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
      check the submission is not gradable
        ✓ should succeed
      the submission panel contents
        ✓ should contain "INVALID"
    14. submit correct answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (589ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1716ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    15. save incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1374ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1143ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    16. submit correct answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (39ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (58ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    17. submit incorrect answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (62ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    18. submit correct answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (39ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (63ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    19. submit incorrect answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (38ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (59ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    20. submit incorrect answers to question partialCredit6_no_partial
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1165ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1708ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    21. submit first partially correct answers to question partialCredit6_no_partial
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1123ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1701ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    21. submit second partially correct answers to question partialCredit6_no_partial
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1154ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1709ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    22. submit correct answers to question partialCredit6_no_partial
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1141ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1692ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    23. test downloading files
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (1759ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      downloading course text file
        ✓ should contain a link to clientFilesCourse/data.txt
        ✓ should download something with the link to clientFilesCourse/data.txt
        ✓ should have downloaded a file with the contents of clientFilesCourse/data.txt
      downloading question text file
        ✓ should contain a link to clientFilesQuestion/data.txt
        ✓ should download something with the link to clientFilesQuestion/data.txt
        ✓ should have downloaded a file with the contents of clientFilesQuestion/data.txt
      downloading dynamic text file
        ✓ should contain a link to generatedFilesQuestion/data.txt
        ✓ should download something with the link to generatedFilesQuestion/data.txt (697ms)
        ✓ should have downloaded a file with the contents of generatedFilesQuestion/data.txt
      downloading dynamic image file
        ✓ should contain a link to generatedFilesQuestion/figure.png
        ✓ should download something with the link to generatedFilesQuestion/figure.png (874ms)
        ✓ should have downloaded a file with the contents of generatedFilesQuestion/figure.png
    24. regrading
      change max_points
        ✓ should succeed
      GET to instructorAssessment URL
        ✓ should succeed (56ms)
        ✓ should parse
        ✓ should have a CSRF token
      POST to instructorAssessment URL for regrading
        ✓ should succeed (53ms)
      The regrading job sequence
        ✓ should have an id
        ✓ should complete
        ✓ should be successful
      check the regrading succeeded
        setting up the expected question addNumbers results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected question addVectors results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected question fossilFuelsRadio results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected assessment results
          ✓ should succeed
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #1
      server
        ✓ should shut down (155ms)
        ✓ should start up (1055ms)
      the locals object
        ✓ should be cleared
        ✓ should be initialized
      the questions
        ✓ should have cleared data
      the database
        ✓ should contain HW1
      GET undefined
        ✓ should load successfully
        ✓ should parse
        ✓ should contain HW1
        ✓ should have the correct link for HW1
      GET to assessment URL
        ✓ should load successfully (43ms)
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 10 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID downloadFile
        ✓ should have question #5 as QID partialCredit1
        ✓ should have question #6 as QID partialCredit2
        ✓ should have question #7 as QID partialCredit3
        ✓ should have question #8 as QID partialCredit4_v2
        ✓ should have question #9 as QID partialCredit5_v2_partial
        ✓ should have question #10 as QID partialCredit6_no_partial
      GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to downloadFile question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
        ✓ should link to partialCredit4_v2 question
        ✓ should link to partialCredit5_v2_partial question
        ✓ should link to partialCredit6_no_partial question
      grade answer number #1 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1358ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1716ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #2 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1354ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1700ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #3 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1359ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1667ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #4 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1350ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1733ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #5 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1368ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1705ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1356ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1763ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #7 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1402ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1715ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1375ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1703ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1359ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1701ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #10 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1367ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1696ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #11 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1367ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1690ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #12 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1333ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1700ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #2
      server
        ✓ should shut down (156ms)
        ✓ should start up (1204ms)
      the locals object
        ✓ should be cleared
        ✓ should be initialized
      the questions
        ✓ should have cleared data
      the database
        ✓ should contain HW1
      GET undefined
        ✓ should load successfully
        ✓ should parse
        ✓ should contain HW1
        ✓ should have the correct link for HW1
      GET to assessment URL
        ✓ should load successfully (51ms)
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 10 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID downloadFile
        ✓ should have question #5 as QID partialCredit1
        ✓ should have question #6 as QID partialCredit2
        ✓ should have question #7 as QID partialCredit3
        ✓ should have question #8 as QID partialCredit4_v2
        ✓ should have question #9 as QID partialCredit5_v2_partial
        ✓ should have question #10 as QID partialCredit6_no_partial
      GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to downloadFile question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
        ✓ should link to partialCredit4_v2 question
        ✓ should link to partialCredit5_v2_partial question
        ✓ should link to partialCredit6_no_partial question
      grade answer number #1 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1360ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1684ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #2 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1428ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1769ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #3 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1464ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (2055ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #4 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1494ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1714ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #5 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1366ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1775ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1521ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1763ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #7 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1415ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1876ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (719ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1838ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (697ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1806ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #10 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1537ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (2014ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #11 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (661ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (2085ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #12 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (626ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1831ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #13 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1395ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1707ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #14 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1391ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1710ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #15 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1386ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1688ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #16 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1397ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1738ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #17 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1380ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1758ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #18 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1359ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1781ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #19 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1471ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1731ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #20 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (597ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1724ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #21 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (587ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1768ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #22 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1435ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1795ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #23 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1344ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1732ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #24 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1474ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1813ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #25 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1359ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1714ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #26 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1340ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1812ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #27 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1350ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1808ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #3
      server
        ✓ should shut down (154ms)
        ✓ should start up (1205ms)
      the locals object
        ✓ should be cleared
        ✓ should be initialized
      the questions
        ✓ should have cleared data
      the database
        ✓ should contain HW1
      GET undefined
        ✓ should load successfully
        ✓ should parse
        ✓ should contain HW1
        ✓ should have the correct link for HW1
      GET to assessment URL
        ✓ should load successfully (45ms)
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 10 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID downloadFile
        ✓ should have question #5 as QID partialCredit1
        ✓ should have question #6 as QID partialCredit2
        ✓ should have question #7 as QID partialCredit3
        ✓ should have question #8 as QID partialCredit4_v2
        ✓ should have question #9 as QID partialCredit5_v2_partial
        ✓ should have question #10 as QID partialCredit6_no_partial
      GET to assessment_instance URL
        ✓ should load successfully (40ms)
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to downloadFile question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
        ✓ should link to partialCredit4_v2 question
        ✓ should link to partialCredit5_v2_partial question
        ✓ should link to partialCredit6_no_partial question
      grade answer number #1 for question partialCredit1 with score 15
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1344ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1670ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #2 for question partialCredit1 with score 11
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1492ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1713ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #3 for question partialCredit1 with score 34
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1341ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1685ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #4 for question partialCredit1 with score 99
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1347ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1692ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #5 for question partialCredit1 with score 87
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1750ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (2450ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1648ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1915ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #7 for question partialCredit1 with score 85
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1669ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (2034ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit1 with score 85
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1564ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1827ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit1 with score 84
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1420ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1730ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #10 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1402ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1744ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #11 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1371ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1731ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #12 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1416ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1730ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #13 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1396ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1708ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #14 for question partialCredit1 with score 53
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1415ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1744ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #15 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1386ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1712ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #16 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1401ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1786ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #4
      server
        ✓ should shut down (151ms)
        ✓ should start up (1193ms)
      the locals object
        ✓ should be cleared
        ✓ should be initialized
      the questions
        ✓ should have cleared data
      the database
        ✓ should contain HW1
      GET undefined
        ✓ should load successfully
        ✓ should parse
        ✓ should contain HW1
        ✓ should have the correct link for HW1
      GET to assessment URL
        ✓ should load successfully (51ms)
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 10 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID downloadFile
        ✓ should have question #5 as QID partialCredit1
        ✓ should have question #6 as QID partialCredit2
        ✓ should have question #7 as QID partialCredit3
        ✓ should have question #8 as QID partialCredit4_v2
        ✓ should have question #9 as QID partialCredit5_v2_partial
        ✓ should have question #10 as QID partialCredit6_no_partial
      GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to downloadFile question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
        ✓ should link to partialCredit4_v2 question
        ✓ should link to partialCredit5_v2_partial question
        ✓ should link to partialCredit6_no_partial question
      grade answer number #1 for question partialCredit2 with score 71
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1388ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1782ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #2 for question partialCredit2 with score 56
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (595ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1769ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #3 for question partialCredit2 with score 78
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (599ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1860ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #4 for question partialCredit2 with score 94
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1509ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1766ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #5 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (627ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1770ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1392ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1705ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #7 for question partialCredit2 with score 82
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1404ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1741ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (597ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1769ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (1391ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1766ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #5
      server
        ✓ should shut down (153ms)
        ✓ should start up (1234ms)
      the locals object
        ✓ should be cleared
        ✓ should be initialized
      the questions
        ✓ should have cleared data
      the database
        ✓ should contain HW1
      GET undefined
        ✓ should load successfully
        ✓ should parse
        ✓ should contain HW1
        ✓ should have the correct link for HW1
      GET to assessment URL
        ✓ should load successfully (46ms)
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 10 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID downloadFile
        ✓ should have question #5 as QID partialCredit1
        ✓ should have question #6 as QID partialCredit2
        ✓ should have question #7 as QID partialCredit3
        ✓ should have question #8 as QID partialCredit4_v2
        ✓ should have question #9 as QID partialCredit5_v2_partial
        ✓ should have question #10 as QID partialCredit6_no_partial
      GET to assessment_instance URL
        ✓ should load successfully (134ms)
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to downloadFile question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
        ✓ should link to partialCredit4_v2 question
        ✓ should link to partialCredit5_v2_partial question
        ✓ should link to partialCredit6_no_partial question
      grade answer number #1 for question partialCredit4_v2 with score 34
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (52ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (65ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #2 for question partialCredit4_v2 with score 68
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (56ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #3 for question partialCredit5_v2_partial with score 27
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (57ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #4 for question partialCredit5_v2_partial with score 56
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (39ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (56ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc

  Exam assessment
    startExam-1. the locals object
      ✓ should be cleared
      ✓ should be initialized
    startExam-2. the questions
      ✓ should have cleared data
    startExam-3. the database
      ✓ should contain E1
    startExam-4. GET to assessments URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain E1
      ✓ should have the correct link for E1
    startExam-5. GET to assessment URL
      ✓ should load successfully
      ✓ should parse
      ✓ should contain "Please wait"
      ✓ should contain "Exam 1"
      ✓ should contain "TPL 101"
      ✓ should have a CSRF token
    startExam-6. POST to assessment URL
      ✓ should load successfully (953ms)
      ✓ should parse
      ✓ should redirect to the correct path
      ✓ should create one assessment_instance
      ✓ should have the correct assessment_instance.assessment_id
      ✓ should create 6 instance_questions
      ✓ should have question #1 as QID addNumbers
      ✓ should have question #2 as QID addVectors
      ✓ should have question #3 as QID fossilFuelsRadio
      ✓ should have question #4 as QID partialCredit1
      ✓ should have question #5 as QID partialCredit2
      ✓ should have question #6 as QID partialCredit3
    startExam-7. GET to assessment_instance URL
      ✓ should load successfully
      ✓ should parse
      ✓ should link to addNumbers question
      ✓ should link to addVectors question
      ✓ should link to fossilFuelsRadio question
      ✓ should link to partialCredit1 question
      ✓ should link to partialCredit2 question
      ✓ should link to partialCredit3 question
    6. save correct answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (41ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    7. grade incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (67ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    8. grade incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (618ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1677ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    9. grade incorrect answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (57ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    10. grade invalid answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (597ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1154ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
      check the submission is not gradable
        ✓ should succeed
      the submission panel contents
        ✓ should contain "INVALID"
    11. save incorrect answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (579ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1154ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    12. break the addNumbers variant
      setting the question
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (589ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      breaking the variant
        ✓ should succeed
    13. a broken variant
      setting the question
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      the question panel contents
        ✓ should contain "Broken question"
      un-breaking the variant
        ✓ should succeed
    14. load question addNumbers page and save data for later submission
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (594ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      save data for later submission
        ✓ should succeed
    15. grade correct answer to question addNumbers
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully (611ms)
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (1707ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    16. save correct answer to saved question addNumbers page
      setting up the submission data
        ✓ should succeed
      restore saved data for submission
        ✓ should succeed
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should error
    17. save incorrect answer to question fossilFuelsRadio
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (40ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    18. load question addVectors page and save data for later submission
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      save data for later submission
        ✓ should succeed
    19. grade incorrect answer to question addVectors
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should load successfully (58ms)
        ✓ should parse
        ✓ should create a submission
        ✓ should have the correct submission.variant_id
        ✓ should not be broken if Freeform
        ✓ should select the assessment_instance duration from the DB if student page
        ✓ should have the correct assessment_instance duration if student page
      check question score
        ✓ should have the submission
        ✓ should be graded with expected score
        ✓ should be graded with expected correctness
        ✓ should still have the instance_question
        ✓ should have the correct instance_question points
        ✓ should have the correct instance_question score_perc
      check assessment score
        ✓ should still have the assessment_instance
        ✓ should have the correct assessment_instance points
        ✓ should have the correct assessment_instance score_perc
    20. submit correct answer to saved question addVectors page
      setting up the submission data
        ✓ should succeed
      restore saved data for submission
        ✓ should succeed
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should error
    21. load question fossilFuelsRadio page and save data for later submission
      setting up the submission data
        ✓ should succeed
      GET to instance_question URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain question-data if Calculation
        ✓ question-data should contain base64 data if Calculation
        ✓ base64 data should parse to JSON if Calculation
        ✓ should have a variant_id in the questionData if Calculation
        ✓ should have a variant_id input if Freeform with grade or save buttons
        ✓ should have the variant in the DB if has grade or save button
        ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
        ✓ should have the correct variant.question.id if has grade or save button and is instructor page
        ✓ should not be a broken variant if Freeform with grade or save button
        ✓ should have a CSRF token if has grade or save button
        ✓ should have or not have grade button
        ✓ should have or not have save button
        ✓ should have or not have newVariant button
        ✓ should have or not have tryAgain button
      save data for later submission
        ✓ should succeed
    22. close exam
      ✓ should succeed
    23. save correct answer to saved question fossilFuelsRadio page
      setting up the submission data
        ✓ should succeed
      restore saved data for submission
        ✓ should succeed
      POST to instance_question URL
        ✓ should generate the submittedAnswer
        ✓ should error
    24. regrading
      set forceMaxPoints = true for question addVectors
        ✓ should succeed
      GET to instructorAssessment URL
        ✓ should succeed (54ms)
        ✓ should parse
        ✓ should have a CSRF token
      POST to instructorAssessment URL for regrading
        ✓ should succeed
      The regrading job sequence
        ✓ should have an id
        ✓ should complete
        ✓ should be successful
      check the regrading succeeded
        setting up the expected question addNumbers results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected question addVectors results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected question fossilFuelsRadio results
          ✓ should succeed
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        setting up the expected assessment results
          ✓ should succeed
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
    partial credit test #1
      server
        ✓ should shut down (157ms)
        ✓ should start up (1143ms)
      startExam-1. the locals object
        ✓ should be cleared
        ✓ should be initialized
      startExam-2. the questions
        ✓ should have cleared data
      startExam-3. the database
        ✓ should contain E1
      startExam-4. GET to assessments URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain E1
        ✓ should have the correct link for E1
      startExam-5. GET to assessment URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain "Please wait"
        ✓ should contain "Exam 1"
        ✓ should contain "TPL 101"
        ✓ should have a CSRF token
      startExam-6. POST to assessment URL
        ✓ should load successfully (951ms)
        ✓ should parse
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 6 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID partialCredit1
        ✓ should have question #5 as QID partialCredit2
        ✓ should have question #6 as QID partialCredit3
      startExam-7. GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
      store answer number #1 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (612ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      store answer number #2 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (586ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      store answer number #3 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (577ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #4 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (576ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1711ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #5 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (566ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1733ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (578ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1703ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #7 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (572ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      check-closed answer number #8 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (581ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      check-closed answer number #9 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (577ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      save-stored-fail answer number #10 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      grade-stored-fail answer number #11 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      save-stored-fail answer number #12 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
    partial credit test #2
      server
        ✓ should shut down (159ms)
        ✓ should start up (1045ms)
      startExam-1. the locals object
        ✓ should be cleared
        ✓ should be initialized
      startExam-2. the questions
        ✓ should have cleared data
      startExam-3. the database
        ✓ should contain E1
      startExam-4. GET to assessments URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain E1
        ✓ should have the correct link for E1
      startExam-5. GET to assessment URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain "Please wait"
        ✓ should contain "Exam 1"
        ✓ should contain "TPL 101"
        ✓ should have a CSRF token
      startExam-6. POST to assessment URL
        ✓ should load successfully (1029ms)
        ✓ should parse
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 6 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID partialCredit1
        ✓ should have question #5 as QID partialCredit2
        ✓ should have question #6 as QID partialCredit3
      startExam-7. GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
      store answer number #1 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (590ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #2 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (576ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1720ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade-stored-fail answer number #3 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      store answer number #4 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (568ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #5 for question partialCredit2 with score 37
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (568ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1695ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit2 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (587ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1734ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save-stored-fail answer number #7 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      grade answer number #8 for question partialCredit3 with score 71
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (560ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1696ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #9 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (575ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #10 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (567ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1725ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade-stored-fail answer number #11 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      check-closed answer number #12 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (562ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      check-closed answer number #13 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (591ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      check-closed answer number #14 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (587ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
    partial credit test #3
      server
        ✓ should shut down (152ms)
        ✓ should start up (1159ms)
      startExam-1. the locals object
        ✓ should be cleared
        ✓ should be initialized
      startExam-2. the questions
        ✓ should have cleared data
      startExam-3. the database
        ✓ should contain E1
      startExam-4. GET to assessments URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain E1
        ✓ should have the correct link for E1
      startExam-5. GET to assessment URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain "Please wait"
        ✓ should contain "Exam 1"
        ✓ should contain "TPL 101"
        ✓ should have a CSRF token
      startExam-6. POST to assessment URL
        ✓ should load successfully (941ms)
        ✓ should parse
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 6 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID partialCredit1
        ✓ should have question #5 as QID partialCredit2
        ✓ should have question #6 as QID partialCredit3
      startExam-7. GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
      save answer number #1 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (613ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1123ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #2 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (570ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #3 for question partialCredit1 with score 24
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (581ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1717ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #4 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (588ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      save-stored-fail answer number #5 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      grade answer number #6 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (599ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1674ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #7 for question partialCredit2 with score 97
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (574ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1155ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit2 with score 14
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (562ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1725ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit2 with score 8
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (630ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1738ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #10 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (591ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1190ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #11 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (586ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #12 for question partialCredit2 with score 27
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (594ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1779ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #13 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (732ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      grade-stored-fail answer number #14 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      save answer number #15 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (564ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1150ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #16 for question partialCredit3 with score 63
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (589ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1747ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #17 for question partialCredit3 with score 63
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (586ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1708ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #18 for question partialCredit3 with score 64
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (590ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1737ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #19 for question partialCredit3 with score 72
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (617ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1205ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #20 for question partialCredit3 with score 7
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (619ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1750ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #21 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (605ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #22 for question partialCredit3 with score 97
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (600ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1711ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #23 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (603ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      grade-stored-fail answer number #24 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
    partial credit test #4
      server
        ✓ should shut down (153ms)
        ✓ should start up (1192ms)
      startExam-1. the locals object
        ✓ should be cleared
        ✓ should be initialized
      startExam-2. the questions
        ✓ should have cleared data
      startExam-3. the database
        ✓ should contain E1
      startExam-4. GET to assessments URL
        ✓ should load successfully (139ms)
        ✓ should parse
        ✓ should contain E1
        ✓ should have the correct link for E1
      startExam-5. GET to assessment URL
        ✓ should load successfully
        ✓ should parse
        ✓ should contain "Please wait"
        ✓ should contain "Exam 1"
        ✓ should contain "TPL 101"
        ✓ should have a CSRF token
      startExam-6. POST to assessment URL
        ✓ should load successfully (1043ms)
        ✓ should parse
        ✓ should redirect to the correct path
        ✓ should create one assessment_instance
        ✓ should have the correct assessment_instance.assessment_id
        ✓ should create 6 instance_questions
        ✓ should have question #1 as QID addNumbers
        ✓ should have question #2 as QID addVectors
        ✓ should have question #3 as QID fossilFuelsRadio
        ✓ should have question #4 as QID partialCredit1
        ✓ should have question #5 as QID partialCredit2
        ✓ should have question #6 as QID partialCredit3
      startExam-7. GET to assessment_instance URL
        ✓ should load successfully
        ✓ should parse
        ✓ should link to addNumbers question
        ✓ should link to addVectors question
        ✓ should link to fossilFuelsRadio question
        ✓ should link to partialCredit1 question
        ✓ should link to partialCredit2 question
        ✓ should link to partialCredit3 question
      save answer number #1 for question partialCredit2 with score 97
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (566ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1146ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #2 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (578ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #3 for question partialCredit3 with score 63
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (570ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1678ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #4 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (598ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      save answer number #5 for question partialCredit3 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (573ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1155ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #6 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (624ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1680ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #7 for question partialCredit1 with score 100
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (554ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1140ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #8 for question partialCredit3 with score 63
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (582ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1698ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #9 for question partialCredit2 with score 14
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (582ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1707ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #10 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (576ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1195ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save answer number #11 for question partialCredit3 with score 72
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (583ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1145ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #12 for question partialCredit1 with score 24
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (590ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1662ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #13 for question partialCredit3 with score 64
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (587ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1721ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      store answer number #14 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (595ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        saving submission data
          ✓ should succeed
      grade answer number #15 for question partialCredit3 with score 7
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (696ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1699ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      save-stored-fail answer number #16 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      grade answer number #17 for question partialCredit2 with score 8
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (598ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1723ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #18 for question partialCredit1 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (591ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      grade answer number #19 for question partialCredit3 with score 97
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (599ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1697ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      grade answer number #20 for question partialCredit2 with score 27
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (604ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should load successfully (1701ms)
          ✓ should parse
          ✓ should create a submission
          ✓ should have the correct submission.variant_id
          ✓ should not be broken if Freeform
          ✓ should select the assessment_instance duration from the DB if student page
          ✓ should have the correct assessment_instance duration if student page
        check question score
          ✓ should have the submission
          ✓ should be graded with expected score
          ✓ should be graded with expected correctness
          ✓ should still have the instance_question
          ✓ should have the correct instance_question points
          ✓ should have the correct instance_question score_perc
        check assessment score
          ✓ should still have the assessment_instance
          ✓ should have the correct assessment_instance points
          ✓ should have the correct assessment_instance score_perc
      check-closed answer number #21 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (615ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button
      grade-stored-fail answer number #22 for question partialCredit3 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      grade-stored-fail answer number #23 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        restoring submission data
          ✓ should succeed
        POST to instance_question URL
          ✓ should generate the submittedAnswer
          ✓ should error
      check-closed answer number #24 for question partialCredit2 with score 0
        setting up the submission data
          ✓ should succeed
        GET to instance_question URL
          ✓ should load successfully (609ms)
          ✓ should parse
          ✓ should contain question-data if Calculation
          ✓ question-data should contain base64 data if Calculation
          ✓ base64 data should parse to JSON if Calculation
          ✓ should have a variant_id in the questionData if Calculation
          ✓ should have a variant_id input if Freeform with grade or save buttons
          ✓ should have the variant in the DB if has grade or save button
          ✓ should have the correct variant.instance_question.id if has grade or save button and is student page
          ✓ should have the correct variant.question.id if has grade or save button and is instructor page
          ✓ should not be a broken variant if Freeform with grade or save button
          ✓ should have a CSRF token if has grade or save button
          ✓ should have or not have grade button
          ✓ should have or not have save button
          ✓ should have or not have newVariant button
          ✓ should have or not have tryAgain button

  Access control
    1. GET /pl
      ✓ as student should not contain TPL 101
    2. the student user
      ✓ should select from the DB
    3. Enroll student user into exampleCourse
      ✓ should succeed
    4. GET /pl
      ✓ as student should contain TPL 101
      ✓ as student in Exam mode before course instance time period should not contain TPL 101
      ✓ as student in Exam mode after course instance time period should not contain TPL 101
    5. database
      ✓ should contain E1
    6. GET /pl/assessments
      ✓ as student should not contain E1
      ✓ as student in Exam mode before time period should not contain E1
      ✓ as student in Exam mode after time period should not contain E1
      ✓ as student in Exam mode should contain E1
      ✓ should have the correct link for E1
    7. GET to assessment URL
      ✓ as student should return 500
      ✓ as student in Exam mode before time period should return 500
      ✓ as student in Exam mode after time period should return 500
      ✓ as student in Exam mode should load successfully (137ms)
      ✓ should parse
      ✓ should have a CSRF token
    8. POST to assessment URL
      ✓ as student should return 500
      ✓ as student in Exam mode before time period should return 500
      ✓ in Exam mode after time period should return 500
      ✓ as student in Exam mode without password should return 500
      ✓ as student in Exam mode should load successfully (971ms)
    9. GET to assessment_instance URL
      ✓ as student should return 500
      ✓ as student in Exam mode before time period should return 500
      ✓ as student in Exam mode after time period should return 500
      ✓ as student in Exam mode should load successfully
      ✓ should parse
      ✓ should produce an addVectors instance_question in the DB
      ✓ should link to addVectors question
    11. GET to instance_question URL
      ✓ as student should return 500
      ✓ as student in Exam mode before time period should return 500
      ✓ as student in Exam mode after time period should return 500
      ✓ as student in Exam mode should load successfully
      ✓ should parse
      ✓ should contain question-data
      ✓ question-data should contain base64 data
      ✓ base64 data should parse to JSON
      ✓ should have a variant_id in the questionData
      ✓ should have a CSRF token
    12. POST to instance_question URL
      ✓ as student should return 500
      ✓ as student in Exam mode before time period should return 500
      ✓ as student in Exam mode after time period should return 500
      ✓ as student in Exam mode should load successfully (44ms)
    insert PrairieSchedule course link
      ✓ should succeed
      ✓ should block access to the assessment_instance
    13. insert PrairieSchedule reservation
      ✓ should succeed
      ✓ should block access to the assessment_instance
      ✓ should block access to the assessment_instance before the reservation
      ✓ should block access to the assessment_instance after the reservation
    14. check in PrairieSchedule reservation
      ✓ should succeed
      ✓ should enable access to the assessment_instance
      ✓ should block access to the assessment_instance before the reservation
      ✓ should block access to the assessment_instance after the reservation


  6353 passing (7m)
  5 failing

  1) database should match the database described in /database:
     
Differences in assessment_score_logs table
  columns
      assessment_instance_id: bigint not null
      auth_user_id: bigint
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      id: bigint not null default nextval('assessment_score_logs_id_seq'::regclass)
      max_points: double precision
      points: double precision
      points_in_grading: double precision
      score_perc: double precision
      score_perc_in_grading: double precision
  
  indexes
      assessment_score_logs_pkey: PRIMARY KEY (id)
      assessment_score_logs_assessment_instance_id_idx: null
  
  foreign-key constraints
      assessment_score_logs_assessment_instance_id_fkey: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      assessment_score_logs_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in assessment_instances table
  columns
      assessment_id: bigint not null
      auth_user_id: bigint
      auto_close: boolean default false
      closed_at: timestamp with time zone
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      date_limit: timestamp with time zone
      duration: interval default '00:00:00'::interval
      id: bigint not null default nextval('assessment_instances_id_seq'::regclass)
      max_points: double precision
      mode: enum_mode
      number: integer
      obj: jsonb
      open: boolean default true
      points: double precision default 0
      points_in_grading: double precision default 0
      qids: jsonb
      score_perc: double precision default 0
      score_perc_in_grading: double precision default 0
      tiid: text
      tmp_upgraded_iq_status: boolean default false
      user_id: bigint not null
  
  indexes
      assessment_instances_pkey: PRIMARY KEY (id)
      assessment_instances_assessment_id_user_id_number_key: UNIQUE (assessment_id, user_id, number)
      assessment_instances_tiid_key: UNIQUE (tiid)
      assessment_instances_user_id_idx: null
  
  foreign-key constraints
      assessment_instances_assessment_id_fkey: FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON UPDATE CASCADE ON DELETE CASCADE
      assessment_instances_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      assessment_instances_user_id_fkey: FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      assessment_score_logs: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      assessment_state_logs: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      instance_questions: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in assessment_state_logs table
  columns
      assessment_instance_id: bigint not null
      auth_user_id: bigint
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      id: bigint not null default nextval('assessment_state_logs_id_seq'::regclass)
      open: boolean
  
  indexes
      assessment_state_logs_pkey: PRIMARY KEY (id)
      assessment_state_logs_assessment_instance_id_idx: null
  
  foreign-key constraints
      assessment_state_logs_assessment_instance_id_fkey: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      assessment_state_logs_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in audit_logs table
  columns
      action: text
      authn_user_id: bigint
      column_name: text
      course_id: bigint
      course_instance_id: bigint
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      id: bigint not null default nextval('audit_logs_id_seq'::regclass)
      new_state: jsonb
      old_state: jsonb
      parameters: jsonb
      row_id: bigint
      table_name: text
      user_id: bigint
  
  indexes
      audit_logs_pkey: PRIMARY KEY (id)
  

Differences in config table
  columns
-     created_at: timestamp with time zone default now()
+     created_at: timestamp with time zone default CURRENT_TIMESTAMP
      id: bigint not null default nextval('config_id_seq'::regclass)
      key: text not null
      value: text
  
  indexes
      config_pkey: PRIMARY KEY (id)
      config_key_key: UNIQUE (key)
  

Differences in exam_mode_networks table
  columns
-     created_at: timestamp with time zone default now()
+     created_at: timestamp with time zone default CURRENT_TIMESTAMP
      during: tstzrange
      id: bigint not null default nextval('exam_mode_networks_id_seq'::regclass)
      location: text
      network: cidr
      purpose: text
  
  indexes
      exam_mode_networks_pkey: PRIMARY KEY (id)
  

Differences in grading_jobs table
  columns
      auth_user_id: bigint
      correct: boolean
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      feedback: jsonb
      graded_at: timestamp with time zone
      graded_by: bigint
      grading_finished_at: timestamp with time zone
      grading_method: enum_grading_method
      grading_received_at: timestamp with time zone
      grading_request_canceled_at: timestamp with time zone
      grading_request_canceled_by: bigint
      grading_requested_at: timestamp with time zone
      grading_started_at: timestamp with time zone
      grading_submitted_at: timestamp with time zone
      id: bigint not null default nextval('grading_jobs_id_seq'::regclass)
      output: text
      partial_scores: jsonb
      s3_bucket: text
      s3_root_key: text
      score: double precision
      submission_id: bigint not null
      v2_score: double precision
  
  indexes
      grading_jobs_pkey: PRIMARY KEY (id)
      grading_jobs_date_idx: null
      grading_jobs_submission_id_idx: null
  
  foreign-key constraints
      grading_jobs_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      grading_jobs_graded_by_fkey: FOREIGN KEY (graded_by) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      grading_jobs_grading_request_canceled_by_fkey: FOREIGN KEY (grading_request_canceled_by) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      grading_jobs_submission_id_fkey: FOREIGN KEY (submission_id) REFERENCES submissions(id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      question_score_logs: FOREIGN KEY (grading_job_id) REFERENCES grading_jobs(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in instance_questions table
  columns
      assessment_instance_id: bigint not null
      assessment_question_id: bigint not null
      authn_user_id: bigint
-     created_at: timestamp with time zone default now()
+     created_at: timestamp with time zone default CURRENT_TIMESTAMP
      current_value: double precision
      duration: interval default '00:00:00'::interval
      first_duration: interval
      highest_submission_score: double precision
      id: bigint not null default nextval('instance_questions_id_seq'::regclass)
      number: integer
      number_attempts: integer not null default 0
      open: boolean default true
      order_by: integer default floor((random() * (1000000)::double precision))
      points: double precision default 0
      points_in_grading: double precision default 0
      points_list: double precision[]
      points_list_original: double precision[]
      score_perc: double precision default 0
      score_perc_in_grading: double precision default 0
      status: enum_instance_question_status default 'unanswered'::enum_instance_question_status
      variants_points_list: double precision[] not null default ARRAY[]::double precision[]
  
  indexes
      instance_questions_pkey: PRIMARY KEY (id)
      instance_questions_assessment_question_id_assessment_instan_key: UNIQUE (assessment_question_id, assessment_instance_id)
      instance_questions_assessment_instance_id_idx: null
  
  foreign-key constraints
      instance_questions_assessment_instance_id_fkey: FOREIGN KEY (assessment_instance_id) REFERENCES assessment_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      instance_questions_assessment_question_id_fkey: FOREIGN KEY (assessment_question_id) REFERENCES assessment_questions(id) ON UPDATE CASCADE ON DELETE CASCADE
      instance_questions_authn_user_id_fkey: FOREIGN KEY (authn_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      issues: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE SET NULL
      question_score_logs: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE CASCADE
      variants: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in jobs table
  columns
      arguments: text[]
      assessment_id: bigint
      authn_user_id: bigint
      command: text
      course_id: bigint
      course_instance_id: bigint
      description: text
      error_message: text
      exit_code: integer
      exit_signal: text
      finish_date: timestamp with time zone
      id: bigint not null default nextval('jobs_id_seq'::regclass)
      job_sequence_id: bigint
      last_in_sequence: boolean
      number: integer
      number_in_sequence: integer
      output: text
-     start_date: timestamp with time zone default now()
+     start_date: timestamp with time zone default CURRENT_TIMESTAMP
      status: enum_job_status
      stderr: text
      stdin: text
      stdout: text
      type: text
      user_id: bigint
      working_directory: text
  
  indexes
      jobs_pkey: PRIMARY KEY (id)
      jobs_course_id_number_key: UNIQUE (course_id, number)
      jobs_job_sequence_id_number_in_sequence_key: UNIQUE (job_sequence_id, number_in_sequence)
  
  foreign-key constraints
      jobs_assessment_id_fkey: FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON UPDATE CASCADE ON DELETE CASCADE
      jobs_authn_user_id_fkey: FOREIGN KEY (authn_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      jobs_course_id_fkey: FOREIGN KEY (course_id) REFERENCES pl_courses(id) ON UPDATE CASCADE ON DELETE CASCADE
      jobs_course_instance_id_fkey: FOREIGN KEY (course_instance_id) REFERENCES course_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      jobs_job_sequence_id_fkey: FOREIGN KEY (job_sequence_id) REFERENCES job_sequences(id) ON UPDATE CASCADE ON DELETE CASCADE
      jobs_user_id_fkey: FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in issues table
  columns
      assessment_id: bigint
      authn_user_id: bigint
      course_caused: boolean
      course_data: jsonb
      course_id: bigint
      course_instance_id: bigint
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      display_id: text
      id: bigint not null default nextval('issues_id_seq'::regclass)
      instance_question_id: bigint
      instructor_message: text
      manually_reported: boolean default false
      open: boolean default true
      question_id: bigint
      student_message: text
      system_data: jsonb
      user_id: bigint
      variant_id: bigint
  
  indexes
      issues_pkey: PRIMARY KEY (id)
      issues_assessment_id_open_idx: null
      issues_authn_user_id_idx: null
      issues_course_id_open_idx: null
      issues_course_instance_id_idx: null
      issues_instance_question_id_idx: null
      issues_question_id_open_idx: null
      issues_user_id_idx: null
      issues_variant_id_idx: null
  
  foreign-key constraints
      issues_assessment_id_fkey: FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_authn_user_id_fkey: FOREIGN KEY (authn_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_course_id_fkey: FOREIGN KEY (course_id) REFERENCES pl_courses(id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_course_instance_id_fkey: FOREIGN KEY (course_instance_id) REFERENCES course_instances(id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_instance_question_id_fkey: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_question_id_fkey: FOREIGN KEY (question_id) REFERENCES questions(id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_user_id_fkey: FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE SET NULL
      issues_variant_id_fkey: FOREIGN KEY (variant_id) REFERENCES variants(id) ON UPDATE CASCADE ON DELETE SET NULL
  

Differences in question_score_logs table
  columns
      auth_user_id: bigint
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      grading_job_id: bigint
      id: bigint not null default nextval('question_score_logs_id_seq'::regclass)
      instance_question_id: bigint not null
      max_points: double precision
      points: double precision
      score_perc: double precision
  
  indexes
      question_score_logs_pkey: PRIMARY KEY (id)
      question_score_logs_instance_question_id_idx: null
  
  foreign-key constraints
      question_score_logs_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      question_score_logs_grading_job_id_fkey: FOREIGN KEY (grading_job_id) REFERENCES grading_jobs(id) ON UPDATE CASCADE ON DELETE CASCADE
      question_score_logs_instance_question_id_fkey: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in job_sequences table
  columns
      assessment_id: bigint
      authn_user_id: bigint
      course_id: bigint
      course_instance_id: bigint
      description: text
      finish_date: timestamp with time zone
      id: bigint not null default nextval('job_sequences_id_seq'::regclass)
      number: integer
-     start_date: timestamp with time zone default now()
+     start_date: timestamp with time zone default CURRENT_TIMESTAMP
      status: enum_job_status default 'Running'::enum_job_status
      type: text
      user_id: bigint
  
  indexes
      job_sequences_pkey: PRIMARY KEY (id)
      job_sequences_course_id_number_key: UNIQUE (course_id, number)
      job_sequences_assessment_id_idx: null
      job_sequences_course_id_idx: null
  
  foreign-key constraints
      job_sequences_assessment_id_fkey: FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON UPDATE CASCADE ON DELETE CASCADE
      job_sequences_authn_user_id_fkey: FOREIGN KEY (authn_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      job_sequences_course_id_fkey: FOREIGN KEY (course_id) REFERENCES pl_courses(id) ON UPDATE CASCADE ON DELETE CASCADE
      job_sequences_course_instance_id_fkey: FOREIGN KEY (course_instance_id) REFERENCES course_instances(id) ON UPDATE CASCADE ON DELETE CASCADE
      job_sequences_user_id_fkey: FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      jobs: FOREIGN KEY (job_sequence_id) REFERENCES job_sequences(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in submissions table
  columns
      auth_user_id: bigint
      broken: boolean default false
      correct: boolean
      credit: integer
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      duration: interval default '00:00:00'::interval
      feedback: jsonb
      format_errors: jsonb
      gradable: boolean default true
      graded_at: timestamp with time zone
      grading_method: enum_grading_method
      grading_requested_at: timestamp with time zone
      id: bigint not null default nextval('submissions_id_seq'::regclass)
      mode: enum_mode
      override_score: double precision
      params: jsonb
      partial_scores: jsonb
      raw_submitted_answer: jsonb
      score: double precision
      sid: text
      submitted_answer: jsonb
      true_answer: jsonb
      v2_score: double precision
      variant_id: bigint not null
  
  indexes
      submissions_pkey: PRIMARY KEY (id)
      submissions_sid_key: UNIQUE (sid)
      submissions_variant_id_idx: null
  
  foreign-key constraints
      submissions_auth_user_id_fkey: FOREIGN KEY (auth_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      submissions_variant_id_fkey: FOREIGN KEY (variant_id) REFERENCES variants(id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      grading_jobs: FOREIGN KEY (submission_id) REFERENCES submissions(id) ON UPDATE CASCADE ON DELETE CASCADE
  

Differences in variants table
  columns
      authn_user_id: bigint
      broken: boolean default false
-     date: timestamp with time zone default now()
+     date: timestamp with time zone default CURRENT_TIMESTAMP
      duration: interval default '00:00:00'::interval
      first_duration: interval
      id: bigint not null default nextval('variants_id_seq'::regclass)
      instance_question_id: bigint
      num_tries: integer not null default 0
      number: integer
      open: boolean default true
      options: jsonb
      params: jsonb
      qiid: text
      question_id: bigint not null
      true_answer: jsonb
      user_id: bigint not null
      variant_seed: text
  
  indexes
      variants_pkey: PRIMARY KEY (id)
      variants_instance_question_id_number_key: UNIQUE (instance_question_id, number)
      variants_qiid_key: UNIQUE (qiid)
  
  foreign-key constraints
      variants_authn_user_id_fkey: FOREIGN KEY (authn_user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
      variants_instance_question_id_fkey: FOREIGN KEY (instance_question_id) REFERENCES instance_questions(id) ON UPDATE CASCADE ON DELETE CASCADE
      variants_question_id_fkey: FOREIGN KEY (question_id) REFERENCES questions(id) ON UPDATE CASCADE ON DELETE CASCADE
      variants_user_id_fkey: FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE
  
  referenced by
      issues: FOREIGN KEY (variant_id) REFERENCES variants(id) ON UPDATE CASCADE ON DELETE SET NULL
      submissions: FOREIGN KEY (variant_id) REFERENCES variants(id) ON UPDATE CASCADE ON DELETE CASCADE
      variant_view_logs: FOREIGN KEY (variant_id) REFERENCES variants(id) ON UPDATE CASCADE ON DELETE CASCADE
  


  

  2) Auto-test questions auto-testing question ballToss2 the test job sequence should be successful:
     AssertionError: expected 'Error' to equal 'Success'
      at Context.<anonymous> (tests/helperQuestion.js:1:79281)

  3) Auto-test questions auto-testing question ballToss2 the test job sequence should produce no issues:
     found 2 issues (expected zero issues):
[
    {
        "id": "4",
        "display_id": "249883",
        "date": "2017-11-14T16:35:33.530Z",
        "course_caused": true,
        "student_message": "Error creating test submission",
        "course_data": {
            "course": {
                "id": 1,
                "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                "title": "Example Course",
                "options": null,
                "deleted_at": null,
                "repository": null,
                "short_name": "TPL 101",
                "grading_queue": "tpl101",
                "display_timezone": "America/Chicago"
            },
            "variant": {
                "id": "4",
                "date": "2017-11-14T16:35:33.530Z",
                "open": true,
                "qiid": null,
                "broken": false,
                "number": null,
                "params": {
                    "d": 18,
                    "h": 12,
                    "m": 3,
                    "t": [
                        {
                            "key": "a",
                            "html": "\n    $t = 4.5\\rm\\ s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $t = 0.816\\rm\\ s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $t = 1.565\\rm\\ s$\n  "
                        }
                    ],
                    "vy": [
                        {
                            "key": "a",
                            "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "d",
                            "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "e",
                            "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                        }
                    ],
                    "t_c": 4.5,
                    "v0x": 4,
                    "t_x1": 1.565,
                    "t_x2": 0.816,
                    "vy_c": 19.38,
                    "horiz": [
                        {
                            "key": "a",
                            "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                        }
                    ],
                    "vy_x1": -44.19,
                    "vy_x2": -28.05,
                    "vy_x3": -19.79,
                    "vy_x4": 0,
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "\n    a <b>shorter</b> time.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    the <b>same</b> amount of time.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>longer</b> time.\n  \n"
                        }
                    ]
                },
                "options": {},
                "user_id": "1",
                "duration": {},
                "num_tries": 0,
                "question_id": "3",
                "true_answer": {
                    "t": {
                        "key": "a",
                        "html": "\n    $t = 4.5\\rm\\ s$\n  "
                    },
                    "vy": {
                        "key": "c",
                        "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                    },
                    "horiz": {
                        "key": "a",
                        "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "\n    a <b>shorter</b> time.\n  \n"
                    }
                },
                "variant_seed": "1gp153j",
                "authn_user_id": "1",
                "first_duration": null,
                "instance_question_id": null
            },
            "question": {
                "id": 3,
                "qid": "ballToss2",
                "type": "Freeform",
                "uuid": "4e4e3bff-cb60-4a7e-9575-49137774f3b2",
                "title": "Tossing a ball from the top of a building",
                "number": 144,
                "options": null,
                "topic_id": 5,
                "course_id": 1,
                "directory": "ballToss2",
                "deleted_at": null,
                "client_files": [
                    "client.js",
                    "question.html",
                    "answer.html"
                ],
                "grading_method": "Internal",
                "partial_credit": true,
                "single_variant": false,
                "template_directory": null,
                "external_grading_files": null,
                "external_grading_image": null,
                "external_grading_enabled": null,
                "external_grading_timeout": null,
                "external_grading_entrypoint": null
            }
        },
        "system_data": {
            "stack": "Async Stacktrace:\n    at async.eachSeries.err (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:27:1008)\n    at async.eachSeries.err (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:27:802)\n\nError: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null\n    at elementFunction (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:22:5837)\n    at module.exports (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async-stacktrace/ERR.js:52:7)\n    at pc.call (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:18:136)\n    at PythonCaller._callCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:2779)\n    at PythonCaller._handleChildExit (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:74:5939)\n    at emitTwo (events.js:125:13)\n    at ChildProcess.emit (events.js:213:7)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)",
            "courseErrData": {
                "stack": "Error\n    at PythonCaller._errorData (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:4113)\n    at PythonCaller._callCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:2622)\n    at PythonCaller._handleChildExit (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:74:5939)\n    at emitTwo (events.js:125:13)\n    at ChildProcess.emit (events.js:213:7)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)",
                "outputBoth": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                "outputData": "",
                "childIsNull": true,
                "lastCallData": {
                    "cwd": "/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice",
                    "fcn": "test",
                    "args": [
                        "<pl_multiple_choice answers_name=\"t\" weight=\"1\">\n  <pl_answer correct=\"true\">\n    $t = 4.5\\rm\\ s$\n  </pl_answer>\n  <pl_answer correct=\"false\">\n    $t = 1.565\\rm\\ s$\n  </pl_answer>\n  <pl_answer correct=\"false\">\n    $t = 0.816\\rm\\ s$\n  </pl_answer>\t  \n</pl_multiple_choice>",
                        1,
                        {
                            "score": 0,
                            "params": {
                                "d": 18,
                                "h": 12,
                                "m": 3,
                                "t": [
                                    {
                                        "key": "a",
                                        "html": "\n    $t = 4.5\\rm\\ s$\n  "
                                    },
                                    {
                                        "key": "b",
                                        "html": "\n    $t = 0.816\\rm\\ s$\n  "
                                    },
                                    {
                                        "key": "c",
                                        "html": "\n    $t = 1.565\\rm\\ s$\n  "
                                    }
                                ],
                                "vy": [
                                    {
                                        "key": "a",
                                        "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                                    },
                                    {
                                        "key": "b",
                                        "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                                    },
                                    {
                                        "key": "c",
                                        "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                                    },
                                    {
                                        "key": "d",
                                        "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                                    },
                                    {
                                        "key": "e",
                                        "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                                    }
                                ],
                                "t_c": 4.5,
                                "v0x": 4,
                                "t_x1": 1.565,
                                "t_x2": 0.816,
                                "vy_c": 19.38,
                                "horiz": [
                                    {
                                        "key": "a",
                                        "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                                    },
                                    {
                                        "key": "b",
                                        "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                                    },
                                    {
                                        "key": "c",
                                        "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                                    }
                                ],
                                "vy_x1": -44.19,
                                "vy_x2": -28.05,
                                "vy_x3": -19.79,
                                "vy_x4": 0,
                                "speed_change": [
                                    {
                                        "key": "a",
                                        "html": "\n    a <b>shorter</b> time.\n  \n"
                                    },
                                    {
                                        "key": "b",
                                        "html": "\n    the <b>same</b> amount of time.\n  \n"
                                    },
                                    {
                                        "key": "c",
                                        "html": "\n    a <b>longer</b> time.\n  \n"
                                    }
                                ]
                            },
                            "options": {},
                            "feedback": {},
                            "gradable": true,
                            "variant_seed": 3186284815,
                            "format_errors": {},
                            "partial_scores": {},
                            "correct_answers": {
                                "t": {
                                    "key": "a",
                                    "html": "\n    $t = 4.5\\rm\\ s$\n  "
                                },
                                "vy": {
                                    "key": "c",
                                    "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                                },
                                "horiz": {
                                    "key": "a",
                                    "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                                },
                                "speed_change": {
                                    "key": "a",
                                    "html": "\n    a <b>shorter</b> time.\n  \n"
                                }
                            },
                            "raw_submitted_answers": {}
                        }
                    ],
                    "file": "pl_multiple_choice",
                    "paths": [
                        "/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeformPythonLib"
                    ]
                },
                "outputStderr": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                "outputStdout": "",
                "callbackIsNull": false,
                "timeoutIDIsNull": true
            }
        },
        "course_id": "1",
        "course_instance_id": null,
        "question_id": "3",
        "assessment_id": null,
        "authn_user_id": "1",
        "user_id": "1",
        "variant_id": "4",
        "open": true,
        "instructor_message": "Error: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null",
        "instance_question_id": null,
        "manually_reported": false,
        "qiid": null,
        "number": null,
        "variant_seed": "1gp153j",
        "params": {
            "t": {
                "key": "a",
                "html": "\n    $t = 4.5\\rm\\ s$\n  "
            },
            "vy": {
                "key": "c",
                "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
            },
            "horiz": {
                "key": "a",
                "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
            },
            "speed_change": {
                "key": "a",
                "html": "\n    a <b>shorter</b> time.\n  \n"
            }
        },
        "true_answer": null,
        "options": {},
        "duration": {},
        "first_duration": {},
        "broken": false,
        "num_tries": 1
    },
    {
        "id": "4",
        "display_id": "343859",
        "date": "2017-11-14T16:35:33.530Z",
        "course_caused": true,
        "student_message": "Question test failure",
        "course_data": {
            "course": {
                "id": 1,
                "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                "title": "Example Course",
                "options": null,
                "deleted_at": null,
                "repository": null,
                "short_name": "TPL 101",
                "grading_queue": "tpl101",
                "display_timezone": "America/Chicago"
            },
            "variant": {
                "id": "4",
                "date": "2017-11-14T16:35:33.530Z",
                "open": true,
                "qiid": null,
                "broken": false,
                "number": null,
                "params": {
                    "d": 18,
                    "h": 12,
                    "m": 3,
                    "t": [
                        {
                            "key": "a",
                            "html": "\n    $t = 4.5\\rm\\ s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $t = 0.816\\rm\\ s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $t = 1.565\\rm\\ s$\n  "
                        }
                    ],
                    "vy": [
                        {
                            "key": "a",
                            "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "d",
                            "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "e",
                            "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                        }
                    ],
                    "t_c": 4.5,
                    "v0x": 4,
                    "t_x1": 1.565,
                    "t_x2": 0.816,
                    "vy_c": 19.38,
                    "horiz": [
                        {
                            "key": "a",
                            "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                        }
                    ],
                    "vy_x1": -44.19,
                    "vy_x2": -28.05,
                    "vy_x3": -19.79,
                    "vy_x4": 0,
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "\n    a <b>shorter</b> time.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    the <b>same</b> amount of time.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>longer</b> time.\n  \n"
                        }
                    ]
                },
                "options": {},
                "user_id": "1",
                "duration": {},
                "num_tries": 0,
                "question_id": "3",
                "true_answer": {
                    "t": {
                        "key": "a",
                        "html": "\n    $t = 4.5\\rm\\ s$\n  "
                    },
                    "vy": {
                        "key": "c",
                        "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                    },
                    "horiz": {
                        "key": "a",
                        "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "\n    a <b>shorter</b> time.\n  \n"
                    }
                },
                "variant_seed": "1gp153j",
                "authn_user_id": "1",
                "first_duration": null,
                "instance_question_id": null
            },
            "question": {
                "id": 3,
                "qid": "ballToss2",
                "type": "Freeform",
                "uuid": "4e4e3bff-cb60-4a7e-9575-49137774f3b2",
                "title": "Tossing a ball from the top of a building",
                "number": 144,
                "options": null,
                "topic_id": 5,
                "course_id": 1,
                "directory": "ballToss2",
                "deleted_at": null,
                "client_files": [
                    "client.js",
                    "question.html",
                    "answer.html"
                ],
                "grading_method": "Internal",
                "partial_credit": true,
                "single_variant": false,
                "template_directory": null,
                "external_grading_files": null,
                "external_grading_image": null,
                "external_grading_enabled": null,
                "external_grading_timeout": null,
                "external_grading_entrypoint": null
            },
            "test_submission": {
                "id": "4",
                "sid": null,
                "date": "2017-11-14T16:35:33.530Z",
                "mode": null,
                "score": null,
                "broken": false,
                "credit": null,
                "params": {
                    "t": {
                        "key": "a",
                        "html": "\n    $t = 4.5\\rm\\ s$\n  "
                    },
                    "vy": {
                        "key": "c",
                        "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                    },
                    "horiz": {
                        "key": "a",
                        "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "\n    a <b>shorter</b> time.\n  \n"
                    }
                },
                "correct": null,
                "duration": {},
                "feedback": null,
                "gradable": false,
                "v2_score": null,
                "graded_at": null,
                "variant_id": "4",
                "true_answer": null,
                "auth_user_id": "1",
                "format_errors": {
                    "t": "No submitted answer.",
                    "vy": "No submitted answer.",
                    "horiz": "No submitted answer.",
                    "speed_change": "No submitted answer."
                },
                "grading_method": null,
                "override_score": null,
                "partial_scores": null,
                "submitted_answer": {},
                "grading_requested_at": null,
                "raw_submitted_answer": {}
            },
            "expected_submission": {
                "id": "3",
                "sid": null,
                "date": "2017-11-14T16:35:33.530Z",
                "mode": null,
                "score": 0,
                "broken": true,
                "credit": null,
                "params": {
                    "d": 18,
                    "h": 12,
                    "m": 3,
                    "t": [
                        {
                            "key": "a",
                            "html": "\n    $t = 4.5\\rm\\ s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $t = 0.816\\rm\\ s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $t = 1.565\\rm\\ s$\n  "
                        }
                    ],
                    "vy": [
                        {
                            "key": "a",
                            "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "d",
                            "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "e",
                            "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                        }
                    ],
                    "t_c": 4.5,
                    "v0x": 4,
                    "t_x1": 1.565,
                    "t_x2": 0.816,
                    "vy_c": 19.38,
                    "horiz": [
                        {
                            "key": "a",
                            "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                        }
                    ],
                    "vy_x1": -44.19,
                    "vy_x2": -28.05,
                    "vy_x3": -19.79,
                    "vy_x4": 0,
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "\n    a <b>shorter</b> time.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    the <b>same</b> amount of time.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>longer</b> time.\n  \n"
                        }
                    ]
                },
                "correct": false,
                "duration": {},
                "feedback": {},
                "gradable": false,
                "v2_score": null,
                "graded_at": "2017-11-14T16:35:33.530Z",
                "variant_id": "4",
                "true_answer": {
                    "t": {
                        "key": "a",
                        "html": "\n    $t = 4.5\\rm\\ s$\n  "
                    },
                    "vy": {
                        "key": "c",
                        "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                    },
                    "horiz": {
                        "key": "a",
                        "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "\n    a <b>shorter</b> time.\n  \n"
                    }
                },
                "auth_user_id": "1",
                "format_errors": {},
                "grading_method": "Internal",
                "override_score": null,
                "partial_scores": {},
                "submitted_answer": {
                    "d": 18,
                    "h": 12,
                    "m": 3,
                    "t": [
                        {
                            "key": "a",
                            "html": "\n    $t = 4.5\\rm\\ s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $t = 0.816\\rm\\ s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $t = 1.565\\rm\\ s$\n  "
                        }
                    ],
                    "vy": [
                        {
                            "key": "a",
                            "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "b",
                            "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "c",
                            "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "d",
                            "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                        },
                        {
                            "key": "e",
                            "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                        }
                    ],
                    "t_c": 4.5,
                    "v0x": 4,
                    "t_x1": 1.565,
                    "t_x2": 0.816,
                    "vy_c": 19.38,
                    "horiz": [
                        {
                            "key": "a",
                            "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                        }
                    ],
                    "vy_x1": -44.19,
                    "vy_x2": -28.05,
                    "vy_x3": -19.79,
                    "vy_x4": 0,
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "\n    a <b>shorter</b> time.\n  \n"
                        },
                        {
                            "key": "b",
                            "html": "\n    the <b>same</b> amount of time.\n  \n"
                        },
                        {
                            "key": "c",
                            "html": "\n    a <b>longer</b> time.\n  \n"
                        }
                    ]
                },
                "grading_requested_at": null,
                "raw_submitted_answer": {}
            }
        },
        "system_data": {
            "stack": "Error: expected_submission is broken, skipping tests\n    at Object._compareSubmissions (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:180:666)\n    at async.series.callback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:191:2895)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:3686:9\n    at replenish (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:881:17)\n    at iterateeCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:866:17)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:843:16\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:3691:13\n    at apply (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:21:25)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:56:12\n    at sqldb.callWithClientOneRow (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:191:2814)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/lib/sqldb.js:11:8293\n    at Query.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/sqldb.js:2:1381)\n    at Query.handleReadyForQuery (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/query.js:124:10)\n    at Connection.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/client.js:172:19)\n    at emitOne (events.js:115:13)\n    at Connection.emit (events.js:210:7)\n    at Socket.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/connection.js:136:12)\n    at emitOne (events.js:115:13)\n    at Socket.emit (events.js:210:7)\n    at addChunk (_stream_readable.js:266:12)\n    at readableAddChunk (_stream_readable.js:253:11)\n    at Socket.Readable.push (_stream_readable.js:211:10)\n    at TCP.onread (net.js:587:20)"
        },
        "course_id": "1",
        "course_instance_id": null,
        "question_id": "3",
        "assessment_id": null,
        "authn_user_id": "1",
        "user_id": "1",
        "variant_id": "4",
        "open": true,
        "instructor_message": "Error: expected_submission is broken, skipping tests",
        "instance_question_id": null,
        "manually_reported": false,
        "qiid": null,
        "number": null,
        "variant_seed": "1gp153j",
        "params": {
            "t": {
                "key": "a",
                "html": "\n    $t = 4.5\\rm\\ s$\n  "
            },
            "vy": {
                "key": "c",
                "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
            },
            "horiz": {
                "key": "a",
                "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
            },
            "speed_change": {
                "key": "a",
                "html": "\n    a <b>shorter</b> time.\n  \n"
            }
        },
        "true_answer": null,
        "options": {},
        "duration": {},
        "first_duration": {},
        "broken": false,
        "num_tries": 1
    }
]
  Error: found 2 issues (expected zero issues):
  [
      {
          "id": "4",
          "display_id": "249883",
          "date": "2017-11-14T16:35:33.530Z",
          "course_caused": true,
          "student_message": "Error creating test submission",
          "course_data": {
              "course": {
                  "id": 1,
                  "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                  "title": "Example Course",
                  "options": null,
                  "deleted_at": null,
                  "repository": null,
                  "short_name": "TPL 101",
                  "grading_queue": "tpl101",
                  "display_timezone": "America/Chicago"
              },
              "variant": {
                  "id": "4",
                  "date": "2017-11-14T16:35:33.530Z",
                  "open": true,
                  "qiid": null,
                  "broken": false,
                  "number": null,
                  "params": {
                      "d": 18,
                      "h": 12,
                      "m": 3,
                      "t": [
                          {
                              "key": "a",
                              "html": "\n    $t = 4.5\\rm\\ s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $t = 0.816\\rm\\ s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $t = 1.565\\rm\\ s$\n  "
                          }
                      ],
                      "vy": [
                          {
                              "key": "a",
                              "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "d",
                              "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "e",
                              "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                          }
                      ],
                      "t_c": 4.5,
                      "v0x": 4,
                      "t_x1": 1.565,
                      "t_x2": 0.816,
                      "vy_c": 19.38,
                      "horiz": [
                          {
                              "key": "a",
                              "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                          }
                      ],
                      "vy_x1": -44.19,
                      "vy_x2": -28.05,
                      "vy_x3": -19.79,
                      "vy_x4": 0,
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "\n    a <b>shorter</b> time.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    the <b>same</b> amount of time.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>longer</b> time.\n  \n"
                          }
                      ]
                  },
                  "options": {},
                  "user_id": "1",
                  "duration": {},
                  "num_tries": 0,
                  "question_id": "3",
                  "true_answer": {
                      "t": {
                          "key": "a",
                          "html": "\n    $t = 4.5\\rm\\ s$\n  "
                      },
                      "vy": {
                          "key": "c",
                          "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                      },
                      "horiz": {
                          "key": "a",
                          "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "\n    a <b>shorter</b> time.\n  \n"
                      }
                  },
                  "variant_seed": "1gp153j",
                  "authn_user_id": "1",
                  "first_duration": null,
                  "instance_question_id": null
              },
              "question": {
                  "id": 3,
                  "qid": "ballToss2",
                  "type": "Freeform",
                  "uuid": "4e4e3bff-cb60-4a7e-9575-49137774f3b2",
                  "title": "Tossing a ball from the top of a building",
                  "number": 144,
                  "options": null,
                  "topic_id": 5,
                  "course_id": 1,
                  "directory": "ballToss2",
                  "deleted_at": null,
                  "client_files": [
                      "client.js",
                      "question.html",
                      "answer.html"
                  ],
                  "grading_method": "Internal",
                  "partial_credit": true,
                  "single_variant": false,
                  "template_directory": null,
                  "external_grading_files": null,
                  "external_grading_image": null,
                  "external_grading_enabled": null,
                  "external_grading_timeout": null,
                  "external_grading_entrypoint": null
              }
          },
          "system_data": {
              "courseErrData": {
                  "outputBoth": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                  "outputData": "",
                  "childIsNull": true,
                  "lastCallData": {
                      "cwd": "/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice",
                      "fcn": "test",
                      "args": [
                          "<pl_multiple_choice answers_name=\"t\" weight=\"1\">\n  <pl_answer correct=\"true\">\n    $t = 4.5\\rm\\ s$\n  </pl_answer>\n  <pl_answer correct=\"false\">\n    $t = 1.565\\rm\\ s$\n  </pl_answer>\n  <pl_answer correct=\"false\">\n    $t = 0.816\\rm\\ s$\n  </pl_answer>\t  \n</pl_multiple_choice>",
                          1,
                          {
                              "score": 0,
                              "params": {
                                  "d": 18,
                                  "h": 12,
                                  "m": 3,
                                  "t": [
                                      {
                                          "key": "a",
                                          "html": "\n    $t = 4.5\\rm\\ s$\n  "
                                      },
                                      {
                                          "key": "b",
                                          "html": "\n    $t = 0.816\\rm\\ s$\n  "
                                      },
                                      {
                                          "key": "c",
                                          "html": "\n    $t = 1.565\\rm\\ s$\n  "
                                      }
                                  ],
                                  "vy": [
                                      {
                                          "key": "a",
                                          "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                                      },
                                      {
                                          "key": "b",
                                          "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                                      },
                                      {
                                          "key": "c",
                                          "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                                      },
                                      {
                                          "key": "d",
                                          "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                                      },
                                      {
                                          "key": "e",
                                          "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                                      }
                                  ],
                                  "t_c": 4.5,
                                  "v0x": 4,
                                  "t_x1": 1.565,
                                  "t_x2": 0.816,
                                  "vy_c": 19.38,
                                  "horiz": [
                                      {
                                          "key": "a",
                                          "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                                      },
                                      {
                                          "key": "b",
                                          "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                                      },
                                      {
                                          "key": "c",
                                          "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                                      }
                                  ],
                                  "vy_x1": -44.19,
                                  "vy_x2": -28.05,
                                  "vy_x3": -19.79,
                                  "vy_x4": 0,
                                  "speed_change": [
                                      {
                                          "key": "a",
                                          "html": "\n    a <b>shorter</b> time.\n  \n"
                                      },
                                      {
                                          "key": "b",
                                          "html": "\n    the <b>same</b> amount of time.\n  \n"
                                      },
                                      {
                                          "key": "c",
                                          "html": "\n    a <b>longer</b> time.\n  \n"
                                      }
                                  ]
                              },
                              "options": {},
                              "feedback": {},
                              "gradable": true,
                              "variant_seed": 3186284815,
                              "format_errors": {},
                              "partial_scores": {},
                              "correct_answers": {
                                  "t": {
                                      "key": "a",
                                      "html": "\n    $t = 4.5\\rm\\ s$\n  "
                                  },
                                  "vy": {
                                      "key": "c",
                                      "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                                  },
                                  "horiz": {
                                      "key": "a",
                                      "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                                  },
                                  "speed_change": {
                                      "key": "a",
                                      "html": "\n    a <b>shorter</b> time.\n  \n"
                                  }
                              },
                              "raw_submitted_answers": {}
                          }
                      ],
                      "file": "pl_multiple_choice",
                      "paths": [
                          "/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeformPythonLib"
                      ]
                  },
                  "outputStderr": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                  "outputStdout": "",
                  "callbackIsNull": false,
                  "timeoutIDIsNull": true
              }
          },
          "course_id": "1",
          "course_instance_id": null,
          "question_id": "3",
          "assessment_id": null,
          "authn_user_id": "1",
          "user_id": "1",
          "variant_id": "4",
          "open": true,
          "instructor_message": "Error: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null",
          "instance_question_id": null,
          "manually_reported": false,
          "qiid": null,
          "number": null,
          "variant_seed": "1gp153j",
          "params": {
              "t": {
                  "key": "a",
                  "html": "\n    $t = 4.5\\rm\\ s$\n  "
              },
              "vy": {
                  "key": "c",
                  "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
              },
              "horiz": {
                  "key": "a",
                  "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
              },
              "speed_change": {
                  "key": "a",
                  "html": "\n    a <b>shorter</b> time.\n  \n"
              }
          },
          "true_answer": null,
          "options": {},
          "duration": {},
          "first_duration": {},
          "broken": false,
          "num_tries": 1
      },
      {
          "id": "4",
          "display_id": "343859",
          "date": "2017-11-14T16:35:33.530Z",
          "course_caused": true,
          "student_message": "Question test failure",
          "course_data": {
              "course": {
                  "id": 1,
                  "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                  "title": "Example Course",
                  "options": null,
                  "deleted_at": null,
                  "repository": null,
                  "short_name": "TPL 101",
                  "grading_queue": "tpl101",
                  "display_timezone": "America/Chicago"
              },
              "variant": {
                  "id": "4",
                  "date": "2017-11-14T16:35:33.530Z",
                  "open": true,
                  "qiid": null,
                  "broken": false,
                  "number": null,
                  "params": {
                      "d": 18,
                      "h": 12,
                      "m": 3,
                      "t": [
                          {
                              "key": "a",
                              "html": "\n    $t = 4.5\\rm\\ s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $t = 0.816\\rm\\ s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $t = 1.565\\rm\\ s$\n  "
                          }
                      ],
                      "vy": [
                          {
                              "key": "a",
                              "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "d",
                              "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "e",
                              "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                          }
                      ],
                      "t_c": 4.5,
                      "v0x": 4,
                      "t_x1": 1.565,
                      "t_x2": 0.816,
                      "vy_c": 19.38,
                      "horiz": [
                          {
                              "key": "a",
                              "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                          }
                      ],
                      "vy_x1": -44.19,
                      "vy_x2": -28.05,
                      "vy_x3": -19.79,
                      "vy_x4": 0,
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "\n    a <b>shorter</b> time.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    the <b>same</b> amount of time.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>longer</b> time.\n  \n"
                          }
                      ]
                  },
                  "options": {},
                  "user_id": "1",
                  "duration": {},
                  "num_tries": 0,
                  "question_id": "3",
                  "true_answer": {
                      "t": {
                          "key": "a",
                          "html": "\n    $t = 4.5\\rm\\ s$\n  "
                      },
                      "vy": {
                          "key": "c",
                          "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                      },
                      "horiz": {
                          "key": "a",
                          "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "\n    a <b>shorter</b> time.\n  \n"
                      }
                  },
                  "variant_seed": "1gp153j",
                  "authn_user_id": "1",
                  "first_duration": null,
                  "instance_question_id": null
              },
              "question": {
                  "id": 3,
                  "qid": "ballToss2",
                  "type": "Freeform",
                  "uuid": "4e4e3bff-cb60-4a7e-9575-49137774f3b2",
                  "title": "Tossing a ball from the top of a building",
                  "number": 144,
                  "options": null,
                  "topic_id": 5,
                  "course_id": 1,
                  "directory": "ballToss2",
                  "deleted_at": null,
                  "client_files": [
                      "client.js",
                      "question.html",
                      "answer.html"
                  ],
                  "grading_method": "Internal",
                  "partial_credit": true,
                  "single_variant": false,
                  "template_directory": null,
                  "external_grading_files": null,
                  "external_grading_image": null,
                  "external_grading_enabled": null,
                  "external_grading_timeout": null,
                  "external_grading_entrypoint": null
              },
              "test_submission": {
                  "id": "4",
                  "sid": null,
                  "date": "2017-11-14T16:35:33.530Z",
                  "mode": null,
                  "score": null,
                  "broken": false,
                  "credit": null,
                  "params": {
                      "t": {
                          "key": "a",
                          "html": "\n    $t = 4.5\\rm\\ s$\n  "
                      },
                      "vy": {
                          "key": "c",
                          "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                      },
                      "horiz": {
                          "key": "a",
                          "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "\n    a <b>shorter</b> time.\n  \n"
                      }
                  },
                  "correct": null,
                  "duration": {},
                  "feedback": null,
                  "gradable": false,
                  "v2_score": null,
                  "graded_at": null,
                  "variant_id": "4",
                  "true_answer": null,
                  "auth_user_id": "1",
                  "format_errors": {
                      "t": "No submitted answer.",
                      "vy": "No submitted answer.",
                      "horiz": "No submitted answer.",
                      "speed_change": "No submitted answer."
                  },
                  "grading_method": null,
                  "override_score": null,
                  "partial_scores": null,
                  "submitted_answer": {},
                  "grading_requested_at": null,
                  "raw_submitted_answer": {}
              },
              "expected_submission": {
                  "id": "3",
                  "sid": null,
                  "date": "2017-11-14T16:35:33.530Z",
                  "mode": null,
                  "score": 0,
                  "broken": true,
                  "credit": null,
                  "params": {
                      "d": 18,
                      "h": 12,
                      "m": 3,
                      "t": [
                          {
                              "key": "a",
                              "html": "\n    $t = 4.5\\rm\\ s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $t = 0.816\\rm\\ s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $t = 1.565\\rm\\ s$\n  "
                          }
                      ],
                      "vy": [
                          {
                              "key": "a",
                              "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "d",
                              "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "e",
                              "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                          }
                      ],
                      "t_c": 4.5,
                      "v0x": 4,
                      "t_x1": 1.565,
                      "t_x2": 0.816,
                      "vy_c": 19.38,
                      "horiz": [
                          {
                              "key": "a",
                              "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                          }
                      ],
                      "vy_x1": -44.19,
                      "vy_x2": -28.05,
                      "vy_x3": -19.79,
                      "vy_x4": 0,
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "\n    a <b>shorter</b> time.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    the <b>same</b> amount of time.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>longer</b> time.\n  \n"
                          }
                      ]
                  },
                  "correct": false,
                  "duration": {},
                  "feedback": {},
                  "gradable": false,
                  "v2_score": null,
                  "graded_at": "2017-11-14T16:35:33.530Z",
                  "variant_id": "4",
                  "true_answer": {
                      "t": {
                          "key": "a",
                          "html": "\n    $t = 4.5\\rm\\ s$\n  "
                      },
                      "vy": {
                          "key": "c",
                          "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                      },
                      "horiz": {
                          "key": "a",
                          "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "\n    a <b>shorter</b> time.\n  \n"
                      }
                  },
                  "auth_user_id": "1",
                  "format_errors": {},
                  "grading_method": "Internal",
                  "override_score": null,
                  "partial_scores": {},
                  "submitted_answer": {
                      "d": 18,
                      "h": 12,
                      "m": 3,
                      "t": [
                          {
                              "key": "a",
                              "html": "\n    $t = 4.5\\rm\\ s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $t = 0.816\\rm\\ s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $t = 1.565\\rm\\ s$\n  "
                          }
                      ],
                      "vy": [
                          {
                              "key": "a",
                              "html": "\n    $v_{y0} = -44.19\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "b",
                              "html": "\n    $v_{y0} = -19.79\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "c",
                              "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "d",
                              "html": "\n    $v_{y0} = -28.05\\rm\\ m/s$\n  "
                          },
                          {
                              "key": "e",
                              "html": "\n    $v_{y0} = 0\\rm\\ m/s$\n  "
                          }
                      ],
                      "t_c": 4.5,
                      "v0x": 4,
                      "t_x1": 1.565,
                      "t_x2": 0.816,
                      "vy_c": 19.38,
                      "horiz": [
                          {
                              "key": "a",
                              "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    a <b>faster</b> speed than when it was thrown downward.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>slower</b> speed than when it was thrown downward.\n  \n"
                          }
                      ],
                      "vy_x1": -44.19,
                      "vy_x2": -28.05,
                      "vy_x3": -19.79,
                      "vy_x4": 0,
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "\n    a <b>shorter</b> time.\n  \n"
                          },
                          {
                              "key": "b",
                              "html": "\n    the <b>same</b> amount of time.\n  \n"
                          },
                          {
                              "key": "c",
                              "html": "\n    a <b>longer</b> time.\n  \n"
                          }
                      ]
                  },
                  "grading_requested_at": null,
                  "raw_submitted_answer": {}
              }
          },
          "system_data": {
          },
          "course_id": "1",
          "course_instance_id": null,
          "question_id": "3",
          "assessment_id": null,
          "authn_user_id": "1",
          "user_id": "1",
          "variant_id": "4",
          "open": true,
          "instructor_message": "Error: expected_submission is broken, skipping tests",
          "instance_question_id": null,
          "manually_reported": false,
          "qiid": null,
          "number": null,
          "variant_seed": "1gp153j",
          "params": {
              "t": {
                  "key": "a",
                  "html": "\n    $t = 4.5\\rm\\ s$\n  "
              },
              "vy": {
                  "key": "c",
                  "html": "\n    $v_{y0} = 19.38\\rm\\ m/s$\n  "
              },
              "horiz": {
                  "key": "a",
                  "html": "\n    the <b>same</b> speed as when it was thrown downward.\n  \n"
              },
              "speed_change": {
                  "key": "a",
                  "html": "\n    a <b>shorter</b> time.\n  \n"
              }
          },
          "true_answer": null,
          "options": {},
          "duration": {},
          "first_duration": {},
          "broken": false,
          "num_tries": 1
      }
  ]
      at sqldb.query (tests/helperQuestion.js:1:79766)
      at Query.<anonymous> (lib/sqldb.js:11:1980)
      at Query.handleReadyForQuery (node_modules/pg/lib/query.js:124:10)
      at Connection.<anonymous> (node_modules/pg/lib/client.js:172:19)
      at Socket.<anonymous> (node_modules/pg/lib/connection.js:136:12)
      at addChunk (_stream_readable.js:266:12)
      at readableAddChunk (_stream_readable.js:253:11)
      at Socket.Readable.push (_stream_readable.js:211:10)
      at TCP.onread (net.js:587:20)

  4) Auto-test questions auto-testing question positionTimeGraph the test job sequence should be successful:
     AssertionError: expected 'Error' to equal 'Success'
      at Context.<anonymous> (tests/helperQuestion.js:1:79281)

  5) Auto-test questions auto-testing question positionTimeGraph the test job sequence should produce no issues:
     found 2 issues (expected zero issues):
[
    {
        "id": "14",
        "display_id": "323800",
        "date": "2017-11-14T16:35:54.217Z",
        "course_caused": true,
        "student_message": "Error creating test submission",
        "course_data": {
            "course": {
                "id": 1,
                "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                "title": "Example Course",
                "options": null,
                "deleted_at": null,
                "repository": null,
                "short_name": "TPL 101",
                "grading_queue": "tpl101",
                "display_timezone": "America/Chicago"
            },
            "variant": {
                "id": "14",
                "date": "2017-11-14T16:35:54.217Z",
                "open": true,
                "qiid": null,
                "broken": false,
                "number": null,
                "params": {
                    "acc": [
                        {
                            "key": "a",
                            "html": "negative"
                        },
                        {
                            "key": "b",
                            "html": "zero"
                        },
                        {
                            "key": "c",
                            "html": "positive"
                        }
                    ],
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "b",
                            "html": "               C-D"
                        },
                        {
                            "key": "c",
                            "html": "               F-G"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "e",
                            "html": "               E-F"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_comp": [
                        {
                            "key": "a",
                            "html": "$v(B) > v(C)$"
                        },
                        {
                            "key": "b",
                            "html": "$v(B) = v(C)$"
                        },
                        {
                            "key": "c",
                            "html": "$v(B) < v(C)$"
                        }
                    ],
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "speeding up"
                        },
                        {
                            "key": "b",
                            "html": "slowing down"
                        },
                        {
                            "key": "c",
                            "html": "neither speeding up nor slowing down"
                        }
                    ]
                },
                "options": {},
                "user_id": "1",
                "duration": {},
                "num_tries": 0,
                "question_id": "19",
                "true_answer": {
                    "acc": {
                        "key": "a",
                        "html": "negative"
                    },
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_avg": 0.8,
                    "v_comp": {
                        "key": "a",
                        "html": "$v(B) > v(C)$"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "speeding up"
                    }
                },
                "variant_seed": "10vn9hm",
                "authn_user_id": "1",
                "first_duration": null,
                "instance_question_id": null
            },
            "question": {
                "id": 19,
                "qid": "positionTimeGraph",
                "type": "Freeform",
                "uuid": "7c4ccac6-1031-43ed-a673-feb64c2f8bbf",
                "title": "Understanding motion from a position-time graph",
                "number": 496,
                "options": null,
                "topic_id": 3,
                "course_id": 1,
                "directory": "positionTimeGraph",
                "deleted_at": null,
                "client_files": [
                    "client.js",
                    "question.html",
                    "answer.html"
                ],
                "grading_method": "Internal",
                "partial_credit": true,
                "single_variant": false,
                "template_directory": null,
                "external_grading_files": null,
                "external_grading_image": null,
                "external_grading_enabled": null,
                "external_grading_timeout": null,
                "external_grading_entrypoint": null
            }
        },
        "system_data": {
            "stack": "Async Stacktrace:\n    at async.eachSeries.err (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:27:1008)\n    at async.eachSeries.err (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:27:802)\n\nError: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null\n    at elementFunction (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:22:5837)\n    at module.exports (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async-stacktrace/ERR.js:52:7)\n    at pc.call (/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeform.js:18:136)\n    at PythonCaller._callCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:2779)\n    at PythonCaller._handleChildExit (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:74:5939)\n    at emitTwo (events.js:125:13)\n    at ChildProcess.emit (events.js:213:7)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)",
            "courseErrData": {
                "stack": "Error\n    at PythonCaller._errorData (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:4113)\n    at PythonCaller._callCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:75:2622)\n    at PythonCaller._handleChildExit (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/code-caller.js:74:5939)\n    at emitTwo (events.js:125:13)\n    at ChildProcess.emit (events.js:213:7)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)",
                "outputBoth": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                "outputData": "",
                "childIsNull": true,
                "lastCallData": {
                    "cwd": "/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice",
                    "fcn": "test",
                    "args": [
                        "<pl_multiple_choice answers_name=\"acc\" weight=\"1\" inline=\"true\">\n  <pl_answer correct=\"false\">positive</pl_answer>\n  <pl_answer correct=\"true\">negative</pl_answer>\n  <pl_answer correct=\"false\">zero</pl_answer>\n</pl_multiple_choice>",
                        2,
                        {
                            "score": 0,
                            "params": {
                                "acc": [
                                    {
                                        "key": "a",
                                        "html": "negative"
                                    },
                                    {
                                        "key": "b",
                                        "html": "zero"
                                    },
                                    {
                                        "key": "c",
                                        "html": "positive"
                                    }
                                ],
                                "vpos": [
                                    {
                                        "key": "a",
                                        "html": "A-B"
                                    },
                                    {
                                        "key": "b",
                                        "html": "               C-D"
                                    },
                                    {
                                        "key": "c",
                                        "html": "               F-G"
                                    },
                                    {
                                        "key": "d",
                                        "html": "B-C"
                                    },
                                    {
                                        "key": "e",
                                        "html": "               E-F"
                                    },
                                    {
                                        "key": "f",
                                        "html": "D-E"
                                    }
                                ],
                                "v_comp": [
                                    {
                                        "key": "a",
                                        "html": "$v(B) > v(C)$"
                                    },
                                    {
                                        "key": "b",
                                        "html": "$v(B) = v(C)$"
                                    },
                                    {
                                        "key": "c",
                                        "html": "$v(B) < v(C)$"
                                    }
                                ],
                                "speed_change": [
                                    {
                                        "key": "a",
                                        "html": "speeding up"
                                    },
                                    {
                                        "key": "b",
                                        "html": "slowing down"
                                    },
                                    {
                                        "key": "c",
                                        "html": "neither speeding up nor slowing down"
                                    }
                                ]
                            },
                            "options": {},
                            "feedback": {},
                            "gradable": true,
                            "variant_seed": 2229935818,
                            "format_errors": {},
                            "partial_scores": {
                                "vpos": {
                                    "score": 0,
                                    "weight": 1
                                }
                            },
                            "correct_answers": {
                                "acc": {
                                    "key": "a",
                                    "html": "negative"
                                },
                                "vpos": [
                                    {
                                        "key": "a",
                                        "html": "A-B"
                                    },
                                    {
                                        "key": "d",
                                        "html": "B-C"
                                    },
                                    {
                                        "key": "f",
                                        "html": "D-E"
                                    }
                                ],
                                "v_avg": 0.8,
                                "v_comp": {
                                    "key": "a",
                                    "html": "$v(B) > v(C)$"
                                },
                                "speed_change": {
                                    "key": "a",
                                    "html": "speeding up"
                                }
                            },
                            "raw_submitted_answers": {
                                "vpos": [
                                    "c",
                                    "d",
                                    "e",
                                    "f"
                                ]
                            }
                        }
                    ],
                    "file": "pl_multiple_choice",
                    "paths": [
                        "/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeformPythonLib"
                    ]
                },
                "outputStderr": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                "outputStdout": "",
                "callbackIsNull": false,
                "timeoutIDIsNull": true
            }
        },
        "course_id": "1",
        "course_instance_id": null,
        "question_id": "19",
        "assessment_id": null,
        "authn_user_id": "1",
        "user_id": "1",
        "variant_id": "14",
        "open": true,
        "instructor_message": "Error: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null",
        "instance_question_id": null,
        "manually_reported": false,
        "qiid": null,
        "number": null,
        "variant_seed": "10vn9hm",
        "params": {
            "acc": {
                "key": "a",
                "html": "negative"
            },
            "vpos": [
                {
                    "key": "a",
                    "html": "A-B"
                },
                {
                    "key": "d",
                    "html": "B-C"
                },
                {
                    "key": "f",
                    "html": "D-E"
                }
            ],
            "v_avg": 0.8,
            "v_comp": {
                "key": "a",
                "html": "$v(B) > v(C)$"
            },
            "speed_change": {
                "key": "a",
                "html": "speeding up"
            }
        },
        "true_answer": null,
        "options": {},
        "duration": {},
        "first_duration": {},
        "broken": false,
        "num_tries": 1
    },
    {
        "id": "14",
        "display_id": "775588",
        "date": "2017-11-14T16:35:54.217Z",
        "course_caused": true,
        "student_message": "Question test failure",
        "course_data": {
            "course": {
                "id": 1,
                "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                "title": "Example Course",
                "options": null,
                "deleted_at": null,
                "repository": null,
                "short_name": "TPL 101",
                "grading_queue": "tpl101",
                "display_timezone": "America/Chicago"
            },
            "variant": {
                "id": "14",
                "date": "2017-11-14T16:35:54.217Z",
                "open": true,
                "qiid": null,
                "broken": false,
                "number": null,
                "params": {
                    "acc": [
                        {
                            "key": "a",
                            "html": "negative"
                        },
                        {
                            "key": "b",
                            "html": "zero"
                        },
                        {
                            "key": "c",
                            "html": "positive"
                        }
                    ],
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "b",
                            "html": "               C-D"
                        },
                        {
                            "key": "c",
                            "html": "               F-G"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "e",
                            "html": "               E-F"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_comp": [
                        {
                            "key": "a",
                            "html": "$v(B) > v(C)$"
                        },
                        {
                            "key": "b",
                            "html": "$v(B) = v(C)$"
                        },
                        {
                            "key": "c",
                            "html": "$v(B) < v(C)$"
                        }
                    ],
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "speeding up"
                        },
                        {
                            "key": "b",
                            "html": "slowing down"
                        },
                        {
                            "key": "c",
                            "html": "neither speeding up nor slowing down"
                        }
                    ]
                },
                "options": {},
                "user_id": "1",
                "duration": {},
                "num_tries": 0,
                "question_id": "19",
                "true_answer": {
                    "acc": {
                        "key": "a",
                        "html": "negative"
                    },
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_avg": 0.8,
                    "v_comp": {
                        "key": "a",
                        "html": "$v(B) > v(C)$"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "speeding up"
                    }
                },
                "variant_seed": "10vn9hm",
                "authn_user_id": "1",
                "first_duration": null,
                "instance_question_id": null
            },
            "question": {
                "id": 19,
                "qid": "positionTimeGraph",
                "type": "Freeform",
                "uuid": "7c4ccac6-1031-43ed-a673-feb64c2f8bbf",
                "title": "Understanding motion from a position-time graph",
                "number": 496,
                "options": null,
                "topic_id": 3,
                "course_id": 1,
                "directory": "positionTimeGraph",
                "deleted_at": null,
                "client_files": [
                    "client.js",
                    "question.html",
                    "answer.html"
                ],
                "grading_method": "Internal",
                "partial_credit": true,
                "single_variant": false,
                "template_directory": null,
                "external_grading_files": null,
                "external_grading_image": null,
                "external_grading_enabled": null,
                "external_grading_timeout": null,
                "external_grading_entrypoint": null
            },
            "test_submission": {
                "id": "14",
                "sid": null,
                "date": "2017-11-14T16:35:54.217Z",
                "mode": null,
                "score": null,
                "broken": false,
                "credit": null,
                "params": {
                    "acc": {
                        "key": "a",
                        "html": "negative"
                    },
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_avg": 0.8,
                    "v_comp": {
                        "key": "a",
                        "html": "$v(B) > v(C)$"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "speeding up"
                    }
                },
                "correct": null,
                "duration": {},
                "feedback": null,
                "gradable": false,
                "v2_score": null,
                "graded_at": null,
                "variant_id": "14",
                "true_answer": null,
                "auth_user_id": "1",
                "format_errors": {
                    "acc": "No submitted answer.",
                    "v_avg": "No submitted answer.",
                    "v_comp": "No submitted answer.",
                    "speed_change": "No submitted answer."
                },
                "grading_method": null,
                "override_score": null,
                "partial_scores": null,
                "submitted_answer": {
                    "vpos": [
                        "c",
                        "d",
                        "e",
                        "f"
                    ],
                    "v_avg": null
                },
                "grading_requested_at": null,
                "raw_submitted_answer": {
                    "vpos": [
                        "c",
                        "d",
                        "e",
                        "f"
                    ]
                }
            },
            "expected_submission": {
                "id": "13",
                "sid": null,
                "date": "2017-11-14T16:35:54.217Z",
                "mode": null,
                "score": 0,
                "broken": true,
                "credit": null,
                "params": {
                    "acc": [
                        {
                            "key": "a",
                            "html": "negative"
                        },
                        {
                            "key": "b",
                            "html": "zero"
                        },
                        {
                            "key": "c",
                            "html": "positive"
                        }
                    ],
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "b",
                            "html": "               C-D"
                        },
                        {
                            "key": "c",
                            "html": "               F-G"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "e",
                            "html": "               E-F"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_comp": [
                        {
                            "key": "a",
                            "html": "$v(B) > v(C)$"
                        },
                        {
                            "key": "b",
                            "html": "$v(B) = v(C)$"
                        },
                        {
                            "key": "c",
                            "html": "$v(B) < v(C)$"
                        }
                    ],
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "speeding up"
                        },
                        {
                            "key": "b",
                            "html": "slowing down"
                        },
                        {
                            "key": "c",
                            "html": "neither speeding up nor slowing down"
                        }
                    ]
                },
                "correct": false,
                "duration": {},
                "feedback": {},
                "gradable": false,
                "v2_score": null,
                "graded_at": "2017-11-14T16:35:54.217Z",
                "variant_id": "14",
                "true_answer": {
                    "acc": {
                        "key": "a",
                        "html": "negative"
                    },
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_avg": 0.8,
                    "v_comp": {
                        "key": "a",
                        "html": "$v(B) > v(C)$"
                    },
                    "speed_change": {
                        "key": "a",
                        "html": "speeding up"
                    }
                },
                "auth_user_id": "1",
                "format_errors": {},
                "grading_method": "Internal",
                "override_score": null,
                "partial_scores": {
                    "vpos": {
                        "score": 0,
                        "weight": 1
                    }
                },
                "submitted_answer": {
                    "acc": [
                        {
                            "key": "a",
                            "html": "negative"
                        },
                        {
                            "key": "b",
                            "html": "zero"
                        },
                        {
                            "key": "c",
                            "html": "positive"
                        }
                    ],
                    "vpos": [
                        {
                            "key": "a",
                            "html": "A-B"
                        },
                        {
                            "key": "b",
                            "html": "               C-D"
                        },
                        {
                            "key": "c",
                            "html": "               F-G"
                        },
                        {
                            "key": "d",
                            "html": "B-C"
                        },
                        {
                            "key": "e",
                            "html": "               E-F"
                        },
                        {
                            "key": "f",
                            "html": "D-E"
                        }
                    ],
                    "v_comp": [
                        {
                            "key": "a",
                            "html": "$v(B) > v(C)$"
                        },
                        {
                            "key": "b",
                            "html": "$v(B) = v(C)$"
                        },
                        {
                            "key": "c",
                            "html": "$v(B) < v(C)$"
                        }
                    ],
                    "speed_change": [
                        {
                            "key": "a",
                            "html": "speeding up"
                        },
                        {
                            "key": "b",
                            "html": "slowing down"
                        },
                        {
                            "key": "c",
                            "html": "neither speeding up nor slowing down"
                        }
                    ]
                },
                "grading_requested_at": null,
                "raw_submitted_answer": {
                    "vpos": [
                        "c",
                        "d",
                        "e",
                        "f"
                    ]
                }
            }
        },
        "system_data": {
            "stack": "Error: expected_submission is broken, skipping tests\n    at Object._compareSubmissions (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:180:666)\n    at async.series.callback (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:191:2895)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:3686:9\n    at replenish (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:881:17)\n    at iterateeCallback (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:866:17)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:843:16\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:3691:13\n    at apply (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:21:25)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/async/dist/async.js:56:12\n    at sqldb.callWithClientOneRow (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/question.js:191:2814)\n    at /Users/fengyichen/pldev/newfolder/PrairieLearn/lib/sqldb.js:11:8293\n    at Query.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/sqldb.js:2:1381)\n    at Query.handleReadyForQuery (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/query.js:124:10)\n    at Connection.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/client.js:172:19)\n    at emitOne (events.js:115:13)\n    at Connection.emit (events.js:210:7)\n    at Socket.<anonymous> (/Users/fengyichen/pldev/newfolder/PrairieLearn/node_modules/pg/lib/connection.js:136:12)\n    at emitOne (events.js:115:13)\n    at Socket.emit (events.js:210:7)\n    at addChunk (_stream_readable.js:266:12)\n    at readableAddChunk (_stream_readable.js:253:11)\n    at Socket.Readable.push (_stream_readable.js:211:10)\n    at TCP.onread (net.js:587:20)"
        },
        "course_id": "1",
        "course_instance_id": null,
        "question_id": "19",
        "assessment_id": null,
        "authn_user_id": "1",
        "user_id": "1",
        "variant_id": "14",
        "open": true,
        "instructor_message": "Error: expected_submission is broken, skipping tests",
        "instance_question_id": null,
        "manually_reported": false,
        "qiid": null,
        "number": null,
        "variant_seed": "10vn9hm",
        "params": {
            "acc": {
                "key": "a",
                "html": "negative"
            },
            "vpos": [
                {
                    "key": "a",
                    "html": "A-B"
                },
                {
                    "key": "d",
                    "html": "B-C"
                },
                {
                    "key": "f",
                    "html": "D-E"
                }
            ],
            "v_avg": 0.8,
            "v_comp": {
                "key": "a",
                "html": "$v(B) > v(C)$"
            },
            "speed_change": {
                "key": "a",
                "html": "speeding up"
            }
        },
        "true_answer": null,
        "options": {},
        "duration": {},
        "first_duration": {},
        "broken": false,
        "num_tries": 1
    }
]
  Error: found 2 issues (expected zero issues):
  [
      {
          "id": "14",
          "display_id": "323800",
          "date": "2017-11-14T16:35:54.217Z",
          "course_caused": true,
          "student_message": "Error creating test submission",
          "course_data": {
              "course": {
                  "id": 1,
                  "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                  "title": "Example Course",
                  "options": null,
                  "deleted_at": null,
                  "repository": null,
                  "short_name": "TPL 101",
                  "grading_queue": "tpl101",
                  "display_timezone": "America/Chicago"
              },
              "variant": {
                  "id": "14",
                  "date": "2017-11-14T16:35:54.217Z",
                  "open": true,
                  "qiid": null,
                  "broken": false,
                  "number": null,
                  "params": {
                      "acc": [
                          {
                              "key": "a",
                              "html": "negative"
                          },
                          {
                              "key": "b",
                              "html": "zero"
                          },
                          {
                              "key": "c",
                              "html": "positive"
                          }
                      ],
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "b",
                              "html": "               C-D"
                          },
                          {
                              "key": "c",
                              "html": "               F-G"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "e",
                              "html": "               E-F"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_comp": [
                          {
                              "key": "a",
                              "html": "$v(B) > v(C)$"
                          },
                          {
                              "key": "b",
                              "html": "$v(B) = v(C)$"
                          },
                          {
                              "key": "c",
                              "html": "$v(B) < v(C)$"
                          }
                      ],
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "speeding up"
                          },
                          {
                              "key": "b",
                              "html": "slowing down"
                          },
                          {
                              "key": "c",
                              "html": "neither speeding up nor slowing down"
                          }
                      ]
                  },
                  "options": {},
                  "user_id": "1",
                  "duration": {},
                  "num_tries": 0,
                  "question_id": "19",
                  "true_answer": {
                      "acc": {
                          "key": "a",
                          "html": "negative"
                      },
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_avg": 0.8,
                      "v_comp": {
                          "key": "a",
                          "html": "$v(B) > v(C)$"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "speeding up"
                      }
                  },
                  "variant_seed": "10vn9hm",
                  "authn_user_id": "1",
                  "first_duration": null,
                  "instance_question_id": null
              },
              "question": {
                  "id": 19,
                  "qid": "positionTimeGraph",
                  "type": "Freeform",
                  "uuid": "7c4ccac6-1031-43ed-a673-feb64c2f8bbf",
                  "title": "Understanding motion from a position-time graph",
                  "number": 496,
                  "options": null,
                  "topic_id": 3,
                  "course_id": 1,
                  "directory": "positionTimeGraph",
                  "deleted_at": null,
                  "client_files": [
                      "client.js",
                      "question.html",
                      "answer.html"
                  ],
                  "grading_method": "Internal",
                  "partial_credit": true,
                  "single_variant": false,
                  "template_directory": null,
                  "external_grading_files": null,
                  "external_grading_image": null,
                  "external_grading_enabled": null,
                  "external_grading_timeout": null,
                  "external_grading_entrypoint": null
              }
          },
          "system_data": {
              "courseErrData": {
                  "outputBoth": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                  "outputData": "",
                  "childIsNull": true,
                  "lastCallData": {
                      "cwd": "/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice",
                      "fcn": "test",
                      "args": [
                          "<pl_multiple_choice answers_name=\"acc\" weight=\"1\" inline=\"true\">\n  <pl_answer correct=\"false\">positive</pl_answer>\n  <pl_answer correct=\"true\">negative</pl_answer>\n  <pl_answer correct=\"false\">zero</pl_answer>\n</pl_multiple_choice>",
                          2,
                          {
                              "score": 0,
                              "params": {
                                  "acc": [
                                      {
                                          "key": "a",
                                          "html": "negative"
                                      },
                                      {
                                          "key": "b",
                                          "html": "zero"
                                      },
                                      {
                                          "key": "c",
                                          "html": "positive"
                                      }
                                  ],
                                  "vpos": [
                                      {
                                          "key": "a",
                                          "html": "A-B"
                                      },
                                      {
                                          "key": "b",
                                          "html": "               C-D"
                                      },
                                      {
                                          "key": "c",
                                          "html": "               F-G"
                                      },
                                      {
                                          "key": "d",
                                          "html": "B-C"
                                      },
                                      {
                                          "key": "e",
                                          "html": "               E-F"
                                      },
                                      {
                                          "key": "f",
                                          "html": "D-E"
                                      }
                                  ],
                                  "v_comp": [
                                      {
                                          "key": "a",
                                          "html": "$v(B) > v(C)$"
                                      },
                                      {
                                          "key": "b",
                                          "html": "$v(B) = v(C)$"
                                      },
                                      {
                                          "key": "c",
                                          "html": "$v(B) < v(C)$"
                                      }
                                  ],
                                  "speed_change": [
                                      {
                                          "key": "a",
                                          "html": "speeding up"
                                      },
                                      {
                                          "key": "b",
                                          "html": "slowing down"
                                      },
                                      {
                                          "key": "c",
                                          "html": "neither speeding up nor slowing down"
                                      }
                                  ]
                              },
                              "options": {},
                              "feedback": {},
                              "gradable": true,
                              "variant_seed": 2229935818,
                              "format_errors": {},
                              "partial_scores": {
                                  "vpos": {
                                      "score": 0,
                                      "weight": 1
                                  }
                              },
                              "correct_answers": {
                                  "acc": {
                                      "key": "a",
                                      "html": "negative"
                                  },
                                  "vpos": [
                                      {
                                          "key": "a",
                                          "html": "A-B"
                                      },
                                      {
                                          "key": "d",
                                          "html": "B-C"
                                      },
                                      {
                                          "key": "f",
                                          "html": "D-E"
                                      }
                                  ],
                                  "v_avg": 0.8,
                                  "v_comp": {
                                      "key": "a",
                                      "html": "$v(B) > v(C)$"
                                  },
                                  "speed_change": {
                                      "key": "a",
                                      "html": "speeding up"
                                  }
                              },
                              "raw_submitted_answers": {
                                  "vpos": [
                                      "c",
                                      "d",
                                      "e",
                                      "f"
                                  ]
                              }
                          }
                      ],
                      "file": "pl_multiple_choice",
                      "paths": [
                          "/Users/fengyichen/pldev/newfolder/PrairieLearn/question-servers/freeformPythonLib"
                      ]
                  },
                  "outputStderr": "Traceback (most recent call last):\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/lib/python-caller-trampoline.py\", line 59, in <module>\n    val = method(*args)\n  File \"/Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py\", line 201, in test\n    result = random.choices(['correct', 'incorrect', 'invalid'], [5, 5, 1])[0]\nAttributeError: module 'random' has no attribute 'choices'\n",
                  "outputStdout": "",
                  "callbackIsNull": false,
                  "timeoutIDIsNull": true
              }
          },
          "course_id": "1",
          "course_instance_id": null,
          "question_id": "19",
          "assessment_id": null,
          "authn_user_id": "1",
          "user_id": "1",
          "variant_id": "14",
          "open": true,
          "instructor_message": "Error: /Users/fengyichen/pldev/newfolder/PrairieLearn/elements/pl_multiple_choice/pl_multiple_choice.py: Error calling test(): Error: PythonCaller child process exited unexpectedly, code = 1, signal = null",
          "instance_question_id": null,
          "manually_reported": false,
          "qiid": null,
          "number": null,
          "variant_seed": "10vn9hm",
          "params": {
              "acc": {
                  "key": "a",
                  "html": "negative"
              },
              "vpos": [
                  {
                      "key": "a",
                      "html": "A-B"
                  },
                  {
                      "key": "d",
                      "html": "B-C"
                  },
                  {
                      "key": "f",
                      "html": "D-E"
                  }
              ],
              "v_avg": 0.8,
              "v_comp": {
                  "key": "a",
                  "html": "$v(B) > v(C)$"
              },
              "speed_change": {
                  "key": "a",
                  "html": "speeding up"
              }
          },
          "true_answer": null,
          "options": {},
          "duration": {},
          "first_duration": {},
          "broken": false,
          "num_tries": 1
      },
      {
          "id": "14",
          "display_id": "775588",
          "date": "2017-11-14T16:35:54.217Z",
          "course_caused": true,
          "student_message": "Question test failure",
          "course_data": {
              "course": {
                  "id": 1,
                  "path": "/Users/fengyichen/pldev/newfolder/PrairieLearn/exampleCourse",
                  "title": "Example Course",
                  "options": null,
                  "deleted_at": null,
                  "repository": null,
                  "short_name": "TPL 101",
                  "grading_queue": "tpl101",
                  "display_timezone": "America/Chicago"
              },
              "variant": {
                  "id": "14",
                  "date": "2017-11-14T16:35:54.217Z",
                  "open": true,
                  "qiid": null,
                  "broken": false,
                  "number": null,
                  "params": {
                      "acc": [
                          {
                              "key": "a",
                              "html": "negative"
                          },
                          {
                              "key": "b",
                              "html": "zero"
                          },
                          {
                              "key": "c",
                              "html": "positive"
                          }
                      ],
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "b",
                              "html": "               C-D"
                          },
                          {
                              "key": "c",
                              "html": "               F-G"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "e",
                              "html": "               E-F"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_comp": [
                          {
                              "key": "a",
                              "html": "$v(B) > v(C)$"
                          },
                          {
                              "key": "b",
                              "html": "$v(B) = v(C)$"
                          },
                          {
                              "key": "c",
                              "html": "$v(B) < v(C)$"
                          }
                      ],
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "speeding up"
                          },
                          {
                              "key": "b",
                              "html": "slowing down"
                          },
                          {
                              "key": "c",
                              "html": "neither speeding up nor slowing down"
                          }
                      ]
                  },
                  "options": {},
                  "user_id": "1",
                  "duration": {},
                  "num_tries": 0,
                  "question_id": "19",
                  "true_answer": {
                      "acc": {
                          "key": "a",
                          "html": "negative"
                      },
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_avg": 0.8,
                      "v_comp": {
                          "key": "a",
                          "html": "$v(B) > v(C)$"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "speeding up"
                      }
                  },
                  "variant_seed": "10vn9hm",
                  "authn_user_id": "1",
                  "first_duration": null,
                  "instance_question_id": null
              },
              "question": {
                  "id": 19,
                  "qid": "positionTimeGraph",
                  "type": "Freeform",
                  "uuid": "7c4ccac6-1031-43ed-a673-feb64c2f8bbf",
                  "title": "Understanding motion from a position-time graph",
                  "number": 496,
                  "options": null,
                  "topic_id": 3,
                  "course_id": 1,
                  "directory": "positionTimeGraph",
                  "deleted_at": null,
                  "client_files": [
                      "client.js",
                      "question.html",
                      "answer.html"
                  ],
                  "grading_method": "Internal",
                  "partial_credit": true,
                  "single_variant": false,
                  "template_directory": null,
                  "external_grading_files": null,
                  "external_grading_image": null,
                  "external_grading_enabled": null,
                  "external_grading_timeout": null,
                  "external_grading_entrypoint": null
              },
              "test_submission": {
                  "id": "14",
                  "sid": null,
                  "date": "2017-11-14T16:35:54.217Z",
                  "mode": null,
                  "score": null,
                  "broken": false,
                  "credit": null,
                  "params": {
                      "acc": {
                          "key": "a",
                          "html": "negative"
                      },
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_avg": 0.8,
                      "v_comp": {
                          "key": "a",
                          "html": "$v(B) > v(C)$"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "speeding up"
                      }
                  },
                  "correct": null,
                  "duration": {},
                  "feedback": null,
                  "gradable": false,
                  "v2_score": null,
                  "graded_at": null,
                  "variant_id": "14",
                  "true_answer": null,
                  "auth_user_id": "1",
                  "format_errors": {
                      "acc": "No submitted answer.",
                      "v_avg": "No submitted answer.",
                      "v_comp": "No submitted answer.",
                      "speed_change": "No submitted answer."
                  },
                  "grading_method": null,
                  "override_score": null,
                  "partial_scores": null,
                  "submitted_answer": {
                      "vpos": [
                          "c",
                          "d",
                          "e",
                          "f"
                      ],
                      "v_avg": null
                  },
                  "grading_requested_at": null,
                  "raw_submitted_answer": {
                      "vpos": [
                          "c",
                          "d",
                          "e",
                          "f"
                      ]
                  }
              },
              "expected_submission": {
                  "id": "13",
                  "sid": null,
                  "date": "2017-11-14T16:35:54.217Z",
                  "mode": null,
                  "score": 0,
                  "broken": true,
                  "credit": null,
                  "params": {
                      "acc": [
                          {
                              "key": "a",
                              "html": "negative"
                          },
                          {
                              "key": "b",
                              "html": "zero"
                          },
                          {
                              "key": "c",
                              "html": "positive"
                          }
                      ],
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "b",
                              "html": "               C-D"
                          },
                          {
                              "key": "c",
                              "html": "               F-G"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "e",
                              "html": "               E-F"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_comp": [
                          {
                              "key": "a",
                              "html": "$v(B) > v(C)$"
                          },
                          {
                              "key": "b",
                              "html": "$v(B) = v(C)$"
                          },
                          {
                              "key": "c",
                              "html": "$v(B) < v(C)$"
                          }
                      ],
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "speeding up"
                          },
                          {
                              "key": "b",
                              "html": "slowing down"
                          },
                          {
                              "key": "c",
                              "html": "neither speeding up nor slowing down"
                          }
                      ]
                  },
                  "correct": false,
                  "duration": {},
                  "feedback": {},
                  "gradable": false,
                  "v2_score": null,
                  "graded_at": "2017-11-14T16:35:54.217Z",
                  "variant_id": "14",
                  "true_answer": {
                      "acc": {
                          "key": "a",
                          "html": "negative"
                      },
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_avg": 0.8,
                      "v_comp": {
                          "key": "a",
                          "html": "$v(B) > v(C)$"
                      },
                      "speed_change": {
                          "key": "a",
                          "html": "speeding up"
                      }
                  },
                  "auth_user_id": "1",
                  "format_errors": {},
                  "grading_method": "Internal",
                  "override_score": null,
                  "partial_scores": {
                      "vpos": {
                          "score": 0,
                          "weight": 1
                      }
                  },
                  "submitted_answer": {
                      "acc": [
                          {
                              "key": "a",
                              "html": "negative"
                          },
                          {
                              "key": "b",
                              "html": "zero"
                          },
                          {
                              "key": "c",
                              "html": "positive"
                          }
                      ],
                      "vpos": [
                          {
                              "key": "a",
                              "html": "A-B"
                          },
                          {
                              "key": "b",
                              "html": "               C-D"
                          },
                          {
                              "key": "c",
                              "html": "               F-G"
                          },
                          {
                              "key": "d",
                              "html": "B-C"
                          },
                          {
                              "key": "e",
                              "html": "               E-F"
                          },
                          {
                              "key": "f",
                              "html": "D-E"
                          }
                      ],
                      "v_comp": [
                          {
                              "key": "a",
                              "html": "$v(B) > v(C)$"
                          },
                          {
                              "key": "b",
                              "html": "$v(B) = v(C)$"
                          },
                          {
                              "key": "c",
                              "html": "$v(B) < v(C)$"
                          }
                      ],
                      "speed_change": [
                          {
                              "key": "a",
                              "html": "speeding up"
                          },
                          {
                              "key": "b",
                              "html": "slowing down"
                          },
                          {
                              "key": "c",
                              "html": "neither speeding up nor slowing down"
                          }
                      ]
                  },
                  "grading_requested_at": null,
                  "raw_submitted_answer": {
                      "vpos": [
                          "c",
                          "d",
                          "e",
                          "f"
                      ]
                  }
              }
          },
          "system_data": {
          },
          "course_id": "1",
          "course_instance_id": null,
          "question_id": "19",
          "assessment_id": null,
          "authn_user_id": "1",
          "user_id": "1",
          "variant_id": "14",
          "open": true,
          "instructor_message": "Error: expected_submission is broken, skipping tests",
          "instance_question_id": null,
          "manually_reported": false,
          "qiid": null,
          "number": null,
          "variant_seed": "10vn9hm",
          "params": {
              "acc": {
                  "key": "a",
                  "html": "negative"
              },
              "vpos": [
                  {
                      "key": "a",
                      "html": "A-B"
                  },
                  {
                      "key": "d",
                      "html": "B-C"
                  },
                  {
                      "key": "f",
                      "html": "D-E"
                  }
              ],
              "v_avg": 0.8,
              "v_comp": {
                  "key": "a",
                  "html": "$v(B) > v(C)$"
              },
              "speed_change": {
                  "key": "a",
                  "html": "speeding up"
              }
          },
          "true_answer": null,
          "options": {},
          "duration": {},
          "first_duration": {},
          "broken": false,
          "num_tries": 1
      }
  ]
      at sqldb.query (tests/helperQuestion.js:1:79766)
      at Query.<anonymous> (lib/sqldb.js:11:1980)
      at Query.handleReadyForQuery (node_modules/pg/lib/query.js:124:10)
      at Connection.<anonymous> (node_modules/pg/lib/client.js:172:19)
      at Socket.<anonymous> (node_modules/pg/lib/connection.js:136:12)
      at addChunk (_stream_readable.js:266:12)
      at readableAddChunk (_stream_readable.js:253:11)
      at Socket.Readable.push (_stream_readable.js:211:10)
      at TCP.onread (net.js:587:20)



